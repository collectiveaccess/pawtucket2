<?php
/** ---------------------------------------------------------------------
 * themes/default/Front/front_page_html : Front page of site 
 * ----------------------------------------------------------------------
 * CollectiveAccess
 * Open-source collections management software
 * ----------------------------------------------------------------------
 *
 * Software by Whirl-i-Gig (http://www.whirl-i-gig.com)
 * Copyright 2013 Whirl-i-Gig
 *
 * For more information visit http://www.CollectiveAccess.org
 *
 * This program is free software; you may redistribute it and/or modify it under
 * the terms of the provided license as published by Whirl-i-Gig
 *
 * CollectiveAccess is distributed in the hope that it will be useful, but
 * WITHOUT ANY WARRANTIES whatsoever, including any implied warranty of 
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  
 *
 * This source code is free and modifiable under the terms of 
 * GNU General Public License. (http://www.gnu.org/copyleft/gpl.html). See
 * the "license.txt" file for details, or visit the CollectiveAccess web site at
 * http://www.CollectiveAccess.org
 *
 * @package CollectiveAccess
 * @subpackage Core
 * @license http://www.gnu.org/copyleft/gpl.html GNU Public License version 3
 *
 * ----------------------------------------------------------------------
 */
 
 $t_item = $this->getVar("item");
 $stops = $t_item->getStops($this->request, [
 	'bundles' => [
 		'ca_tour_stops.tour_stop_description',
 		'ca_tour_stops.date',
 		'ca_tour_stops.tour_stop_georeference'
 	]
 ]);
 
 
 // Generate slides
 $slides = [[
 		"type" => "overview",
		"date" => "",
 		"text" => [
 			"headline" => "Gesel's Journey",
 			"text" => 'Intro goes here'
 		]
 	]];
 foreach($stops as $stop) {
 	if(!strlen($stop['tour_stop_georeference'])) { continue; }
 	
 	$coordinates = preg_replace("/[\[\]]+/", "", $stop['tour_stop_georeference']);
 	$coord_bits = explode(',', $coordinates);
 	
 	$t_stop = new ca_tour_stops($stop['stop_id']);

	$t_object = $t_stop->getRelatedItems('ca_objects', ['returnAs' => 'firstModelInstance']);
	
	$media_url = $t_object ? $t_object->get('ca_object_representations.media.medium.url') : null;
	$media_caption = $t_object ? $t_object->get('ca_objects.preferred_labels.name') : null;
 	array_push($slides, [
		"date" => $stop['date'],
 		"text" => [
 			"headline" => $stop['name'],
 			"text" => $stop['tour_stop_description']
 		],
 		"media" => [             
        	"url" => $media_url,       // url for featured media
        	"caption" => $media_caption,  
        	"credit" => "",
		],
		"location" => [
 			"lat" => (float)$coord_bits[0],
 			"lon" => (float)$coord_bits[1],
			"line" => true,
 		],
 	]);
 }
 
 
 
 // Generate StoryMap Data
 $data = [
 	"width" => 600,
 	"height" => 800,
 	"calculate_zoom" => true,
 	"storymap" => [
 		"language" => "en",
 		"map_type" => "osm:standard",
 		"map_as_image" => false,
 		"slides" => $slides,
 	]
 ];
 
// print_R(json_encode($data));die;
 ?>
<main data-barba="container" data-barba-namespace="journey" class="barba-main-container journey-section">
	<div class="general-page">
		<div class="container">
			<div class="row justify-content-center">
				<h1 class="page-heading heading-size-2 ps-0"><?= $t_item->get('ca_tours.preferred_labels'); ?></h1>
				<div class="col-auto">
					<p class="page-content content-size-2 mb-5">
						<?= $t_item->get('ca_tours.tour_description'); ?>
					</p>
				</div>

				<!-- <iframe src="https://uploads.knightlab.com/storymapjs/0b74d90fd20a0d334c4cac057d9c9fec/gesels-journey/index.html" frameborder="0" width="100%" height="800"></iframe> -->

				<button type="button" onclick="openmodal()" style="padding: 10px; font-size: 20pt; width: auto;font-family:Forum,sans-serif;" class="btn btn-light btn-lg mt-4" data-bs-toggle="modal" data-bs-target="#journeyModal">
					View {{{^ca_tours.preferred_labels}}}
				</button>

				<div class="modal" style="margin:0px !important; top: -30px !important;" id="journeyModal" tabindex="-1" aria-labelledby="journeyModalLabel" aria-hidden="true">
					<div class="modal-dialog modal-dialog-centered" style="position: unset; max-width: unset;">
						<div class="modal-content">
							<div class="modal-header">
								<h1 class="modal-title" id="journeyModalLabel" style="color: #000;font-family:Forum,sans-serif;">{{{^ca_tours.preferred_labels}}}</h1>
								<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
							</div>
							<div class="modal-body">
								<div id="mapdiv" style="width: 100%; height: 80vh;"></div>
							</div>
						</div>
					</div>
				</div>

				<script>
					// Variable to track whether the script has already run
					var scriptExecuted = false;

					function openmodal() {
						if (!scriptExecuted) {
							runScript();
							scriptExecuted = true;
						}
					}

					function runScript() {
						var storymap_data = <?= json_encode($data); ?>;
						var storymap_options = {};
						var storymap = new KLStoryMap.StoryMap('mapdiv', storymap_data, storymap_options);
						window.onresize = function(event) {
							storymap.updateDisplay();
						}
					}
				</script>
			</div>
		</div>
		<div class="nb-graphic position-fixed" style="right: 0; top:10px;">
			<svg width="420" height="153" viewBox="0 0 420 153" fill="none" xmlns="http://www.w3.org/2000/svg">
				<mask id="path-1-outside-1_408_1718" maskUnits="userSpaceOnUse" x="-1" y="-1" width="538" height="155" fill="black">
					<rect fill="white" x="-1" y="-1" width="538" height="155"/>
					<path d="M20.44 114.8C14.84 114.8 10.1733 113.587 6.44 111.16C2.8 108.733 0.98 105.187 0.98 100.52C0.98 97.44 1.82 94.9667 3.5 93.1C5.27333 91.14 7.56 90.16 10.36 90.16C12.6 90.16 14.3733 90.7667 15.68 91.98C16.9867 93.1933 17.8733 94.5 18.34 95.9C18.9 97.2067 19.18 98.0467 19.18 98.42C16.4733 100.38 15.12 102.667 15.12 105.28C15.12 107.053 15.68 108.547 16.8 109.76C17.92 110.973 19.46 111.58 21.42 111.58C24.4067 111.58 26.74 109.573 28.42 105.56C30.1933 101.453 31.08 94.4067 31.08 84.42V5.03999L18.2 3.07999V-1.66893e-06H58.8V3.07999L45.92 5.03999V84.42C45.92 90.9533 45.2667 96.4133 43.96 100.8C42.7467 105.093 40.2733 108.5 36.54 111.02C32.8067 113.54 27.44 114.8 20.44 114.8ZM100.796 113.4C94.0756 113.4 87.9623 111.86 82.4556 108.78C76.949 105.607 72.5623 101.173 69.2956 95.48C66.1223 89.6933 64.5356 83.1133 64.5356 75.74C64.5356 68.3667 66.1223 61.8333 69.2956 56.14C72.5623 50.4467 76.949 46.06 82.4556 42.98C87.9623 39.8067 94.0756 38.22 100.796 38.22C107.516 38.22 113.629 39.8067 119.136 42.98C124.642 46.06 128.982 50.4467 132.156 56.14C135.422 61.8333 137.056 68.3667 137.056 75.74C137.056 83.1133 135.422 89.6933 132.156 95.48C128.982 101.173 124.642 105.607 119.136 108.78C113.629 111.86 107.516 113.4 100.796 113.4ZM100.796 110.32C107.702 110.32 112.882 107.8 116.336 102.76C119.882 97.72 121.656 91.0467 121.656 82.74V68.74C121.656 60.4333 119.882 53.8067 116.336 48.86C112.882 43.82 107.702 41.3 100.796 41.3C93.889 41.3 88.6623 43.82 85.1156 48.86C81.6623 53.8067 79.9356 60.4333 79.9356 68.74V82.74C79.9356 91.0467 81.6623 97.72 85.1156 102.76C88.6623 107.8 93.889 110.32 100.796 110.32ZM176.888 113.4C170.168 113.4 164.848 111.72 160.928 108.36C157.101 105 155.188 100.007 155.188 93.38V43.68L145.388 42.28V39.48H169.188V93.1C169.188 97.86 170.168 101.593 172.128 104.3C174.088 107.007 177.121 108.36 181.228 108.36C185.521 108.36 189.628 106.96 193.548 104.16C197.561 101.267 201.108 97.72 204.188 93.52V43.68L194.388 42.28V39.48H218.188V107.8L227.988 109.2V112H204.188V98.56C200.828 103.227 196.768 106.867 192.008 109.48C187.341 112.093 182.301 113.4 176.888 113.4ZM235.245 109.2L245.045 107.8V43.68L235.245 42.28V39.48H259.045V50.26C264.925 42.2333 271.552 38.22 278.925 38.22C282.472 38.22 285.598 39.1533 288.305 41.02C291.012 42.7933 292.365 45.36 292.365 48.72C292.365 51.1467 291.572 53.2 289.985 54.88C288.398 56.4667 286.298 57.26 283.685 57.26C280.698 57.26 278.272 56.0933 276.405 53.76C277.432 52.4533 277.945 51.0533 277.945 49.56C277.945 47.9733 277.385 46.7133 276.265 45.78C275.238 44.7533 273.838 44.24 272.065 44.24C270.105 44.24 268.098 45.1733 266.045 47.04C263.992 48.8133 261.658 51.6133 259.045 55.44V107.8L270.245 109.2V112H235.245V109.2ZM297.178 109.2L306.978 107.8V43.68L297.178 42.28V39.48H320.978V54.6C324.432 49.56 328.492 45.5933 333.158 42.7C337.825 39.7133 342.865 38.22 348.278 38.22C354.998 38.22 360.272 39.9 364.098 43.26C368.018 46.62 369.978 51.6133 369.978 58.24V107.8L379.778 109.2V112H347.578V109.2L355.978 107.8V58.52C355.978 53.6667 354.998 49.9333 353.038 47.32C351.078 44.6133 348.045 43.26 343.938 43.26C339.645 43.26 335.492 44.8467 331.478 48.02C327.558 51.1 324.058 54.9267 320.978 59.5V107.8L329.378 109.2V112H297.178V109.2ZM425.246 113.4C418.339 113.4 412.086 111.86 406.486 108.78C400.886 105.607 396.452 101.173 393.186 95.48C389.919 89.7867 388.286 83.2067 388.286 75.74C388.286 68.2733 389.872 61.74 393.046 56.14C396.312 50.4467 400.652 46.06 406.066 42.98C411.572 39.8067 417.686 38.22 424.406 38.22C430.286 38.22 435.559 39.5267 440.226 42.14C444.892 44.7533 448.532 48.3933 451.146 53.06C453.759 57.6333 455.112 62.9067 455.206 68.88H403.686V82.74C403.686 90.9533 405.506 97.6267 409.146 102.76C412.879 107.8 418.246 110.32 425.246 110.32C431.686 110.32 437.379 108.5 442.326 104.86C447.272 101.22 450.306 96.5067 451.426 90.72H454.646C453.339 97.6267 450.026 103.133 444.706 107.24C439.386 111.347 432.899 113.4 425.246 113.4ZM439.806 65.38C439.806 57.26 438.546 51.24 436.026 47.32C433.506 43.3067 429.586 41.3 424.266 41.3C418.012 41.3 413.159 43.4933 409.706 47.88C406.252 52.2667 404.292 58.1 403.826 65.38H439.806ZM475.895 152.88C471.042 152.88 467.122 151.667 464.135 149.24C461.148 146.813 459.655 143.547 459.655 139.44C459.655 136.64 460.448 134.353 462.035 132.58C463.715 130.9 465.768 130.06 468.195 130.06C469.968 130.06 471.555 130.433 472.955 131.18C474.355 131.927 475.475 133.047 476.315 134.54C474.915 136.5 474.215 138.553 474.215 140.7C474.215 142.567 474.822 144.107 476.035 145.32C477.248 146.533 478.788 147.14 480.655 147.14C482.895 147.14 484.808 146.393 486.395 144.9C488.075 143.407 489.568 140.793 490.875 137.06L499.275 112.98L466.795 43.82L457.415 42.42V39.62H492.275V42.42L482.475 44.1L505.855 94.08L522.515 45.92L510.475 42.42V39.62H535.675V42.42L526.155 45.92L494.795 137.06C492.835 142.567 490.455 146.58 487.655 149.1C484.948 151.62 481.028 152.88 475.895 152.88Z"/>
				</mask>
				<path d="M6.44 111.16L5.88526 111.992L5.89501 111.998L6.44 111.16ZM3.5 93.1L2.75846 92.4291L2.75671 92.431L3.5 93.1ZM15.68 91.98L16.3605 91.2472L15.68 91.98ZM18.34 95.9L17.3913 96.2162L17.4045 96.2557L17.4209 96.2939L18.34 95.9ZM19.18 98.42L19.7665 99.2299L20.18 98.9305V98.42H19.18ZM16.8 109.76L17.5348 109.082L16.8 109.76ZM28.42 105.56L27.5019 105.164L27.4976 105.174L28.42 105.56ZM31.08 5.03999H32.08V4.18065L31.2304 4.05137L31.08 5.03999ZM18.2 3.07999H17.2V3.93933L18.0496 4.06861L18.2 3.07999ZM18.2 -1.90735e-06V-1H17.2V-1.90735e-06H18.2ZM58.8 -1.90735e-06H59.8V-1H58.8V-1.90735e-06ZM58.8 3.07999L58.9504 4.06861L59.8 3.93933V3.07999H58.8ZM45.92 5.03999L45.7696 4.05137L44.92 4.18065V5.03999H45.92ZM43.96 100.8L43.0015 100.514L42.9977 100.528L43.96 100.8ZM36.54 111.02L35.9805 110.191L36.54 111.02ZM20.44 113.8C14.9838 113.8 10.5189 112.619 6.98499 110.322L5.89501 111.998C9.82773 114.555 14.6962 115.8 20.44 115.8V113.8ZM6.9947 110.328C3.65429 108.101 1.98 104.879 1.98 100.52H-0.02C-0.02 105.494 1.94571 109.366 5.8853 111.992L6.9947 110.328ZM1.98 100.52C1.98 97.6285 2.76392 95.4127 4.24329 93.769L2.75671 92.431C0.876081 94.5206 -0.02 97.2515 -0.02 100.52H1.98ZM4.24154 93.7709C5.81295 92.0341 7.82365 91.16 10.36 91.16V89.16C7.29635 89.16 4.73371 90.2459 2.75846 92.4291L4.24154 93.7709ZM10.36 91.16C12.415 91.16 13.922 91.7122 14.9995 92.7128L16.3605 91.2472C14.8247 89.8212 12.785 89.16 10.36 89.16V91.16ZM14.9995 92.7128C16.2087 93.8356 16.9877 95.0054 17.3913 96.2162L19.2887 95.5838C18.759 93.9946 17.7646 92.551 16.3605 91.2472L14.9995 92.7128ZM17.4209 96.2939C17.6956 96.935 17.8937 97.4433 18.0213 97.8262C18.0851 98.0176 18.1275 98.1664 18.1531 98.2774C18.1808 98.3972 18.18 98.4358 18.18 98.42H20.18C20.18 98.0549 20.0588 97.6142 19.9187 97.1938C19.7663 96.7367 19.5444 96.1717 19.2591 95.5061L17.4209 96.2939ZM18.5935 97.6101C15.7073 99.7001 14.12 102.258 14.12 105.28H16.12C16.12 103.075 17.2394 101.06 19.7665 99.2299L18.5935 97.6101ZM14.12 105.28C14.12 107.284 14.7614 109.026 16.0652 110.438L17.5348 109.082C16.5986 108.068 16.12 106.822 16.12 105.28H14.12ZM16.0652 110.438C17.4099 111.895 19.2377 112.58 21.42 112.58V110.58C19.6823 110.58 18.4301 110.052 17.5348 109.082L16.0652 110.438ZM21.42 112.58C24.9882 112.58 27.5898 110.133 29.3424 105.946L27.4976 105.174C25.8902 109.014 23.8251 110.58 21.42 110.58V112.58ZM29.3381 105.956C31.1998 101.645 32.08 94.4157 32.08 84.42H30.08C30.08 94.3976 29.1869 101.262 27.5019 105.164L29.3381 105.956ZM32.08 84.42V5.03999H30.08V84.42H32.08ZM31.2304 4.05137L18.3504 2.09137L18.0496 4.06861L30.9296 6.02861L31.2304 4.05137ZM19.2 3.07999V-1.90735e-06H17.2V3.07999H19.2ZM18.2 0.999998H58.8V-1H18.2V0.999998ZM57.8 -1.90735e-06V3.07999H59.8V-1.90735e-06H57.8ZM58.6496 2.09137L45.7696 4.05137L46.0704 6.02861L58.9504 4.06861L58.6496 2.09137ZM44.92 5.03999V84.42H46.92V5.03999H44.92ZM44.92 84.42C44.92 90.8943 44.2717 96.2507 43.0016 100.515L44.9184 101.085C46.2617 96.5759 46.92 91.0124 46.92 84.42H44.92ZM42.9977 100.528C41.8493 104.592 39.5201 107.802 35.9805 110.191L37.0995 111.849C41.0266 109.198 43.644 105.595 44.9223 101.072L42.9977 100.528ZM35.9805 110.191C32.4807 112.554 27.343 113.8 20.44 113.8V115.8C27.537 115.8 33.1326 114.526 37.0995 111.849L35.9805 110.191ZM82.4556 108.78L81.9563 109.646L81.9675 109.653L82.4556 108.78ZM69.2956 95.48L68.4188 95.9608L68.4235 95.9693L68.4283 95.9777L69.2956 95.48ZM69.2956 56.14L68.4282 55.6423L68.4221 55.6531L69.2956 56.14ZM82.4556 42.98L82.9438 43.8528L82.9549 43.8464L82.4556 42.98ZM119.136 42.98L118.636 43.8465L118.647 43.8528L119.136 42.98ZM132.156 56.14L131.282 56.6269L131.288 56.6377L132.156 56.14ZM132.156 95.48L131.285 94.9884L131.282 94.9931L132.156 95.48ZM119.136 108.78L119.624 109.653L119.635 109.646L119.136 108.78ZM116.336 102.76L115.518 102.184L115.511 102.195L116.336 102.76ZM116.336 48.86L115.511 49.4252L115.517 49.434L115.523 49.4427L116.336 48.86ZM85.1156 48.86L84.2978 48.2845L84.2957 48.2876L85.1156 48.86ZM85.1156 102.76L84.2906 103.325L84.2978 103.335L85.1156 102.76ZM100.796 112.4C94.2351 112.4 88.2916 110.898 82.9438 107.907L81.9675 109.653C87.633 112.822 93.9162 114.4 100.796 114.4V112.4ZM82.9549 107.914C77.6065 104.831 73.3447 100.528 70.163 94.9823L68.4283 95.9777C71.7799 101.819 76.2914 106.382 81.9563 109.646L82.9549 107.914ZM70.1724 94.9992C67.0891 89.3765 65.5356 82.9653 65.5356 75.74H63.5356C63.5356 83.2614 65.1555 90.0101 68.4188 95.9608L70.1724 94.9992ZM65.5356 75.74C65.5356 68.5144 67.0891 62.1527 70.1691 56.6269L68.4221 55.6531C65.1554 61.514 63.5356 68.219 63.5356 75.74H65.5356ZM70.163 56.6377C73.3433 51.0948 77.6017 46.8407 82.9438 43.8528L81.9675 42.1072C76.2962 45.2793 71.7812 49.7986 68.4283 55.6423L70.163 56.6377ZM82.9549 43.8464C88.3009 40.7657 94.2405 39.22 100.796 39.22V37.22C93.9108 37.22 87.6236 38.8477 81.9563 42.1136L82.9549 43.8464ZM100.796 39.22C107.351 39.22 113.29 40.7657 118.636 43.8464L119.635 42.1136C113.968 38.8477 107.68 37.22 100.796 37.22V39.22ZM118.647 43.8528C123.987 46.8392 128.196 51.0898 131.282 56.6269L133.029 55.6531C129.769 49.8036 125.298 45.2808 119.624 42.1072L118.647 43.8528ZM131.288 56.6377C134.458 62.1616 136.056 68.5193 136.056 75.74H138.056C138.056 68.214 136.387 61.5051 133.023 55.6423L131.288 56.6377ZM136.056 75.74C136.056 82.9604 134.458 89.3677 131.285 94.9884L133.026 95.9716C136.387 90.019 138.056 83.2663 138.056 75.74H136.056ZM131.282 94.9931C128.195 100.533 123.982 104.833 118.636 107.914L119.635 109.646C125.303 106.38 129.77 101.814 133.029 95.9669L131.282 94.9931ZM118.647 107.907C113.3 110.898 107.356 112.4 100.796 112.4V114.4C107.675 114.4 113.958 112.822 119.624 109.653L118.647 107.907ZM100.796 111.32C107.982 111.32 113.494 108.676 117.161 103.325L115.511 102.195C112.27 106.924 107.423 109.32 100.796 109.32V111.32ZM117.153 103.335C120.854 98.0774 122.656 91.1823 122.656 82.74H120.656C120.656 90.911 118.911 97.3626 115.518 102.185L117.153 103.335ZM122.656 82.74V68.74H120.656V82.74H122.656ZM122.656 68.74C122.656 60.299 120.854 53.4459 117.148 48.2773L115.523 49.4427C118.911 54.1675 120.656 60.5677 120.656 68.74H122.656ZM117.161 48.2948C113.494 42.9438 107.982 40.3 100.796 40.3V42.3C107.423 42.3 112.27 44.6962 115.511 49.4252L117.161 48.2948ZM100.796 40.3C93.6091 40.3 88.0566 42.9431 84.2978 48.2845L85.9334 49.4355C89.268 44.6969 94.1688 42.3 100.796 42.3V40.3ZM84.2957 48.2876C80.6884 53.4547 78.9356 60.3037 78.9356 68.74H80.9356C80.9356 60.5629 82.6361 54.1586 85.9356 49.4324L84.2957 48.2876ZM78.9356 68.74V82.74H80.9356V68.74H78.9356ZM78.9356 82.74C78.9356 91.1776 80.689 98.0686 84.2907 103.325L85.9406 102.195C82.6356 97.3714 80.9356 90.9157 80.9356 82.74H78.9356ZM84.2978 103.335C88.0566 108.677 93.6091 111.32 100.796 111.32V109.32C94.1688 109.32 89.268 106.923 85.9334 102.185L84.2978 103.335ZM160.928 108.36L160.268 109.111L160.277 109.119L160.928 108.36ZM155.188 43.68H156.188V42.8127L155.329 42.69L155.188 43.68ZM145.388 42.28H144.388V43.1473L145.246 43.2699L145.388 42.28ZM145.388 39.48V38.48H144.388V39.48H145.388ZM169.188 39.48H170.188V38.48H169.188V39.48ZM172.128 104.3L171.318 104.887L172.128 104.3ZM193.548 104.16L194.129 104.974L194.133 104.971L193.548 104.16ZM204.188 93.52L204.994 94.1114L205.188 93.8474V93.52H204.188ZM204.188 43.68H205.188V42.8127L204.329 42.69L204.188 43.68ZM194.388 42.28H193.388V43.1473L194.246 43.2699L194.388 42.28ZM194.388 39.48V38.48H193.388V39.48H194.388ZM218.188 39.48H219.188V38.48H218.188V39.48ZM218.188 107.8H217.188V108.667L218.046 108.79L218.188 107.8ZM227.988 109.2H228.988V108.333L228.129 108.21L227.988 109.2ZM227.988 112V113H228.988V112H227.988ZM204.188 112H203.188V113H204.188V112ZM204.188 98.56H205.188V95.4597L203.376 97.9757L204.188 98.56ZM192.008 109.48L191.527 108.603L191.519 108.607L192.008 109.48ZM176.888 112.4C170.333 112.4 165.269 110.764 161.579 107.601L160.277 109.119C164.427 112.676 170.002 114.4 176.888 114.4V112.4ZM161.588 107.609C158.038 104.492 156.188 99.8112 156.188 93.38H154.188C154.188 100.202 156.164 105.508 160.268 109.111L161.588 107.609ZM156.188 93.38V43.68H154.188V93.38H156.188ZM155.329 42.69L145.529 41.29L145.246 43.2699L155.046 44.6699L155.329 42.69ZM146.388 42.28V39.48H144.388V42.28H146.388ZM145.388 40.48H169.188V38.48H145.388V40.48ZM168.188 39.48V93.1H170.188V39.48H168.188ZM168.188 93.1C168.188 97.9843 169.192 101.951 171.318 104.887L172.938 103.713C171.144 101.236 170.188 97.7357 170.188 93.1H168.188ZM171.318 104.887C173.51 107.913 176.883 109.36 181.228 109.36V107.36C177.359 107.36 174.666 106.1 172.938 103.713L171.318 104.887ZM181.228 109.36C185.755 109.36 190.061 107.879 194.129 104.974L192.967 103.346C189.195 106.041 185.288 107.36 181.228 107.36V109.36ZM194.133 104.971C198.235 102.013 201.856 98.3913 204.994 94.1114L203.381 92.9286C200.36 97.0487 196.887 100.52 192.963 103.349L194.133 104.971ZM205.188 93.52V43.68H203.188V93.52H205.188ZM204.329 42.69L194.529 41.29L194.246 43.2699L204.046 44.6699L204.329 42.69ZM195.388 42.28V39.48H193.388V42.28H195.388ZM194.388 40.48H218.188V38.48H194.388V40.48ZM217.188 39.48V107.8H219.188V39.48H217.188ZM218.046 108.79L227.846 110.19L228.129 108.21L218.329 106.81L218.046 108.79ZM226.988 109.2V112H228.988V109.2H226.988ZM227.988 111H204.188V113H227.988V111ZM205.188 112V98.56H203.188V112H205.188ZM203.376 97.9757C200.098 102.529 196.148 106.066 191.527 108.603L192.489 110.357C197.387 107.667 201.558 103.924 204.999 99.1443L203.376 97.9757ZM191.519 108.607C187.004 111.136 182.132 112.4 176.888 112.4V114.4C182.47 114.4 187.679 113.05 192.496 110.353L191.519 108.607ZM235.245 109.2L235.103 108.21L234.245 108.333V109.2H235.245ZM245.045 107.8L245.186 108.79L246.045 108.667V107.8H245.045ZM245.045 43.68H246.045V42.8127L245.186 42.69L245.045 43.68ZM235.245 42.28H234.245V43.1473L235.103 43.2699L235.245 42.28ZM235.245 39.48V38.48H234.245V39.48H235.245ZM259.045 39.48H260.045V38.48H259.045V39.48ZM259.045 50.26H258.045V53.3172L259.852 50.851L259.045 50.26ZM288.305 41.02L287.737 41.8432L287.747 41.8499L287.757 41.8565L288.305 41.02ZM289.985 54.88L290.692 55.5871L290.702 55.577L290.712 55.5666L289.985 54.88ZM276.405 53.76L275.619 53.1422L275.129 53.7656L275.624 54.3847L276.405 53.76ZM276.265 45.78L275.558 46.4871L275.59 46.5192L275.625 46.5482L276.265 45.78ZM266.045 47.04L266.698 47.7968L266.708 47.7885L266.718 47.7799L266.045 47.04ZM259.045 55.44L258.219 54.876L258.045 55.1311V55.44H259.045ZM259.045 107.8H258.045V108.683L258.921 108.792L259.045 107.8ZM270.245 109.2H271.245V108.317L270.369 108.208L270.245 109.2ZM270.245 112V113H271.245V112H270.245ZM235.245 112H234.245V113H235.245V112ZM235.386 110.19L245.186 108.79L244.903 106.81L235.103 108.21L235.386 110.19ZM246.045 107.8V43.68H244.045V107.8H246.045ZM245.186 42.69L235.386 41.29L235.103 43.2699L244.903 44.6699L245.186 42.69ZM236.245 42.28V39.48H234.245V42.28H236.245ZM235.245 40.48H259.045V38.48H235.245V40.48ZM258.045 39.48V50.26H260.045V39.48H258.045ZM259.852 50.851C265.615 42.984 271.974 39.22 278.925 39.22V37.22C271.129 37.22 264.235 41.4827 258.238 49.669L259.852 50.851ZM278.925 39.22C282.285 39.22 285.211 40.1008 287.737 41.8432L288.873 40.1968C285.986 38.2058 282.658 37.22 278.925 37.22V39.22ZM287.757 41.8565C290.169 43.4366 291.365 45.6816 291.365 48.72H293.365C293.365 45.0384 291.854 42.15 288.853 40.1835L287.757 41.8565ZM291.365 48.72C291.365 50.9054 290.66 52.709 289.258 54.1934L290.712 55.5666C292.483 53.691 293.365 51.3879 293.365 48.72H291.365ZM289.278 54.1729C287.91 55.5411 286.08 56.26 283.685 56.26V58.26C286.516 58.26 288.887 57.3922 290.692 55.5871L289.278 54.1729ZM283.685 56.26C281.002 56.26 278.863 55.2316 277.186 53.1353L275.624 54.3847C277.68 56.9551 280.394 58.26 283.685 58.26V56.26ZM277.191 54.3778C278.34 52.916 278.945 51.3027 278.945 49.56H276.945C276.945 50.8039 276.523 51.9907 275.619 53.1422L277.191 54.3778ZM278.945 49.56C278.945 47.7063 278.275 46.1534 276.905 45.0118L275.625 46.5482C276.495 47.2733 276.945 48.2403 276.945 49.56H278.945ZM276.972 45.0729C275.718 43.8187 274.041 43.24 272.065 43.24V45.24C273.635 45.24 274.759 45.688 275.558 46.4871L276.972 45.0729ZM272.065 43.24C269.769 43.24 267.533 44.3354 265.372 46.3001L266.718 47.7799C268.663 46.0113 270.44 45.24 272.065 45.24V43.24ZM265.391 46.2832C263.242 48.1391 260.852 51.0207 258.219 54.876L259.871 56.004C262.464 52.206 264.741 49.4876 266.698 47.7968L265.391 46.2832ZM258.045 55.44V107.8H260.045V55.44H258.045ZM258.921 108.792L270.121 110.192L270.369 108.208L259.169 106.808L258.921 108.792ZM269.245 109.2V112H271.245V109.2H269.245ZM270.245 111H235.245V113H270.245V111ZM236.245 112V109.2H234.245V112H236.245ZM297.178 109.2L297.037 108.21L296.178 108.333V109.2H297.178ZM306.978 107.8L307.12 108.79L307.978 108.667V107.8H306.978ZM306.978 43.68H307.978V42.8127L307.12 42.69L306.978 43.68ZM297.178 42.28H296.178V43.1473L297.037 43.2699L297.178 42.28ZM297.178 39.48V38.48H296.178V39.48H297.178ZM320.978 39.48H321.978V38.48H320.978V39.48ZM320.978 54.6H319.978V57.8286L321.803 55.1652L320.978 54.6ZM333.158 42.7L333.685 43.5499L333.691 43.5461L333.697 43.5423L333.158 42.7ZM364.098 43.26L363.439 44.0115L363.448 44.0193L364.098 43.26ZM369.978 107.8H368.978V108.667L369.837 108.79L369.978 107.8ZM379.778 109.2H380.778V108.333L379.92 108.21L379.778 109.2ZM379.778 112V113H380.778V112H379.778ZM347.578 112H346.578V113H347.578V112ZM347.578 109.2L347.414 108.214L346.578 108.353V109.2H347.578ZM355.978 107.8L356.143 108.786L356.978 108.647V107.8H355.978ZM353.038 47.32L352.228 47.9065L352.233 47.9133L352.238 47.92L353.038 47.32ZM331.478 48.02L332.096 48.8063L332.099 48.8044L331.478 48.02ZM320.978 59.5L320.149 58.9414L319.978 59.1947V59.5H320.978ZM320.978 107.8H319.978V108.647L320.814 108.786L320.978 107.8ZM329.378 109.2H330.378V108.353L329.543 108.214L329.378 109.2ZM329.378 112V113H330.378V112H329.378ZM297.178 112H296.178V113H297.178V112ZM297.32 110.19L307.12 108.79L306.837 106.81L297.037 108.21L297.32 110.19ZM307.978 107.8V43.68H305.978V107.8H307.978ZM307.12 42.69L297.32 41.29L297.037 43.2699L306.837 44.6699L307.12 42.69ZM298.178 42.28V39.48H296.178V42.28H298.178ZM297.178 40.48H320.978V38.48H297.178V40.48ZM319.978 39.48V54.6H321.978V39.48H319.978ZM321.803 55.1652C325.187 50.2268 329.149 46.3622 333.685 43.5499L332.632 41.8501C327.834 44.8244 323.676 48.8932 320.154 54.0348L321.803 55.1652ZM333.697 43.5423C338.207 40.656 343.061 39.22 348.278 39.22V37.22C342.669 37.22 337.443 38.7706 332.619 41.8577L333.697 43.5423ZM348.278 39.22C354.835 39.22 359.846 40.857 363.439 44.0114L364.758 42.5086C360.697 38.943 355.162 37.22 348.278 37.22V39.22ZM363.448 44.0193C367.086 47.1382 368.978 51.8164 368.978 58.24H370.978C370.978 51.4103 368.95 46.1018 364.749 42.5007L363.448 44.0193ZM368.978 58.24V107.8H370.978V58.24H368.978ZM369.837 108.79L379.637 110.19L379.92 108.21L370.12 106.81L369.837 108.79ZM378.778 109.2V112H380.778V109.2H378.778ZM379.778 111H347.578V113H379.778V111ZM348.578 112V109.2H346.578V112H348.578ZM347.743 110.186L356.143 108.786L355.814 106.814L347.414 108.214L347.743 110.186ZM356.978 107.8V58.52H354.978V107.8H356.978ZM356.978 58.52C356.978 53.5506 355.978 49.5724 353.838 46.72L352.238 47.92C354.019 50.2943 354.978 53.7828 354.978 58.52H356.978ZM353.848 46.7335C351.657 43.7069 348.283 42.26 343.938 42.26V44.26C347.807 44.26 350.5 45.5198 352.228 47.9065L353.848 46.7335ZM343.938 42.26C339.379 42.26 335.013 43.9504 330.858 47.2356L332.099 48.8044C335.971 45.7429 339.911 44.26 343.938 44.26V42.26ZM330.861 47.2337C326.85 50.3845 323.281 54.2907 320.149 58.9414L321.808 60.0586C324.836 55.5626 328.266 51.8155 332.096 48.8063L330.861 47.2337ZM319.978 59.5V107.8H321.978V59.5H319.978ZM320.814 108.786L329.214 110.186L329.543 108.214L321.143 106.814L320.814 108.786ZM328.378 109.2V112H330.378V109.2H328.378ZM329.378 111H297.178V113H329.378V111ZM298.178 112V109.2H296.178V112H298.178ZM406.486 108.78L405.993 109.65L406.004 109.656L406.486 108.78ZM393.186 95.48L394.053 94.9823L393.186 95.48ZM393.046 56.14L392.178 55.6423L392.176 55.647L393.046 56.14ZM406.066 42.98L406.56 43.8492L406.565 43.8464L406.066 42.98ZM440.226 42.14L440.714 41.2675L440.226 42.14ZM451.146 53.06L450.273 53.5486L450.277 53.5561L451.146 53.06ZM455.206 68.88V69.88H456.221L456.206 68.8644L455.206 68.88ZM403.686 68.88V67.88H402.686V68.88H403.686ZM409.146 102.76L408.33 103.338L408.336 103.347L408.342 103.355L409.146 102.76ZM442.326 104.86L441.733 104.055L442.326 104.86ZM451.426 90.72V89.72H450.601L450.444 90.53L451.426 90.72ZM454.646 90.72L455.628 90.9059L455.853 89.72H454.646V90.72ZM444.706 107.24L444.095 106.448L444.706 107.24ZM439.806 65.38V66.38H440.806V65.38H439.806ZM436.026 47.32L435.179 47.8518L435.184 47.8608L436.026 47.32ZM409.706 47.88L408.92 47.2614L409.706 47.88ZM403.826 65.38L402.828 65.316L402.759 66.38H403.826V65.38ZM425.246 112.4C418.493 112.4 412.408 110.896 406.968 107.904L406.004 109.656C411.763 112.824 418.184 114.4 425.246 114.4V112.4ZM406.979 107.91C401.538 104.827 397.232 100.523 394.053 94.9823L392.318 95.9777C395.672 101.823 400.234 106.387 405.993 109.65L406.979 107.91ZM394.053 94.9823C390.885 89.4603 389.286 83.0565 389.286 75.74H387.286C387.286 83.3569 388.953 90.113 392.318 95.9777L394.053 94.9823ZM389.286 75.74C389.286 68.4182 390.84 62.0601 393.916 56.633L392.176 55.647C388.904 61.4199 387.286 68.1284 387.286 75.74H389.286ZM393.913 56.6377C397.096 51.0905 401.311 46.836 406.56 43.8492L405.571 42.1108C399.994 45.284 395.529 49.8028 392.178 55.6423L393.913 56.6377ZM406.565 43.8464C411.911 40.7657 417.85 39.22 424.406 39.22V37.22C417.521 37.22 411.234 38.8477 405.566 42.1136L406.565 43.8464ZM424.406 39.22C430.132 39.22 435.234 40.4909 439.737 43.0125L440.714 41.2675C435.884 38.5624 430.439 37.22 424.406 37.22V39.22ZM439.737 43.0125C444.243 45.5357 447.75 49.0429 450.273 53.5486L452.018 52.5714C449.315 47.7438 445.542 43.9709 440.714 41.2675L439.737 43.0125ZM450.277 53.5561C452.796 57.9642 454.115 63.068 454.206 68.8956L456.206 68.8644C456.11 62.7453 454.722 57.3024 452.014 52.5639L450.277 53.5561ZM455.206 67.88H403.686V69.88H455.206V67.88ZM402.686 68.88V82.74H404.686V68.88H402.686ZM402.686 82.74C402.686 91.0977 404.538 97.9911 408.33 103.338L409.961 102.182C406.473 97.2622 404.686 90.809 404.686 82.74H402.686ZM408.342 103.355C412.288 108.682 417.971 111.32 425.246 111.32V109.32C418.52 109.32 413.47 106.918 409.949 102.165L408.342 103.355ZM425.246 111.32C431.888 111.32 437.791 109.438 442.918 105.665L441.733 104.055C436.967 107.562 431.483 109.32 425.246 109.32V111.32ZM442.918 105.665C448.058 101.883 451.237 96.9546 452.407 90.91L450.444 90.53C449.374 96.0587 446.487 100.557 441.733 104.055L442.918 105.665ZM451.426 91.72H454.646V89.72H451.426V91.72ZM453.663 90.5341C452.4 97.2123 449.211 102.499 444.095 106.448L445.317 108.032C450.84 103.768 454.278 98.041 455.628 90.9059L453.663 90.5341ZM444.095 106.448C438.973 110.402 432.71 112.4 425.246 112.4V114.4C433.088 114.4 439.798 112.292 445.317 108.032L444.095 106.448ZM440.806 65.38C440.806 57.1933 439.542 50.9407 436.867 46.7792L435.184 47.8608C437.549 51.5393 438.806 57.3267 438.806 65.38H440.806ZM436.873 46.7882C434.144 42.4435 429.88 40.3 424.266 40.3V42.3C429.292 42.3 432.867 44.1698 435.179 47.8518L436.873 46.7882ZM424.266 40.3C417.748 40.3 412.587 42.6028 408.92 47.2614L410.491 48.4986C413.731 44.3839 418.277 42.3 424.266 42.3V40.3ZM408.92 47.2614C405.308 51.8495 403.303 57.8953 402.828 65.316L404.824 65.444C405.281 58.3047 407.197 52.6838 410.491 48.4986L408.92 47.2614ZM403.826 66.38H439.806V64.38H403.826V66.38ZM464.135 149.24L464.766 148.464L464.135 149.24ZM462.035 132.58L461.328 131.873L461.308 131.893L461.29 131.913L462.035 132.58ZM476.315 134.54L477.129 135.121L477.498 134.604L477.187 134.05L476.315 134.54ZM476.035 145.32L476.742 144.613L476.035 145.32ZM486.395 144.9L485.731 144.153L485.72 144.162L485.71 144.172L486.395 144.9ZM490.875 137.06L491.819 137.39L491.819 137.389L490.875 137.06ZM499.275 112.98L500.219 113.309L500.354 112.924L500.18 112.555L499.275 112.98ZM466.795 43.82L467.7 43.3949L467.472 42.91L466.943 42.831L466.795 43.82ZM457.415 42.42H456.415V43.2818L457.267 43.409L457.415 42.42ZM457.415 39.62V38.62H456.415V39.62H457.415ZM492.275 39.62H493.275V38.62H492.275V39.62ZM492.275 42.42L492.444 43.4056L493.275 43.2632V42.42H492.275ZM482.475 44.1L482.306 43.1144L481.014 43.3359L481.569 44.5237L482.475 44.1ZM505.855 94.08L504.949 94.5037L505.994 96.7371L506.8 94.4069L505.855 94.08ZM522.515 45.92L523.46 46.2469L523.804 45.2532L522.794 44.9597L522.515 45.92ZM510.475 42.42H509.475V43.1707L510.196 43.3802L510.475 42.42ZM510.475 39.62V38.62H509.475V39.62H510.475ZM535.675 39.62H536.675V38.62H535.675V39.62ZM535.675 42.42L536.02 43.3586L536.675 43.1178V42.42H535.675ZM526.155 45.92L525.81 44.9814L525.364 45.1454L525.209 45.5946L526.155 45.92ZM494.795 137.06L495.737 137.395L495.741 137.385L494.795 137.06ZM487.655 149.1L486.986 148.357L486.98 148.362L486.974 148.368L487.655 149.1ZM475.895 151.88C471.21 151.88 467.532 150.711 464.766 148.464L463.504 150.016C466.712 152.622 470.873 153.88 475.895 153.88V151.88ZM464.766 148.464C462.03 146.241 460.655 143.269 460.655 139.44H458.655C458.655 143.825 460.267 147.385 463.504 150.016L464.766 148.464ZM460.655 139.44C460.655 136.84 461.386 134.805 462.78 133.247L461.29 131.913C459.511 133.902 458.655 136.44 458.655 139.44H460.655ZM462.742 133.287C464.23 131.799 466.027 131.06 468.195 131.06V129.06C465.509 129.06 463.2 130.001 461.328 131.873L462.742 133.287ZM468.195 131.06C469.824 131.06 471.246 131.402 472.484 132.062L473.426 130.298C471.864 129.465 470.113 129.06 468.195 129.06V131.06ZM472.484 132.062C473.703 132.712 474.689 133.689 475.443 135.03L477.187 134.05C476.261 132.404 475.007 131.141 473.426 130.298L472.484 132.062ZM475.501 133.959C473.996 136.067 473.215 138.32 473.215 140.7H475.215C475.215 138.787 475.834 136.933 477.129 135.121L475.501 133.959ZM473.215 140.7C473.215 142.806 473.91 144.609 475.328 146.027L476.742 144.613C475.734 143.605 475.215 142.327 475.215 140.7H473.215ZM475.328 146.027C476.746 147.445 478.549 148.14 480.655 148.14V146.14C479.028 146.14 477.75 145.621 476.742 144.613L475.328 146.027ZM480.655 148.14C483.142 148.14 485.303 147.301 487.08 145.628L485.71 144.172C484.314 145.485 482.648 146.14 480.655 146.14V148.14ZM487.059 145.647C488.93 143.985 490.493 141.179 491.819 137.39L489.931 136.73C488.644 140.408 487.22 142.828 485.731 144.153L487.059 145.647ZM491.819 137.389L500.219 113.309L498.331 112.651L489.931 136.731L491.819 137.389ZM500.18 112.555L467.7 43.3949L465.89 44.2451L498.37 113.405L500.18 112.555ZM466.943 42.831L457.563 41.431L457.267 43.409L466.647 44.809L466.943 42.831ZM458.415 42.42V39.62H456.415V42.42H458.415ZM457.415 40.62H492.275V38.62H457.415V40.62ZM491.275 39.62V42.42H493.275V39.62H491.275ZM492.106 41.4344L482.306 43.1144L482.644 45.0856L492.444 43.4056L492.106 41.4344ZM481.569 44.5237L504.949 94.5037L506.761 93.6563L483.381 43.6763L481.569 44.5237ZM506.8 94.4069L523.46 46.2469L521.57 45.5931L504.91 93.7531L506.8 94.4069ZM522.794 44.9597L510.754 41.4597L510.196 43.3802L522.236 46.8802L522.794 44.9597ZM511.475 42.42V39.62H509.475V42.42H511.475ZM510.475 40.62H535.675V38.62H510.475V40.62ZM534.675 39.62V42.42H536.675V39.62H534.675ZM535.33 41.4814L525.81 44.9814L526.5 46.8586L536.02 43.3586L535.33 41.4814ZM525.209 45.5946L493.849 136.735L495.741 137.385L527.101 46.2454L525.209 45.5946ZM493.853 136.725C491.921 142.153 489.613 145.993 486.986 148.357L488.324 149.843C491.297 147.167 493.749 142.98 495.737 137.395L493.853 136.725ZM486.974 148.368C484.513 150.659 480.874 151.88 475.895 151.88V153.88C481.182 153.88 485.383 152.581 488.336 149.832L486.974 148.368Z" fill="#767676" fill-opacity="0.4" mask="url(#path-1-outside-1_408_1718)"/>
			</svg>
		</div>
		<div class="nb-graphic position-fixed" style="right:-80px;top:600px;transform: rotate(350deg);">
			<svg width="475" height="495" viewBox="0 0 475 495" fill="none" xmlns="http://www.w3.org/2000/svg">
				<circle opacity="0.7" cx="268" cy="268" r="267" stroke="white" stroke-opacity="0.07" stroke-width="2"/>
			</svg>
		</div>
	</div>
</main>