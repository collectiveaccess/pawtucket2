{"version":3,"file":"styles.js","sources":["../../../src/styles.ts"],"sourcesContent":["import type { Vault } from '@iiif/vault';\nimport { Reference } from '@iiif/presentation-3';\n\nexport type StyleDefinition = Record<string, any>;\n\nexport type StyledHelper<S extends StyleDefinition> = {\n  applyStyles<Style extends StyleDefinition = S>(resource: any, scope: string, styles: Style[string]): void;\n  getAppliedStyles<Style extends StyleDefinition = S>(resource: any): Style | undefined;\n};\n\nexport function createStylesHelper<S extends StyleDefinition>(vault: Vault): StyledHelper<S> {\n  return {\n    applyStyles<Style extends StyleDefinition = S>(\n      resource: string | Reference<any>,\n      scope: string,\n      styles: Style[string]\n    ) {\n      const id = typeof resource === 'string' ? resource : resource.id;\n      return vault.setMetaValue<Style[string]>([id, 'styles', scope], styles);\n    },\n    getAppliedStyles<Style extends StyleDefinition = S>(resource: string | Reference<any>): Style | undefined {\n      const id = typeof resource === 'string' ? resource : resource.id;\n      return vault.getResourceMeta<{ styles: Style }, 'styles'>(id, 'styles');\n    },\n  };\n}\n"],"names":["createStylesHelper","vault","resource","scope","styles","id"],"mappings":"4GAUO,SAASA,EAA8CC,EAA+B,CACpF,MAAA,CACL,YACEC,EACAC,EACAC,EACA,CACA,MAAMC,EAAK,OAAOH,GAAa,SAAWA,EAAWA,EAAS,GAC9D,OAAOD,EAAM,aAA4B,CAACI,EAAI,SAAUF,CAAK,EAAGC,CAAM,CACxE,EACA,iBAAoDF,EAAsD,CACxG,MAAMG,EAAK,OAAOH,GAAa,SAAWA,EAAWA,EAAS,GACvD,OAAAD,EAAM,gBAA6CI,EAAI,QAAQ,CACxE,CAAA,CAEJ"}