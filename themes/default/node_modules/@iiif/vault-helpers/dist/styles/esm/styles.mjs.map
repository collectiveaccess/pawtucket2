{"version":3,"file":"styles.mjs","sources":["../../../src/styles.ts"],"sourcesContent":["import type { Vault } from '@iiif/vault';\nimport { Reference } from '@iiif/presentation-3';\n\nexport type StyleDefinition = Record<string, any>;\n\nexport type StyledHelper<S extends StyleDefinition> = {\n  applyStyles<Style extends StyleDefinition = S>(resource: any, scope: string, styles: Style[string]): void;\n  getAppliedStyles<Style extends StyleDefinition = S>(resource: any): Style | undefined;\n};\n\nexport function createStylesHelper<S extends StyleDefinition>(vault: Vault): StyledHelper<S> {\n  return {\n    applyStyles<Style extends StyleDefinition = S>(\n      resource: string | Reference<any>,\n      scope: string,\n      styles: Style[string]\n    ) {\n      const id = typeof resource === 'string' ? resource : resource.id;\n      return vault.setMetaValue<Style[string]>([id, 'styles', scope], styles);\n    },\n    getAppliedStyles<Style extends StyleDefinition = S>(resource: string | Reference<any>): Style | undefined {\n      const id = typeof resource === 'string' ? resource : resource.id;\n      return vault.getResourceMeta<{ styles: Style }, 'styles'>(id, 'styles');\n    },\n  };\n}\n"],"names":[],"mappings":"AAUO,SAAS,mBAA8C,OAA+B;AACpF,SAAA;AAAA,IACL,YACE,UACA,OACA,QACA;AACA,YAAM,KAAK,OAAO,aAAa,WAAW,WAAW,SAAS;AAC9D,aAAO,MAAM,aAA4B,CAAC,IAAI,UAAU,KAAK,GAAG,MAAM;AAAA,IACxE;AAAA,IACA,iBAAoD,UAAsD;AACxG,YAAM,KAAK,OAAO,aAAa,WAAW,WAAW,SAAS;AACvD,aAAA,MAAM,gBAA6C,IAAI,QAAQ;AAAA,IACxE;AAAA,EAAA;AAEJ;;"}