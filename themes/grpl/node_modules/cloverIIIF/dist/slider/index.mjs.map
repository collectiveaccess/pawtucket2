{"version":3,"file":"index.mjs","sources":["../../src/context/slider-context.tsx","../../src/styles/stitches.config.tsx","../../src/components/Slider/ErrorFallback/ErrorFallback.styled.tsx","../../src/components/Slider/ErrorFallback/ErrorFallback.tsx","../../src/components/Slider/Header/Control.styled.ts","../../src/components/Slider/Header/Header.styled.ts","../../src/lib/label-helpers.ts","../../src/lib/html-element.ts","../../src/components/Primitives/Label/Label.tsx","../../src/hooks/useGetImageResource.ts","../../src/components/Primitives/ContentResource/ContentResource.tsx","../../src/components/Primitives/Homepage/Homepage.tsx","../../src/context/primitives-context.tsx","../../src/components/Primitives/Markup/Markup.tsx","../../src/components/Primitives/Value/CustomValue.tsx","../../src/components/Primitives/Metadata/Metadata.tsx","../../src/components/Primitives/PartOf/PartOf.tsx","../../src/components/Primitives/Rendering/Rendering.tsx","../../src/components/Primitives/RequiredStatement/RequiredStatement.tsx","../../src/components/Primitives/SeeAlso/SeeAlso.tsx","../../src/components/Primitives/Summary/Summary.tsx","../../src/components/Primitives/Thumbnail/Thumbnail.tsx","../../src/components/Slider/Icons/NextIcon.tsx","../../src/components/Slider/Icons/PrevIcon.tsx","../../src/components/Slider/Header/ViewAll.tsx","../../src/components/Slider/Header/Header.tsx","../../node_modules/swiper/components-shared/utils.js","../../node_modules/swiper/components-shared/params-list.js","../../node_modules/swiper/components-shared/get-params.js","../../node_modules/swiper/components-shared/mount-swiper.js","../../node_modules/swiper/components-shared/get-changed-params.js","../../node_modules/swiper/react/get-children.js","../../node_modules/swiper/components-shared/update-swiper.js","../../node_modules/swiper/react/virtual.js","../../node_modules/swiper/components-shared/update-on-virtual-data.js","../../node_modules/swiper/react/use-isomorphic-layout-effect.js","../../node_modules/swiper/react/context.js","../../node_modules/swiper/react/swiper.js","../../node_modules/swiper/react/swiper-slide.js","../../src/components/Slider/Items/Item.styled.ts","../../src/components/Slider/Figure/Figure.styled.ts","../../src/components/Slider/Figure/Figure.tsx","../../src/components/Slider/Items/Placeholder.tsx","../../src/components/Slider/Items/Item.tsx","../../src/components/Slider/Items/Items.styled.ts","../../src/components/Slider/Items/Items.tsx","../../src/lib/hash.ts","../../node_modules/@iiif/parser/dist/upgrader/index.umd.js","../../src/components/Slider/index.tsx"],"sourcesContent":["import { ConfigOptions } from \"src/types/slider\";\nimport React from \"react\";\n\nexport interface CollectionContextStore {\n  isLoaded: boolean;\n  options: ConfigOptions;\n}\n\ninterface CollectionAction {\n  type: string;\n  isLoaded: boolean;\n}\n\nexport const defaultState: CollectionContextStore = {\n  isLoaded: false,\n  options: {\n    credentials: \"omit\",\n  },\n};\n\nconst CollectionStateContext =\n  React.createContext<CollectionContextStore>(defaultState);\nconst CollectionDispatchContext =\n  React.createContext<CollectionContextStore>(defaultState);\n\nfunction collectionReducer(\n  state: CollectionContextStore,\n  action: CollectionAction,\n) {\n  switch (action.type) {\n    case \"updateIsLoaded\": {\n      return {\n        ...state,\n        isLoaded: action.isLoaded,\n      };\n    }\n    default: {\n      throw new Error(`Unhandled action type: ${action.type}`);\n    }\n  }\n}\n\ninterface CollectionProviderProps {\n  initialState?: CollectionContextStore;\n  children: React.ReactNode;\n}\n\nconst CollectionProvider: React.FC<CollectionProviderProps> = ({\n  initialState = defaultState,\n  children,\n}) => {\n  const [state, dispatch] = React.useReducer<\n    React.Reducer<CollectionContextStore, CollectionAction>\n  >(collectionReducer, initialState);\n\n  return (\n    <CollectionStateContext.Provider value={state}>\n      <CollectionDispatchContext.Provider\n        value={dispatch as unknown as CollectionContextStore}\n      >\n        {children}\n      </CollectionDispatchContext.Provider>\n    </CollectionStateContext.Provider>\n  );\n};\n\nfunction useCollectionState() {\n  const context = React.useContext(CollectionStateContext);\n  if (context === undefined) {\n    throw new Error(\n      \"useCollectionState must be used within a CollectionProvider\",\n    );\n  }\n  return context;\n}\n\nfunction useCollectionDispatch() {\n  const context = React.useContext(CollectionDispatchContext);\n  if (context === undefined) {\n    throw new Error(\n      \"useCollectionDispatch must be used within a CollectionProvider\",\n    );\n  }\n  return context;\n}\n\nexport { CollectionProvider, useCollectionState, useCollectionDispatch };\n","import { createStitches } from \"@stitches/react\";\n\nconst hue = 209;\n\nexport const theme = {\n  colors: {\n    /*\n     * Black and dark grays in a light theme.\n     * Must contrast to 4.5 or greater with `secondary`.\n     */\n    primary: \"#1a1d1e\",\n    primaryMuted: \"#26292b\",\n    primaryAlt: \"#151718\",\n\n    /*\n     * Key brand color(s).\n     * Must contrast to 4.5 or greater with `secondary`.\n     */\n    accent: `hsl(${hue} 100% 38.2%)`,\n    accentMuted: `hsl(${hue} 80% 61.8%)`,\n    accentAlt: `hsl(${hue} 80% 30%)`,\n\n    /*\n     * White and light grays in a light theme.\n     * Must contrast to 4.5 or greater with `primary` and  `accent`.\n     */\n    secondary: \"#FFFFFF\",\n    secondaryMuted: \"#e6e8eb\",\n    secondaryAlt: \"#c1c8cd\",\n  },\n  fontSizes: {\n    1: \"12px\",\n    2: \"13px\",\n    3: \"15px\",\n    4: \"17px\",\n    5: \"19px\",\n    6: \"21px\",\n    7: \"27px\",\n    8: \"35px\",\n    9: \"59px\",\n  },\n  lineHeights: {\n    1: \"12px\",\n    2: \"13px\",\n    3: \"15px\",\n    4: \"17px\",\n    5: \"19px\",\n    6: \"21px\",\n    7: \"27px\",\n    8: \"35px\",\n    9: \"59px\",\n  },\n  sizes: {\n    1: \"5px\",\n    2: \"10px\",\n    3: \"15px\",\n    4: \"20px\",\n    5: \"25px\",\n    6: \"35px\",\n    7: \"45px\",\n    8: \"65px\",\n    9: \"80px\",\n  },\n  space: {\n    1: \"5px\",\n    2: \"10px\",\n    3: \"15px\",\n    4: \"20px\",\n    5: \"25px\",\n    6: \"35px\",\n    7: \"45px\",\n    8: \"65px\",\n    9: \"80px\",\n  },\n  radii: {\n    1: \"4px\",\n    2: \"6px\",\n    3: \"8px\",\n    4: \"12px\",\n    round: \"50%\",\n    pill: \"9999px\",\n  },\n  transitions: {\n    all: \"all 300ms cubic-bezier(0.16, 1, 0.3, 1)\",\n  },\n  zIndices: {\n    1: \"100\",\n    2: \"200\",\n    3: \"300\",\n    4: \"400\",\n    max: \"999\",\n  },\n};\n\nexport const media = {\n  xxs: \"(max-width: 349px)\",\n  xs: \"(max-width: 575px)\",\n  sm: \"(max-width: 767px)\",\n  md: \"(max-width: 991px)\",\n  lg: \"(max-width: 90rem)\",\n  xl: \"(min-width: calc(90rem + 1px))\",\n};\n\nexport type { CSS, VariantProps } from \"@stitches/react\";\n\nexport const { styled, css, keyframes, createTheme } = createStitches({\n  theme,\n  media,\n});\n","import { styled } from \"src/styles/stitches.config\";\n\nconst ErrorFallbackStyled = styled(\"div\", {\n  display: \"flex\",\n  flexDirection: \"column\",\n  alignItems: \"center\",\n});\n\nconst Headline = styled(\"p\", {\n  fontWeight: \"bold\",\n});\n\nconst ErrorBody = styled(\"span\", {});\n\nexport { ErrorFallbackStyled, ErrorBody, Headline };\n","import React from \"react\";\nimport {\n  ErrorFallbackStyled,\n  ErrorBody,\n  Headline,\n} from \"./ErrorFallback.styled\";\n\ninterface ErrorFallbackProps {\n  error: Error;\n}\n\nconst ErrorFallback: React.FC<ErrorFallbackProps> = ({ error }) => {\n  const { message } = error;\n\n  return (\n    <ErrorFallbackStyled role=\"alert\">\n      <Headline data-testid=\"headline\">Something went wrong</Headline>\n      {message && <ErrorBody>{`Error message: ${message}`} </ErrorBody>}\n    </ErrorFallbackStyled>\n  );\n};\n\nexport default ErrorFallback;\n","import { styled } from \"src/styles/stitches.config\";\n\nconst Icon = styled(\"div\", {\n  display: \"flex\",\n  background: \"none\",\n  border: \"none\",\n  width: \"2rem !important\",\n  height: \"2rem !important\",\n  padding: \"0\",\n  margin: \"0\",\n  borderRadius: \"2rem\",\n  backgroundColor: \"$accent\",\n  color: \"$secondary\",\n  cursor: \"pointer\",\n  boxSizing: \"content-box !important\",\n  transition: \"$all\",\n  justifyContent: \"center\",\n  alignItems: \"center\",\n\n  svg: {\n    height: \"60%\",\n    width: \"60%\",\n    fill: \"$secondary\",\n    stroke: \"$secondary\",\n    opacity: \"1\",\n    filter: \"drop-shadow(5px 5px 5px #000D)\",\n    transition: \"$all\",\n  },\n});\n\nconst ControlStyled = styled(\"button\", {\n  zIndex: \"1\",\n  border: \"none\",\n  cursor: \"pointer\",\n  background: \"transparent\",\n  marginLeft: \"$2\",\n  padding: \"0\",\n\n  [`&:disabled`]: {\n    [`> ${Icon}`]: {\n      backgroundColor: \"#6663\",\n      boxShadow: \"none\",\n\n      svg: {\n        fill: \"$secondary\",\n        stroke: \"$secondary\",\n        filter: \"unset\",\n      },\n    },\n  },\n\n  [`&:hover:enabled`]: {\n    [`> ${Icon}`]: {\n      backgroundColor: \"$accentAlt\",\n      boxShadow: \"3px 3px 11px #0003\",\n\n      [`&:disabled`]: {\n        boxShadow: \"unset\",\n      },\n    },\n  },\n});\n\nexport { ControlStyled, Icon };\n","import { styled } from \"src/styles/stitches.config\";\n\nconst HeaderContent = styled(\"div\", {\n  display: \"flex\",\n  flexDirection: \"column\",\n});\n\nconst HeaderControls = styled(\"div\", {\n  display: \"flex\",\n  flexDirection: \"row\",\n  alignItems: \"center\",\n  paddingLeft: \"$5\",\n  paddingRight: \"$4\",\n\n  \"@xs\": {\n    width: \"100%\",\n    justifyContent: \"center\",\n    padding: \"$4 $1 0 0\",\n  },\n});\n\nconst HeaderStyled = styled(\"div\", {\n  display: \"flex\",\n  flexDirection: \"row\",\n  justifyContent: \"space-between\",\n  paddingBottom: \"$4\",\n  margin: \"0\",\n  lineHeight: \"1.4em\",\n  alignItems: \"flex-end\",\n\n  \"@xs\": {\n    flexDirection: \"column\",\n  },\n\n  \".clover-slider-header-homepage\": {\n    textDecoration: \"none\",\n  },\n\n  \".clover-slider-header-label\": {\n    fontSize: \"1.25rem\",\n    fontWeight: \"400\",\n  },\n\n  \".clover-slider-header-summary\": {\n    fontSize: \"$4\",\n    marginTop: \"$2\",\n  },\n});\n\nexport { HeaderContent, HeaderControls, HeaderStyled };\n","import { InternationalString } from \"@iiif/presentation-3\";\n\nexport const getLabelEntries = (\n  label?: InternationalString,\n  lang: string = \"none\",\n) => {\n  /*\n   * If no label exists, return an empty string.\n   */\n  if (!label) return null;\n\n  /*\n   * If label is not a IIIF Presentation API 3.0 shape, return the string\n   */\n  if (typeof label === \"string\") return [label];\n\n  /*\n   * If InternationalString code does not exist on label, then\n   * return what may be there, ex: label.none[0] OR label.fr[0]\n   */\n  if (!label[lang]) {\n    const codes: Array<string> = Object.getOwnPropertyNames(label);\n    if (codes.length > 0) return label[codes[0]];\n  }\n\n  /*\n   * Return label value for InternationalString code `en`\n   */\n  if (!label[lang]) return null;\n  if (!Array.isArray(label[lang])) return null;\n\n  return label[lang] as string[];\n};\n\nexport const getLabelAsString = (\n  label: InternationalString | undefined,\n  lang: string = \"none\",\n  delimiter: string = \", \",\n) => {\n  const entries = getLabelEntries(label, lang);\n  return Array.isArray(entries) ? entries.join(`${delimiter}`) : entries;\n};\n","import sanitizeHtml from \"sanitize-html\";\n\nfunction createMarkup(html: string) {\n  return { __html: sanitizeHTML(html) };\n}\n\nfunction sanitizeAttributes(props: any, remove: string[]) {\n  const entries = Object.keys(props).filter((key) =>\n    !remove.includes(key) ? key : null,\n  );\n\n  const attributes = new Object();\n  entries.forEach((key) => {\n    attributes[key] = props[key];\n  });\n\n  return attributes as React.HTMLAttributes<HTMLElement>;\n}\n\nfunction sanitizeHTML(html: string) {\n  return sanitizeHtml(html, {\n    allowedAttributes: {\n      a: [\"href\"],\n      img: [\"alt\", \"src\", \"height\", \"width\"],\n    },\n    allowedSchemes: [\"http\", \"https\", \"mailto\"],\n    allowedTags: [\n      \"a\",\n      \"b\",\n      \"br\",\n      \"i\",\n      \"img\",\n      \"p\",\n      \"small\",\n      \"span\",\n      \"sub\",\n      \"sup\",\n    ],\n  });\n}\n\nexport { createMarkup, sanitizeAttributes, sanitizeHTML };\n","import { PrimitivesLabel } from \"src/types/primitives\";\nimport React from \"react\";\nimport { getLabelAsString } from \"src/lib/label-helpers\";\nimport { sanitizeAttributes } from \"src/lib/html-element\";\nimport { styled } from \"src/styles/stitches.config\";\n\nconst StyledLabel = styled(\"span\", {});\n\nconst Label: React.FC<PrimitivesLabel> = (props) => {\n  const { as, label } = props;\n\n  /**\n   * Create attributes and remove React props\n   */\n  const remove = [\"as\", \"label\"];\n  const attributes = sanitizeAttributes(props, remove);\n\n  return (\n    <StyledLabel as={as} {...attributes}>\n      {getLabelAsString(label, attributes.lang as string) as string}\n    </StyledLabel>\n  );\n};\n\nexport default Label;\n","import { IIIFExternalWebResource, ImageService } from \"@iiif/presentation-3\";\n\nexport const useGetImageResource = (\n  resource: IIIFExternalWebResource,\n  size: string = \"200,\",\n  region: string = \"full\",\n) => {\n  /**\n   * defenseively ensure resource is not an array\n   */\n  if (Array.isArray(resource)) resource = resource[0];\n\n  const { id, service } = resource;\n\n  let imageService: ImageService | undefined;\n\n  /**\n   * return resource id if service does not exist\n   */\n  if (!service) return id;\n\n  if (Array.isArray(resource.service) && resource.service.length > 0)\n    imageService = service[0] as ImageService;\n\n  if (imageService) {\n    if (imageService[\"@id\"])\n      return `${imageService[\"@id\"]}/${region}/${size}/0/default.jpg`;\n\n    if (imageService.id)\n      return `${imageService.id}/${region}/${size}/0/default.jpg`;\n  }\n};\n","import React, { useCallback, useEffect, useRef } from \"react\";\n\nimport Hls from \"hls.js\";\nimport { PrimitivesContentResource } from \"src/types/primitives\";\nimport { getLabelAsString } from \"src/lib/label-helpers\";\nimport { sanitizeAttributes } from \"src/lib/html-element\";\nimport { styled } from \"src/styles/stitches.config\";\nimport { useGetImageResource } from \"src/hooks/useGetImageResource\";\n\nconst StyledResource = styled(\"img\", { objectFit: \"cover\" });\n\nconst ContentResource: React.FC<PrimitivesContentResource> = (props) => {\n  const mediaRef = useRef(null);\n  const { contentResource, altAsLabel, region = \"full\" } = props;\n\n  let alt: string | undefined;\n  if (altAsLabel) alt = getLabelAsString(altAsLabel) as string;\n\n  /**\n   * Create attributes and remove React props\n   */\n  const remove = [\"contentResource\", \"altAsLabel\"];\n  const attributes = sanitizeAttributes(props, remove);\n\n  const { type, id, width = 200, height = 200, duration } = contentResource;\n\n  useEffect(() => {\n    /**\n     * Check that IIIF content resource ID exists and\n     * we have a reffed <video> for attaching HLS\n     */\n    if (!id && !mediaRef.current) return;\n    if ([\"Image\"].includes(type)) return;\n\n    /**\n     * Eject HLS attachment if file extension from\n     * the IIIF content resource ID is not .m3u8\n     */\n    if (!id.includes(\"m3u8\")) return;\n\n    // Bind hls.js package to our <video /> element and then load the media source\n    const hls = new Hls();\n\n    if (mediaRef.current) {\n      hls.attachMedia(mediaRef.current);\n      hls.on(Hls.Events.MEDIA_ATTACHED, function () {\n        hls.loadSource(id as string);\n      });\n    }\n\n    // Handle errors\n    hls.on(Hls.Events.ERROR, function (event, data) {\n      if (data.fatal) {\n        switch (data.type) {\n          case Hls.ErrorTypes.NETWORK_ERROR:\n            // try to recover network error\n            console.error(\n              `fatal ${event} network error encountered, try to recover`,\n            );\n            hls.startLoad();\n            break;\n          case Hls.ErrorTypes.MEDIA_ERROR:\n            console.error(\n              `fatal ${event} media error encountered, try to recover`,\n            );\n            hls.recoverMediaError();\n            break;\n          default:\n            // cannot recover\n            hls.destroy();\n            break;\n        }\n      }\n    });\n\n    return () => {\n      if (hls) {\n        hls.detachMedia();\n        hls.destroy();\n      }\n    };\n  }, [id, type]);\n\n  const playLoop = useCallback(() => {\n    if (!mediaRef.current) return;\n\n    let startTime = 0;\n    let loopTime = 30;\n\n    if (duration) loopTime = duration;\n    if (!id.split(\"#t=\") && duration) startTime = duration * 0.1;\n\n    if (id.split(\"#t=\").pop()) {\n      const fragment = id.split(\"#t=\").pop();\n      if (fragment) startTime = parseInt(fragment.split(\",\")[0]);\n    }\n\n    const media: HTMLVideoElement = mediaRef.current;\n    media.autoplay = true;\n    media.currentTime = startTime;\n\n    setTimeout(() => playLoop(), loopTime * 1000);\n  }, [duration, id]);\n\n  useEffect(() => playLoop(), [playLoop]);\n\n  const imgSrc = useGetImageResource(\n    contentResource,\n    `${width},${height}`,\n    region,\n  );\n\n  switch (type) {\n    case \"Image\":\n      return (\n        <StyledResource\n          as=\"img\"\n          alt={alt}\n          css={{ width: width, height: height }}\n          key={id}\n          src={imgSrc}\n          {...attributes}\n        />\n      );\n\n    case \"Video\":\n      return (\n        <StyledResource\n          as=\"video\"\n          css={{ width: width, height: height }}\n          disablePictureInPicture\n          key={id}\n          loop\n          muted\n          onPause={playLoop}\n          ref={mediaRef}\n          src={id}\n        />\n      );\n\n    default:\n      console.warn(\n        `Resource type: ${type} is not valid or not yet supported in Primitives.`,\n      );\n      return <></>;\n  }\n};\n\nexport default ContentResource;\n","import React from \"react\";\nimport { styled } from \"src/styles/stitches.config\";\nimport { getLabelAsString } from \"src/lib/label-helpers\";\nimport { PrimitivesHomepage } from \"src/types/primitives\";\nimport { sanitizeAttributes } from \"src/lib/html-element\";\n\nconst StyledHomepage = styled(\"a\", {});\n\nconst Homepage: React.FC<PrimitivesHomepage> = (props) => {\n  const { children, homepage } = props;\n\n  /**\n   * Create attributes and remove React props\n   */\n  const remove = [\"children\", \"homepage\"];\n  const attributes = sanitizeAttributes(props, remove);\n\n  return (\n    <>\n      {homepage &&\n        homepage.map((resource) => {\n          const label = getLabelAsString(\n            resource.label,\n            attributes.lang,\n          ) as string;\n          return (\n            <StyledHomepage\n              aria-label={children ? label : undefined}\n              href={resource.id}\n              key={resource.id}\n              {...attributes}\n            >\n              {children ? children : label}\n            </StyledHomepage>\n          );\n        })}\n    </>\n  );\n};\n\nexport default Homepage;\n","import { createContext, useContext } from \"react\";\n\nimport React from \"react\";\n\ntype PrimitivesContextStore =\n  | {\n      delimiter: string; // Separator for multi-value items\n    }\n  | undefined;\ninterface ProviderProps {\n  children: React.ReactNode;\n  initialState?: PrimitivesContextStore;\n}\n\nconst defaultState = {\n  delimiter: \", \",\n};\n\nconst PrimitivesContext = createContext<PrimitivesContextStore>(undefined);\n\nconst usePrimitivesContext = () => {\n  const context = useContext(PrimitivesContext);\n  if (context === undefined) {\n    throw new Error(\n      \"usePrimitivesContext must be used with a PrimitivesProvider\",\n    );\n  }\n  return context;\n};\n\nconst PrimitivesProvider: React.FC<ProviderProps> = ({\n  children,\n  initialState = defaultState,\n}) => {\n  const delimiter = getRealPropertyValue(initialState, \"delimiter\");\n\n  return (\n    <PrimitivesContext.Provider value={{ delimiter }}>\n      {children}\n    </PrimitivesContext.Provider>\n  );\n};\n\nconst getRealPropertyValue = (\n  obj: { [key: string]: any },\n  property: string,\n) => {\n  const value = Object.hasOwn(obj, property)\n    ? obj[property].toString()\n    : undefined;\n  return value;\n};\n\nexport {\n  PrimitivesContext,\n  PrimitivesProvider,\n  getRealPropertyValue,\n  usePrimitivesContext,\n};\n","import {\n  PrimitivesContext,\n  PrimitivesProvider,\n  usePrimitivesContext,\n} from \"src/context/primitives-context\";\nimport { createMarkup, sanitizeAttributes } from \"src/lib/html-element\";\n\nimport { PrimitivesMarkup } from \"src/types/primitives\";\nimport React from \"react\";\nimport { getLabelAsString } from \"src/lib/label-helpers\";\nimport { styled } from \"src/styles/stitches.config\";\n\nconst StyledMarkup = styled(\"span\", {});\n\nconst Markup: React.FC<PrimitivesMarkup> = (props) => {\n  const { as, markup } = props;\n  const { delimiter } = usePrimitivesContext();\n\n  if (!markup) return <></>;\n\n  /**\n   * Create attributes and remove React props\n   */\n  const remove = [\"as\", \"markup\"];\n  const attributes = sanitizeAttributes(props, remove);\n\n  const html = createMarkup(\n    getLabelAsString(markup, attributes.lang as string, delimiter) as string,\n  );\n\n  return (\n    <StyledMarkup as={as} {...attributes} dangerouslySetInnerHTML={html} />\n  );\n};\n\nconst MarkupWrapper: React.FC<PrimitivesMarkup> = (props) => {\n  const context = React.useContext(PrimitivesContext);\n\n  return context ? (\n    <Markup {...props} />\n  ) : (\n    <PrimitivesProvider>\n      <Markup {...props} />\n    </PrimitivesProvider>\n  );\n};\n\nexport default MarkupWrapper;\n","import React, { Fragment, cloneElement } from \"react\";\n\nimport { PrimitivesCustomValue } from \"src/types/primitives\";\nimport { getLabelEntries } from \"src/lib/label-helpers\";\nimport { styled } from \"src/styles/stitches.config\";\nimport { usePrimitivesContext } from \"src/context/primitives-context\";\n\nconst StyledCustomValue = styled(\"span\", {});\n\nconst CustomValue: React.FC<PrimitivesCustomValue> = ({\n  as = \"dd\",\n  customValueContent,\n  lang,\n  value,\n}) => {\n  const { delimiter } = usePrimitivesContext();\n\n  const entries = getLabelEntries(value, lang)?.map((entry) => {\n    return cloneElement(customValueContent, {\n      value: entry,\n    });\n  });\n\n  return (\n    <StyledCustomValue as={as} lang={lang}>\n      {entries?.map((entry, index) => [\n        index > 0 && `${delimiter}`,\n        <Fragment key={index}>{entry}</Fragment>,\n      ])}\n    </StyledCustomValue>\n  );\n};\n\nexport default CustomValue;\n","import MetadataItem from \"src/components/Primitives/Metadata/Item\";\nimport { PrimitivesMetadata } from \"src/types/primitives\";\nimport { PrimitivesProvider } from \"src/context/primitives-context\";\nimport React from \"react\";\nimport { getRealPropertyValue } from \"src/lib/utils\";\nimport { parseCustomContent } from \"src/lib/custom\";\nimport { sanitizeAttributes } from \"src/lib/html-element\";\nimport { styled } from \"src/styles/stitches.config\";\n\nconst StyledMetadata = styled(\"dl\", {});\n\nconst Metadata: React.FC<PrimitivesMetadata> = (props) => {\n  const { as, customValueContent, metadata } = props;\n\n  if (!Array.isArray(metadata)) return <></>;\n\n  const delimiter = getRealPropertyValue(props, \"customValueDelimiter\");\n\n  /**\n   * Create attributes and remove React props\n   */\n  const remove = [\n    \"as\",\n    \"customValueContent\",\n    \"customValueDelimiter\",\n    \"metadata\",\n  ];\n  const attributes = sanitizeAttributes(props, remove);\n\n  return (\n    <PrimitivesProvider\n      {...(typeof delimiter === \"string\"\n        ? { initialState: { delimiter: delimiter as string } }\n        : undefined)}\n    >\n      {metadata.length > 0 && (\n        <StyledMetadata as={as} {...attributes}>\n          {metadata.map((item, index) => {\n            const customValue = customValueContent\n              ? parseCustomContent(item.label, customValueContent)\n              : undefined;\n\n            return (\n              <MetadataItem\n                customValueContent={customValue}\n                item={item}\n                key={index}\n                lang={attributes?.lang}\n              />\n            );\n          })}\n        </StyledMetadata>\n      )}\n    </PrimitivesProvider>\n  );\n};\n\nexport default Metadata;\n","import React from \"react\";\nimport { styled } from \"src/styles/stitches.config\";\nimport { getLabelAsString } from \"src/lib/label-helpers\";\nimport { PrimitivesPartOf } from \"src/types/primitives\";\nimport { sanitizeAttributes } from \"src/lib/html-element\";\n\nconst StyledPartOf = styled(\"li\", {});\nconst StyledWrapper = styled(\"ul\", {});\n\nconst PartOf: React.FC<PrimitivesPartOf> = (props) => {\n  const { as, partOf } = props;\n\n  /**\n   * Create attributes and remove React props\n   */\n  const remove = [\"as\", \"partOf\"];\n  const attributes = sanitizeAttributes(props, remove);\n\n  return (\n    <StyledWrapper as={as}>\n      {partOf &&\n        partOf.map((resource) => {\n          const label = resource.label\n            ? (getLabelAsString(resource.label, attributes.lang) as string)\n            : undefined;\n          return (\n            <StyledPartOf key={resource.id}>\n              <a href={resource.id} {...attributes}>\n                {label ? label : resource.id}\n              </a>\n            </StyledPartOf>\n          );\n        })}\n    </StyledWrapper>\n  );\n};\n\nexport default PartOf;\n","import React from \"react\";\nimport { styled } from \"src/styles/stitches.config\";\nimport { getLabelAsString } from \"src/lib/label-helpers\";\nimport { PrimitivesRendering } from \"src/types/primitives\";\nimport { sanitizeAttributes } from \"src/lib/html-element\";\n\nconst StyledRendering = styled(\"li\", {});\nconst StyledWrapper = styled(\"ul\", {});\n\nconst Rendering: React.FC<PrimitivesRendering> = (props) => {\n  const { as, rendering } = props;\n\n  /**\n   * Create attributes and remove React props\n   */\n  const remove = [\"as\", \"rendering\"];\n  const attributes = sanitizeAttributes(props, remove);\n\n  return (\n    <StyledWrapper as={as}>\n      {rendering &&\n        rendering.map((resource) => {\n          const label = getLabelAsString(\n            resource.label,\n            attributes.lang,\n          ) as string;\n          return (\n            <StyledRendering key={resource.id}>\n              <a href={resource.id} {...attributes} target=\"_blank\">\n                {label ? label : resource.id}\n              </a>\n            </StyledRendering>\n          );\n        })}\n    </StyledWrapper>\n  );\n};\n\nexport default Rendering;\n","import MetadataItem from \"src/components/Primitives/Metadata/Item\";\nimport { PrimitivesProvider } from \"src/context/primitives-context\";\nimport { PrimitivesRequiredStatement } from \"src/types/primitives\";\nimport React from \"react\";\nimport { getRealPropertyValue } from \"src/lib/utils\";\nimport { sanitizeAttributes } from \"src/lib/html-element\";\nimport { styled } from \"src/styles/stitches.config\";\n\nconst StyledRequiredStatement = styled(\"dl\", {});\n\nconst RequiredStatement: React.FC<PrimitivesRequiredStatement> = (props) => {\n  const { as, requiredStatement } = props;\n\n  if (!requiredStatement) return <></>;\n\n  const delimiter = getRealPropertyValue(props, \"customValueDelimiter\");\n\n  /**\n   * Create attributes and remove React props\n   */\n  const remove = [\"as\", \"customValueDelimiter\", \"requiredStatement\"];\n  const attributes = sanitizeAttributes(props, remove);\n\n  return (\n    <PrimitivesProvider\n      {...(typeof delimiter === \"string\"\n        ? { initialState: { delimiter: delimiter as string } }\n        : undefined)}\n    >\n      <StyledRequiredStatement as={as} {...attributes}>\n        <MetadataItem item={requiredStatement} lang={attributes.lang} />\n      </StyledRequiredStatement>\n    </PrimitivesProvider>\n  );\n};\n\nexport default RequiredStatement;\n","import React from \"react\";\nimport { styled } from \"src/styles/stitches.config\";\nimport { getLabelAsString } from \"src/lib/label-helpers\";\nimport { PrimitivesSeeAlso } from \"src/types/primitives\";\nimport { sanitizeAttributes } from \"src/lib/html-element\";\n\nconst StyledSeeAlso = styled(\"li\", {});\nconst StyledWrapper = styled(\"ul\", {});\n\nconst SeeAlso: React.FC<PrimitivesSeeAlso> = (props) => {\n  const { as, seeAlso } = props;\n\n  /**\n   * Create attributes and remove React props\n   */\n  const remove = [\"as\", \"seeAlso\"];\n  const attributes = sanitizeAttributes(props, remove);\n\n  return (\n    <StyledWrapper as={as}>\n      {seeAlso &&\n        seeAlso.map((resource) => {\n          const label = getLabelAsString(\n            resource.label,\n            attributes.lang,\n          ) as string;\n          return (\n            <StyledSeeAlso key={resource.id}>\n              <a href={resource.id} {...attributes}>\n                {label ? label : resource.id}\n              </a>\n            </StyledSeeAlso>\n          );\n        })}\n    </StyledWrapper>\n  );\n};\n\nexport default SeeAlso;\n","import Markup from \"src/components/Primitives/Markup/Markup\";\nimport { PrimitivesSummary } from \"src/types/primitives\";\nimport React from \"react\";\nimport { sanitizeAttributes } from \"src/lib/html-element\";\n\nconst Summary: React.FC<PrimitivesSummary> = (props) => {\n  const { as, summary } = props;\n  /**\n   * Create attributes and remove React props\n   */\n  const remove = [\"as\", \"customValueDelimiter\", \"summary\"];\n  const attributes = sanitizeAttributes(props, remove);\n\n  return <Markup as={as} markup={summary} {...attributes} />;\n};\n\nexport default Summary;\n","import {\n  PrimitivesExternalWebResource,\n  PrimitivesThumbnail,\n} from \"src/types/primitives\";\n\nimport ContentResource from \"src/components/Primitives/ContentResource/ContentResource\";\nimport React from \"react\";\nimport { sanitizeAttributes } from \"src/lib/html-element\";\n\nconst Thumbnail: React.FC<PrimitivesThumbnail> = (props) => {\n  const { thumbnail, region } = props;\n\n  /**\n   * Create attributes and remove React props\n   */\n  const remove = [\"thumbnail\"];\n  const attributes = sanitizeAttributes(props, remove);\n\n  return (\n    <>\n      {thumbnail &&\n        thumbnail.map((contentResource) => (\n          <ContentResource\n            contentResource={contentResource as PrimitivesExternalWebResource}\n            key={contentResource.id}\n            region={region}\n            {...attributes}\n          />\n        ))}\n    </>\n  );\n};\n\nexport default Thumbnail;\n","import React from \"react\";\n\nexport const NextIcon: React.FC = () => {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\n      <title>Next</title>\n      <path\n        fill=\"none\"\n        stroke=\"currentColor\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n        strokeMiterlimit=\"10\"\n        strokeWidth=\"45\"\n        d=\"M268 112l144 144-144 144M392 256H100\"\n      />\n    </svg>\n  );\n};\n","import React from \"react\";\n\nexport const PreviousIcon: React.FC = () => {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\n      <title>Previous</title>\n      <path\n        fill=\"none\"\n        stroke=\"currentColor\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n        strokeMiterlimit=\"10\"\n        strokeWidth=\"45\"\n        d=\"M244 400L100 256l144-144M120 256h292\"\n      />\n    </svg>\n  );\n};\n","import { Homepage } from \"src/components/Primitives\";\nimport React from \"react\";\nimport { styled } from \"src/styles/stitches.config\";\n\nconst ViewAllStyled = styled(Homepage, {\n  display: \"flex\",\n  backgroundColor: \"$accent\",\n  color: \"$secondary\",\n  height: \"2rem !important\",\n  padding: \"0 $3\",\n  margin: \"0 0 0 $3\",\n  borderRadius: \"2rem\",\n  cursor: \"pointer\",\n  boxSizing: \"content-box !important\",\n  transition: \"$all\",\n  justifyContent: \"center\",\n  alignItems: \"center\",\n  lineBreak: \"none\",\n  whiteSpace: \"nowrap\",\n  textDecoration: \"none !important\",\n  fontSize: \"0.8333rem\",\n\n  [`&:hover`]: {\n    backgroundColor: \"$accentAlt\",\n    boxShadow: \"3px 3px 11px #0003\",\n\n    [`&:disabled`]: {\n      boxShadow: \"unset\",\n    },\n  },\n});\n\nconst ViewAll = (props) => {\n  return <ViewAllStyled {...props}>View All</ViewAllStyled>;\n};\n\nexport default ViewAll;\n","import { ContentResource, InternationalString } from \"@iiif/presentation-3\";\nimport { ControlStyled, Icon } from \"./Control.styled\";\nimport { HeaderContent, HeaderControls, HeaderStyled } from \"./Header.styled\";\nimport { Homepage, Label, Summary } from \"src/components/Primitives\";\nimport React, { useEffect, useState } from \"react\";\n\nimport { NextIcon } from \"src/components/Slider/Icons/NextIcon\";\nimport { PreviousIcon } from \"src/components/Slider/Icons/PrevIcon\";\nimport ViewAll from \"./ViewAll\";\n\ninterface HeaderProps {\n  homepage?: ContentResource[];\n  instance: number;\n  label: InternationalString;\n  summary: InternationalString;\n}\n\nconst Header: React.FC<HeaderProps> = ({\n  homepage,\n  instance,\n  label,\n  summary,\n}) => {\n  const [hasHomepage, setHasHomepage] = useState<boolean>(false);\n\n  useEffect(() => {\n    if (homepage && homepage?.length > 0) setHasHomepage(true);\n  }, [homepage]);\n\n  return (\n    <HeaderStyled data-testid=\"slider-header\">\n      <HeaderContent>\n        {hasHomepage ? (\n          <Homepage\n            // @ts-ignore\n            homepage={homepage}\n            className=\"clover-slider-header-homepage\"\n          >\n            <Label\n              label={label}\n              as=\"span\"\n              className=\"clover-slider-header-label\"\n            />\n          </Homepage>\n        ) : (\n          <Label\n            label={label}\n            as=\"span\"\n            className=\"clover-slider-header-label\"\n          />\n        )}\n\n        {summary && (\n          <Summary\n            summary={summary}\n            as=\"span\"\n            className=\"clover-slider-header-summary\"\n          />\n        )}\n      </HeaderContent>\n      <HeaderControls>\n        <ControlStyled\n          className={`clover-slider-previous-${instance}`}\n          aria-label=\"previous\"\n        >\n          <Icon>\n            <PreviousIcon />\n          </Icon>\n        </ControlStyled>\n        <ControlStyled\n          className={`clover-slider-next-${instance}`}\n          aria-label=\"next\"\n        >\n          <Icon>\n            <NextIcon />\n          </Icon>\n        </ControlStyled>\n        {hasHomepage && (\n          <ViewAll\n            homepage={homepage}\n            className=\"clover-slider-header-view-all\"\n          />\n        )}\n      </HeaderControls>\n    </HeaderStyled>\n  );\n};\n\nexport default Header;\n","function isObject(o) {\n  return typeof o === 'object' && o !== null && o.constructor && Object.prototype.toString.call(o).slice(8, -1) === 'Object';\n}\nfunction extend(target, src) {\n  const noExtend = ['__proto__', 'constructor', 'prototype'];\n  Object.keys(src).filter(key => noExtend.indexOf(key) < 0).forEach(key => {\n    if (typeof target[key] === 'undefined') target[key] = src[key];else if (isObject(src[key]) && isObject(target[key]) && Object.keys(src[key]).length > 0) {\n      if (src[key].__swiper__) target[key] = src[key];else extend(target[key], src[key]);\n    } else {\n      target[key] = src[key];\n    }\n  });\n}\nfunction needsNavigation(params = {}) {\n  return params.navigation && typeof params.navigation.nextEl === 'undefined' && typeof params.navigation.prevEl === 'undefined';\n}\nfunction needsPagination(params = {}) {\n  return params.pagination && typeof params.pagination.el === 'undefined';\n}\nfunction needsScrollbar(params = {}) {\n  return params.scrollbar && typeof params.scrollbar.el === 'undefined';\n}\nfunction uniqueClasses(classNames = '') {\n  const classes = classNames.split(' ').map(c => c.trim()).filter(c => !!c);\n  const unique = [];\n  classes.forEach(c => {\n    if (unique.indexOf(c) < 0) unique.push(c);\n  });\n  return unique.join(' ');\n}\nfunction attrToProp(attrName = '') {\n  return attrName.replace(/-[a-z]/g, l => l.toUpperCase().replace('-', ''));\n}\nfunction wrapperClass(className = '') {\n  if (!className) return 'swiper-wrapper';\n  if (!className.includes('swiper-wrapper')) return `swiper-wrapper ${className}`;\n  return className;\n}\nexport { isObject, extend, needsNavigation, needsPagination, needsScrollbar, uniqueClasses, attrToProp, wrapperClass };","/* underscore in name -> watch for changes */\nconst paramsList = ['eventsPrefix', 'injectStyles', 'injectStylesUrls', 'modules', 'init', '_direction', 'oneWayMovement', 'touchEventsTarget', 'initialSlide', '_speed', 'cssMode', 'updateOnWindowResize', 'resizeObserver', 'nested', 'focusableElements', '_enabled', '_width', '_height', 'preventInteractionOnTransition', 'userAgent', 'url', '_edgeSwipeDetection', '_edgeSwipeThreshold', '_freeMode', '_autoHeight', 'setWrapperSize', 'virtualTranslate', '_effect', 'breakpoints', '_spaceBetween', '_slidesPerView', 'maxBackfaceHiddenSlides', '_grid', '_slidesPerGroup', '_slidesPerGroupSkip', '_slidesPerGroupAuto', '_centeredSlides', '_centeredSlidesBounds', '_slidesOffsetBefore', '_slidesOffsetAfter', 'normalizeSlideIndex', '_centerInsufficientSlides', '_watchOverflow', 'roundLengths', 'touchRatio', 'touchAngle', 'simulateTouch', '_shortSwipes', '_longSwipes', 'longSwipesRatio', 'longSwipesMs', '_followFinger', 'allowTouchMove', '_threshold', 'touchMoveStopPropagation', 'touchStartPreventDefault', 'touchStartForcePreventDefault', 'touchReleaseOnEdges', 'uniqueNavElements', '_resistance', '_resistanceRatio', '_watchSlidesProgress', '_grabCursor', 'preventClicks', 'preventClicksPropagation', '_slideToClickedSlide', '_loop', 'loopedSlides', 'loopPreventsSliding', '_rewind', '_allowSlidePrev', '_allowSlideNext', '_swipeHandler', '_noSwiping', 'noSwipingClass', 'noSwipingSelector', 'passiveListeners', 'containerModifierClass', 'slideClass', 'slideActiveClass', 'slideVisibleClass', 'slideNextClass', 'slidePrevClass', 'wrapperClass', 'lazyPreloaderClass', 'lazyPreloadPrevNext', 'runCallbacksOnInit', 'observer', 'observeParents', 'observeSlideChildren',\n// modules\n'a11y', '_autoplay', '_controller', 'coverflowEffect', 'cubeEffect', 'fadeEffect', 'flipEffect', 'creativeEffect', 'cardsEffect', 'hashNavigation', 'history', 'keyboard', 'mousewheel', '_navigation', '_pagination', 'parallax', '_scrollbar', '_thumbs', 'virtual', 'zoom', 'control'];\nexport { paramsList };","import Swiper from 'swiper';\nimport { isObject, extend } from './utils.js';\nimport { paramsList } from './params-list.js';\nfunction getParams(obj = {}, splitEvents = true) {\n  const params = {\n    on: {}\n  };\n  const events = {};\n  const passedParams = {};\n  extend(params, Swiper.defaults);\n  extend(params, Swiper.extendedDefaults);\n  params._emitClasses = true;\n  params.init = false;\n  const rest = {};\n  const allowedParams = paramsList.map(key => key.replace(/_/, ''));\n  const plainObj = Object.assign({}, obj);\n  Object.keys(plainObj).forEach(key => {\n    if (typeof obj[key] === 'undefined') return;\n    if (allowedParams.indexOf(key) >= 0) {\n      if (isObject(obj[key])) {\n        params[key] = {};\n        passedParams[key] = {};\n        extend(params[key], obj[key]);\n        extend(passedParams[key], obj[key]);\n      } else {\n        params[key] = obj[key];\n        passedParams[key] = obj[key];\n      }\n    } else if (key.search(/on[A-Z]/) === 0 && typeof obj[key] === 'function') {\n      if (splitEvents) {\n        events[`${key[2].toLowerCase()}${key.substr(3)}`] = obj[key];\n      } else {\n        params.on[`${key[2].toLowerCase()}${key.substr(3)}`] = obj[key];\n      }\n    } else {\n      rest[key] = obj[key];\n    }\n  });\n  ['navigation', 'pagination', 'scrollbar'].forEach(key => {\n    if (params[key] === true) params[key] = {};\n    if (params[key] === false) delete params[key];\n  });\n  return {\n    params,\n    passedParams,\n    rest,\n    events\n  };\n}\nexport { getParams };","import { needsNavigation, needsPagination, needsScrollbar } from './utils.js';\nfunction mountSwiper({\n  el,\n  nextEl,\n  prevEl,\n  paginationEl,\n  scrollbarEl,\n  swiper\n}, swiperParams) {\n  if (needsNavigation(swiperParams) && nextEl && prevEl) {\n    swiper.params.navigation.nextEl = nextEl;\n    swiper.originalParams.navigation.nextEl = nextEl;\n    swiper.params.navigation.prevEl = prevEl;\n    swiper.originalParams.navigation.prevEl = prevEl;\n  }\n  if (needsPagination(swiperParams) && paginationEl) {\n    swiper.params.pagination.el = paginationEl;\n    swiper.originalParams.pagination.el = paginationEl;\n  }\n  if (needsScrollbar(swiperParams) && scrollbarEl) {\n    swiper.params.scrollbar.el = scrollbarEl;\n    swiper.originalParams.scrollbar.el = scrollbarEl;\n  }\n  swiper.init(el);\n}\nexport { mountSwiper };","import { paramsList } from './params-list.js';\nimport { isObject } from './utils.js';\nfunction getChangedParams(swiperParams, oldParams, children, oldChildren, getKey) {\n  const keys = [];\n  if (!oldParams) return keys;\n  const addKey = key => {\n    if (keys.indexOf(key) < 0) keys.push(key);\n  };\n  if (children && oldChildren) {\n    const oldChildrenKeys = oldChildren.map(getKey);\n    const childrenKeys = children.map(getKey);\n    if (oldChildrenKeys.join('') !== childrenKeys.join('')) addKey('children');\n    if (oldChildren.length !== children.length) addKey('children');\n  }\n  const watchParams = paramsList.filter(key => key[0] === '_').map(key => key.replace(/_/, ''));\n  watchParams.forEach(key => {\n    if (key in swiperParams && key in oldParams) {\n      if (isObject(swiperParams[key]) && isObject(oldParams[key])) {\n        const newKeys = Object.keys(swiperParams[key]);\n        const oldKeys = Object.keys(oldParams[key]);\n        if (newKeys.length !== oldKeys.length) {\n          addKey(key);\n        } else {\n          newKeys.forEach(newKey => {\n            if (swiperParams[key][newKey] !== oldParams[key][newKey]) {\n              addKey(key);\n            }\n          });\n          oldKeys.forEach(oldKey => {\n            if (swiperParams[key][oldKey] !== oldParams[key][oldKey]) addKey(key);\n          });\n        }\n      } else if (swiperParams[key] !== oldParams[key]) {\n        addKey(key);\n      }\n    }\n  });\n  return keys;\n}\nexport { getChangedParams };","import React from 'react';\nfunction isChildSwiperSlide(child) {\n  return child.type && child.type.displayName && child.type.displayName.includes('SwiperSlide');\n}\nfunction processChildren(c) {\n  const slides = [];\n  React.Children.toArray(c).forEach(child => {\n    if (isChildSwiperSlide(child)) {\n      slides.push(child);\n    } else if (child.props && child.props.children) {\n      processChildren(child.props.children).forEach(slide => slides.push(slide));\n    }\n  });\n  return slides;\n}\nfunction getChildren(c) {\n  const slides = [];\n  const slots = {\n    'container-start': [],\n    'container-end': [],\n    'wrapper-start': [],\n    'wrapper-end': []\n  };\n  React.Children.toArray(c).forEach(child => {\n    if (isChildSwiperSlide(child)) {\n      slides.push(child);\n    } else if (child.props && child.props.slot && slots[child.props.slot]) {\n      slots[child.props.slot].push(child);\n    } else if (child.props && child.props.children) {\n      const foundSlides = processChildren(child.props.children);\n      if (foundSlides.length > 0) {\n        foundSlides.forEach(slide => slides.push(slide));\n      } else {\n        slots['container-end'].push(child);\n      }\n    } else {\n      slots['container-end'].push(child);\n    }\n  });\n  return {\n    slides,\n    slots\n  };\n}\nexport { getChildren };","import { isObject, extend } from './utils.js';\nfunction updateSwiper({\n  swiper,\n  slides,\n  passedParams,\n  changedParams,\n  nextEl,\n  prevEl,\n  scrollbarEl,\n  paginationEl\n}) {\n  const updateParams = changedParams.filter(key => key !== 'children' && key !== 'direction' && key !== 'wrapperClass');\n  const {\n    params: currentParams,\n    pagination,\n    navigation,\n    scrollbar,\n    virtual,\n    thumbs\n  } = swiper;\n  let needThumbsInit;\n  let needControllerInit;\n  let needPaginationInit;\n  let needScrollbarInit;\n  let needNavigationInit;\n  let loopNeedDestroy;\n  let loopNeedEnable;\n  let loopNeedReloop;\n  if (changedParams.includes('thumbs') && passedParams.thumbs && passedParams.thumbs.swiper && currentParams.thumbs && !currentParams.thumbs.swiper) {\n    needThumbsInit = true;\n  }\n  if (changedParams.includes('controller') && passedParams.controller && passedParams.controller.control && currentParams.controller && !currentParams.controller.control) {\n    needControllerInit = true;\n  }\n  if (changedParams.includes('pagination') && passedParams.pagination && (passedParams.pagination.el || paginationEl) && (currentParams.pagination || currentParams.pagination === false) && pagination && !pagination.el) {\n    needPaginationInit = true;\n  }\n  if (changedParams.includes('scrollbar') && passedParams.scrollbar && (passedParams.scrollbar.el || scrollbarEl) && (currentParams.scrollbar || currentParams.scrollbar === false) && scrollbar && !scrollbar.el) {\n    needScrollbarInit = true;\n  }\n  if (changedParams.includes('navigation') && passedParams.navigation && (passedParams.navigation.prevEl || prevEl) && (passedParams.navigation.nextEl || nextEl) && (currentParams.navigation || currentParams.navigation === false) && navigation && !navigation.prevEl && !navigation.nextEl) {\n    needNavigationInit = true;\n  }\n  const destroyModule = mod => {\n    if (!swiper[mod]) return;\n    swiper[mod].destroy();\n    if (mod === 'navigation') {\n      if (swiper.isElement) {\n        swiper[mod].prevEl.remove();\n        swiper[mod].nextEl.remove();\n      }\n      currentParams[mod].prevEl = undefined;\n      currentParams[mod].nextEl = undefined;\n      swiper[mod].prevEl = undefined;\n      swiper[mod].nextEl = undefined;\n    } else {\n      if (swiper.isElement) {\n        swiper[mod].el.remove();\n      }\n      currentParams[mod].el = undefined;\n      swiper[mod].el = undefined;\n    }\n  };\n  if (changedParams.includes('loop') && swiper.isElement) {\n    if (currentParams.loop && !passedParams.loop) {\n      loopNeedDestroy = true;\n    } else if (!currentParams.loop && passedParams.loop) {\n      loopNeedEnable = true;\n    } else {\n      loopNeedReloop = true;\n    }\n  }\n  updateParams.forEach(key => {\n    if (isObject(currentParams[key]) && isObject(passedParams[key])) {\n      extend(currentParams[key], passedParams[key]);\n      if ((key === 'navigation' || key === 'pagination' || key === 'scrollbar') && 'enabled' in passedParams[key] && !passedParams[key].enabled) {\n        destroyModule(key);\n      }\n    } else {\n      const newValue = passedParams[key];\n      if ((newValue === true || newValue === false) && (key === 'navigation' || key === 'pagination' || key === 'scrollbar')) {\n        if (newValue === false) {\n          destroyModule(key);\n        }\n      } else {\n        currentParams[key] = passedParams[key];\n      }\n    }\n  });\n  if (updateParams.includes('controller') && !needControllerInit && swiper.controller && swiper.controller.control && currentParams.controller && currentParams.controller.control) {\n    swiper.controller.control = currentParams.controller.control;\n  }\n  if (changedParams.includes('children') && slides && virtual && currentParams.virtual.enabled) {\n    virtual.slides = slides;\n    virtual.update(true);\n  }\n  if (changedParams.includes('children') && slides && currentParams.loop) {\n    loopNeedReloop = true;\n  }\n  if (needThumbsInit) {\n    const initialized = thumbs.init();\n    if (initialized) thumbs.update(true);\n  }\n  if (needControllerInit) {\n    swiper.controller.control = currentParams.controller.control;\n  }\n  if (needPaginationInit) {\n    if (swiper.isElement && (!paginationEl || typeof paginationEl === 'string')) {\n      paginationEl = document.createElement('div');\n      paginationEl.classList.add('swiper-pagination');\n      swiper.el.shadowEl.appendChild(paginationEl);\n    }\n    if (paginationEl) currentParams.pagination.el = paginationEl;\n    pagination.init();\n    pagination.render();\n    pagination.update();\n  }\n  if (needScrollbarInit) {\n    if (swiper.isElement && (!scrollbarEl || typeof scrollbarEl === 'string')) {\n      scrollbarEl = document.createElement('div');\n      scrollbarEl.classList.add('swiper-scrollbar');\n      swiper.el.shadowEl.appendChild(scrollbarEl);\n    }\n    if (scrollbarEl) currentParams.scrollbar.el = scrollbarEl;\n    scrollbar.init();\n    scrollbar.updateSize();\n    scrollbar.setTranslate();\n  }\n  if (needNavigationInit) {\n    if (swiper.isElement) {\n      if (!nextEl || typeof nextEl === 'string') {\n        nextEl = document.createElement('div');\n        nextEl.classList.add('swiper-button-next');\n        swiper.el.shadowEl.appendChild(nextEl);\n      }\n      if (!prevEl || typeof prevEl === 'string') {\n        prevEl = document.createElement('div');\n        prevEl.classList.add('swiper-button-prev');\n        swiper.el.shadowEl.appendChild(prevEl);\n      }\n    }\n    if (nextEl) currentParams.navigation.nextEl = nextEl;\n    if (prevEl) currentParams.navigation.prevEl = prevEl;\n    navigation.init();\n    navigation.update();\n  }\n  if (changedParams.includes('allowSlideNext')) {\n    swiper.allowSlideNext = passedParams.allowSlideNext;\n  }\n  if (changedParams.includes('allowSlidePrev')) {\n    swiper.allowSlidePrev = passedParams.allowSlidePrev;\n  }\n  if (changedParams.includes('direction')) {\n    swiper.changeDirection(passedParams.direction, false);\n  }\n  if (loopNeedDestroy || loopNeedReloop) {\n    swiper.loopDestroy();\n  }\n  if (loopNeedEnable || loopNeedReloop) {\n    swiper.loopCreate();\n  }\n  swiper.update();\n}\nexport { updateSwiper };","import React from 'react';\nfunction renderVirtual(swiper, slides, virtualData) {\n  if (!virtualData) return null;\n  const getSlideIndex = index => {\n    let slideIndex = index;\n    if (index < 0) {\n      slideIndex = slides.length + index;\n    } else if (slideIndex >= slides.length) {\n      // eslint-disable-next-line\n      slideIndex = slideIndex - slides.length;\n    }\n    return slideIndex;\n  };\n  const style = swiper.isHorizontal() ? {\n    [swiper.rtlTranslate ? 'right' : 'left']: `${virtualData.offset}px`\n  } : {\n    top: `${virtualData.offset}px`\n  };\n  const {\n    from,\n    to\n  } = virtualData;\n  const loopFrom = swiper.params.loop ? -slides.length : 0;\n  const loopTo = swiper.params.loop ? slides.length * 2 : slides.length;\n  const slidesToRender = [];\n  for (let i = loopFrom; i < loopTo; i += 1) {\n    if (i >= from && i <= to) {\n      slidesToRender.push(slides[getSlideIndex(i)]);\n    }\n  }\n  return slidesToRender.map((child, index) => {\n    return /*#__PURE__*/React.cloneElement(child, {\n      swiper,\n      style,\n      key: `slide-${index}`\n    });\n  });\n}\nexport { renderVirtual };","export const updateOnVirtualData = swiper => {\n  if (!swiper || swiper.destroyed || !swiper.params.virtual || swiper.params.virtual && !swiper.params.virtual.enabled) return;\n  swiper.updateSlides();\n  swiper.updateProgress();\n  swiper.updateSlidesClasses();\n  if (swiper.parallax && swiper.params.parallax && swiper.params.parallax.enabled) {\n    swiper.parallax.setTranslate();\n  }\n};","import { useEffect, useLayoutEffect } from 'react';\nfunction useIsomorphicLayoutEffect(callback, deps) {\n  // eslint-disable-next-line\n  if (typeof window === 'undefined') return useEffect(callback, deps);\n  return useLayoutEffect(callback, deps);\n}\nexport { useIsomorphicLayoutEffect };","import { createContext, useContext } from 'react';\nexport const SwiperSlideContext = /*#__PURE__*/createContext(null);\nexport const useSwiperSlide = () => {\n  return useContext(SwiperSlideContext);\n};\nexport const SwiperContext = /*#__PURE__*/createContext(null);\nexport const useSwiper = () => {\n  return useContext(SwiperContext);\n};","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React, { useRef, useState, useEffect, forwardRef } from 'react';\nimport SwiperCore from 'swiper';\nimport { getParams } from '../components-shared/get-params.js';\nimport { mountSwiper } from '../components-shared/mount-swiper.js';\nimport { needsScrollbar, needsNavigation, needsPagination, uniqueClasses, extend, wrapperClass } from '../components-shared/utils.js';\nimport { getChangedParams } from '../components-shared/get-changed-params.js';\nimport { getChildren } from './get-children.js';\nimport { updateSwiper } from '../components-shared/update-swiper.js';\nimport { renderVirtual } from './virtual.js';\nimport { updateOnVirtualData } from '../components-shared/update-on-virtual-data.js';\nimport { useIsomorphicLayoutEffect } from './use-isomorphic-layout-effect.js';\nimport { SwiperContext } from './context.js';\nconst Swiper = /*#__PURE__*/forwardRef(function (_temp, externalElRef) {\n  let {\n    className,\n    tag: Tag = 'div',\n    wrapperTag: WrapperTag = 'div',\n    children,\n    onSwiper,\n    ...rest\n  } = _temp === void 0 ? {} : _temp;\n  let eventsAssigned = false;\n  const [containerClasses, setContainerClasses] = useState('swiper');\n  const [virtualData, setVirtualData] = useState(null);\n  const [breakpointChanged, setBreakpointChanged] = useState(false);\n  const initializedRef = useRef(false);\n  const swiperElRef = useRef(null);\n  const swiperRef = useRef(null);\n  const oldPassedParamsRef = useRef(null);\n  const oldSlides = useRef(null);\n  const nextElRef = useRef(null);\n  const prevElRef = useRef(null);\n  const paginationElRef = useRef(null);\n  const scrollbarElRef = useRef(null);\n  const {\n    params: swiperParams,\n    passedParams,\n    rest: restProps,\n    events\n  } = getParams(rest);\n  const {\n    slides,\n    slots\n  } = getChildren(children);\n  const onBeforeBreakpoint = () => {\n    setBreakpointChanged(!breakpointChanged);\n  };\n  Object.assign(swiperParams.on, {\n    _containerClasses(swiper, classes) {\n      setContainerClasses(classes);\n    }\n  });\n  const initSwiper = () => {\n    // init swiper\n    Object.assign(swiperParams.on, events);\n    eventsAssigned = true;\n    const passParams = {\n      ...swiperParams\n    };\n    delete passParams.wrapperClass;\n    swiperRef.current = new SwiperCore(passParams);\n    if (swiperRef.current.virtual && swiperRef.current.params.virtual.enabled) {\n      swiperRef.current.virtual.slides = slides;\n      const extendWith = {\n        cache: false,\n        slides,\n        renderExternal: setVirtualData,\n        renderExternalUpdate: false\n      };\n      extend(swiperRef.current.params.virtual, extendWith);\n      extend(swiperRef.current.originalParams.virtual, extendWith);\n    }\n  };\n  if (!swiperElRef.current) {\n    initSwiper();\n  }\n\n  // Listen for breakpoints change\n  if (swiperRef.current) {\n    swiperRef.current.on('_beforeBreakpoint', onBeforeBreakpoint);\n  }\n  const attachEvents = () => {\n    if (eventsAssigned || !events || !swiperRef.current) return;\n    Object.keys(events).forEach(eventName => {\n      swiperRef.current.on(eventName, events[eventName]);\n    });\n  };\n  const detachEvents = () => {\n    if (!events || !swiperRef.current) return;\n    Object.keys(events).forEach(eventName => {\n      swiperRef.current.off(eventName, events[eventName]);\n    });\n  };\n  useEffect(() => {\n    return () => {\n      if (swiperRef.current) swiperRef.current.off('_beforeBreakpoint', onBeforeBreakpoint);\n    };\n  });\n\n  // set initialized flag\n  useEffect(() => {\n    if (!initializedRef.current && swiperRef.current) {\n      swiperRef.current.emitSlidesClasses();\n      initializedRef.current = true;\n    }\n  });\n\n  // mount swiper\n  useIsomorphicLayoutEffect(() => {\n    if (externalElRef) {\n      externalElRef.current = swiperElRef.current;\n    }\n    if (!swiperElRef.current) return;\n    if (swiperRef.current.destroyed) {\n      initSwiper();\n    }\n    mountSwiper({\n      el: swiperElRef.current,\n      nextEl: nextElRef.current,\n      prevEl: prevElRef.current,\n      paginationEl: paginationElRef.current,\n      scrollbarEl: scrollbarElRef.current,\n      swiper: swiperRef.current\n    }, swiperParams);\n    if (onSwiper) onSwiper(swiperRef.current);\n    // eslint-disable-next-line\n    return () => {\n      if (swiperRef.current && !swiperRef.current.destroyed) {\n        swiperRef.current.destroy(true, false);\n      }\n    };\n  }, []);\n\n  // watch for params change\n  useIsomorphicLayoutEffect(() => {\n    attachEvents();\n    const changedParams = getChangedParams(passedParams, oldPassedParamsRef.current, slides, oldSlides.current, c => c.key);\n    oldPassedParamsRef.current = passedParams;\n    oldSlides.current = slides;\n    if (changedParams.length && swiperRef.current && !swiperRef.current.destroyed) {\n      updateSwiper({\n        swiper: swiperRef.current,\n        slides,\n        passedParams,\n        changedParams,\n        nextEl: nextElRef.current,\n        prevEl: prevElRef.current,\n        scrollbarEl: scrollbarElRef.current,\n        paginationEl: paginationElRef.current\n      });\n    }\n    return () => {\n      detachEvents();\n    };\n  });\n\n  // update on virtual update\n  useIsomorphicLayoutEffect(() => {\n    updateOnVirtualData(swiperRef.current);\n  }, [virtualData]);\n\n  // bypass swiper instance to slides\n  function renderSlides() {\n    if (swiperParams.virtual) {\n      return renderVirtual(swiperRef.current, slides, virtualData);\n    }\n    return slides.map((child, index) => {\n      return /*#__PURE__*/React.cloneElement(child, {\n        swiper: swiperRef.current,\n        swiperSlideIndex: index\n      });\n    });\n  }\n  return /*#__PURE__*/React.createElement(Tag, _extends({\n    ref: swiperElRef,\n    className: uniqueClasses(`${containerClasses}${className ? ` ${className}` : ''}`)\n  }, restProps), /*#__PURE__*/React.createElement(SwiperContext.Provider, {\n    value: swiperRef.current\n  }, slots['container-start'], /*#__PURE__*/React.createElement(WrapperTag, {\n    className: wrapperClass(swiperParams.wrapperClass)\n  }, slots['wrapper-start'], renderSlides(), slots['wrapper-end']), needsNavigation(swiperParams) && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    ref: prevElRef,\n    className: \"swiper-button-prev\"\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    ref: nextElRef,\n    className: \"swiper-button-next\"\n  })), needsScrollbar(swiperParams) && /*#__PURE__*/React.createElement(\"div\", {\n    ref: scrollbarElRef,\n    className: \"swiper-scrollbar\"\n  }), needsPagination(swiperParams) && /*#__PURE__*/React.createElement(\"div\", {\n    ref: paginationElRef,\n    className: \"swiper-pagination\"\n  }), slots['container-end']));\n});\nSwiper.displayName = 'Swiper';\nexport { Swiper };","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React, { useRef, useState, forwardRef } from 'react';\nimport { uniqueClasses } from '../components-shared/utils.js';\nimport { useIsomorphicLayoutEffect } from './use-isomorphic-layout-effect.js';\nimport { SwiperSlideContext } from './context.js';\nconst SwiperSlide = /*#__PURE__*/forwardRef(function (_temp, externalRef) {\n  let {\n    tag: Tag = 'div',\n    children,\n    className = '',\n    swiper,\n    zoom,\n    lazy,\n    virtualIndex,\n    swiperSlideIndex,\n    ...rest\n  } = _temp === void 0 ? {} : _temp;\n  const slideElRef = useRef(null);\n  const [slideClasses, setSlideClasses] = useState('swiper-slide');\n  const [lazyLoaded, setLazyLoaded] = useState(false);\n  function updateClasses(_s, el, classNames) {\n    if (el === slideElRef.current) {\n      setSlideClasses(classNames);\n    }\n  }\n  useIsomorphicLayoutEffect(() => {\n    if (typeof swiperSlideIndex !== 'undefined') {\n      slideElRef.current.swiperSlideIndex = swiperSlideIndex;\n    }\n    if (externalRef) {\n      externalRef.current = slideElRef.current;\n    }\n    if (!slideElRef.current || !swiper) {\n      return;\n    }\n    if (swiper.destroyed) {\n      if (slideClasses !== 'swiper-slide') {\n        setSlideClasses('swiper-slide');\n      }\n      return;\n    }\n    swiper.on('_slideClass', updateClasses);\n    // eslint-disable-next-line\n    return () => {\n      if (!swiper) return;\n      swiper.off('_slideClass', updateClasses);\n    };\n  });\n  useIsomorphicLayoutEffect(() => {\n    if (swiper && slideElRef.current && !swiper.destroyed) {\n      setSlideClasses(swiper.getSlideClasses(slideElRef.current));\n    }\n  }, [swiper]);\n  const slideData = {\n    isActive: slideClasses.indexOf('swiper-slide-active') >= 0,\n    isVisible: slideClasses.indexOf('swiper-slide-visible') >= 0,\n    isPrev: slideClasses.indexOf('swiper-slide-prev') >= 0,\n    isNext: slideClasses.indexOf('swiper-slide-next') >= 0\n  };\n  const renderChildren = () => {\n    return typeof children === 'function' ? children(slideData) : children;\n  };\n  const onLoad = () => {\n    setLazyLoaded(true);\n  };\n  return /*#__PURE__*/React.createElement(Tag, _extends({\n    ref: slideElRef,\n    className: uniqueClasses(`${slideClasses}${className ? ` ${className}` : ''}`),\n    \"data-swiper-slide-index\": virtualIndex,\n    onLoad: onLoad\n  }, rest), zoom && /*#__PURE__*/React.createElement(SwiperSlideContext.Provider, {\n    value: slideData\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"swiper-zoom-container\",\n    \"data-swiper-zoom\": typeof zoom === 'number' ? zoom : undefined\n  }, renderChildren(), lazy && !lazyLoaded && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"swiper-lazy-preloader\"\n  }))), !zoom && /*#__PURE__*/React.createElement(SwiperSlideContext.Provider, {\n    value: slideData\n  }, renderChildren(), lazy && !lazyLoaded && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"swiper-lazy-preloader\"\n  })));\n});\nSwiperSlide.displayName = 'SwiperSlide';\nexport { SwiperSlide };","import { styled } from \"src/styles/stitches.config\";\n\nconst Anchor = styled(\"a\", {\n  textDecoration: \"none\",\n});\n\nconst ItemStyled = styled(\"div\", {\n  position: \"relative\",\n  zIndex: \"0\",\n  borderRadius: \"3px\",\n});\n\nexport { Anchor, ItemStyled };\n","import { Label, Summary } from \"src/components/Primitives\";\n\nimport { styled } from \"src/styles/stitches.config\";\n\nconst Width = styled(\"div\", {\n  position: \"absolute\",\n  width: \"100%\",\n  backgroundColor: \"green\",\n});\n\nconst FigureStyled = styled(\"figure\", {\n  display: \"flex\",\n  flexDirection: \"column\",\n  margin: \"0 0 $2\",\n  flexGrow: \"0\",\n  flexShrink: \"0\",\n  borderRadius: \"3px\",\n  transition: \"$all\",\n\n  img: {\n    position: \"absolute\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    objectFit: \"cover\",\n    zIndex: \"0\",\n    width: \"100%\",\n    height: \"100%\",\n    color: \"transparent\",\n  },\n\n  video: {\n    position: \"absolute\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    objectFit: \"cover\",\n    zIndex: \"1\",\n    width: \"100%\",\n    height: \"100%\",\n    color: \"transparent\",\n    opacity: \"0\",\n    transition: \"$load\",\n    borderRadius: \"3px\",\n  },\n\n  figcaption: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    padding: \"$2 0\",\n    transition: \"$all\",\n  },\n\n  variants: {\n    isFocused: {\n      true: {\n        video: {\n          opacity: \"1\",\n        },\n\n        figcaption: {\n          color: \"$accent\",\n        },\n      },\n    },\n  },\n});\n\nconst Placeholder = styled(\"span\", {\n  display: \"flex\",\n  position: \"relative\",\n  width: \"100%\",\n  height: \"100%\",\n  overflow: \"hidden\",\n  borderRadius: \"3px\",\n  boxShadow: \"none\",\n  transition: \"$all\",\n});\n\nconst Title = styled(Label, {\n  fontSize: \"$3\",\n  fontWeight: \"700\",\n});\n\nconst Description = styled(Summary, {\n  fontSize: \"$2\",\n  marginTop: \"$1\",\n});\n\nexport { FigureStyled, Placeholder, Title, Description, Width };\n","import * as AspectRatio from \"@radix-ui/react-aspect-ratio\";\n\nimport {\n  Description,\n  FigureStyled,\n  Placeholder,\n  Title,\n  Width,\n} from \"./Figure.styled\";\nimport React, { useRef } from \"react\";\n\nimport { InternationalString } from \"@iiif/presentation-3\";\nimport { Thumbnail } from \"src/components/Primitives\";\n\ninterface FigureProps {\n  label: InternationalString;\n  summary?: InternationalString;\n  thumbnail: Array<any>;\n  index: number;\n  isFocused: boolean;\n}\n\nconst Figure: React.FC<FigureProps> = ({\n  isFocused,\n  label,\n  summary,\n  thumbnail,\n}) => {\n  const widthRef = useRef<HTMLDivElement>(null);\n\n  return (\n    <FigureStyled isFocused={isFocused}>\n      <AspectRatio.Root ratio={1 / 1}>\n        <Width ref={widthRef} />\n        <Placeholder>\n          <Thumbnail\n            altAsLabel={label}\n            thumbnail={thumbnail}\n            data-testid=\"figure-thumbnail\"\n          />\n        </Placeholder>\n      </AspectRatio.Root>\n      <figcaption>\n        <Title label={label} />\n        {summary && <Description summary={summary} />}\n      </figcaption>\n    </FigureStyled>\n  );\n};\n\nexport default Figure;\n","import * as AspectRatio from \"@radix-ui/react-aspect-ratio\";\n\nimport React from \"react\";\nimport { styled } from \"src/styles/stitches.config\";\n\ninterface PlaceholderProps {\n  backgroundImage: string;\n}\n\nconst Placeholder: React.FC<PlaceholderProps> = ({ backgroundImage }) => {\n  return (\n    <StyledPlaceholder data-testid=\"slider-item-placeholder\">\n      <BackgroundImage\n        ratio={1 / 1}\n        css={{\n          backgroundImage: `url(${backgroundImage})`,\n        }}\n      />\n    </StyledPlaceholder>\n  );\n};\n\nconst BackgroundImage = styled(AspectRatio.Root, {\n  backgroundSize: \"cover\",\n  backgroundRepeat: \"no-repeat\",\n  backgroundPosition: \"50% 50%\",\n  filter: \"blur(3em)\",\n  opacity: \"0.7\",\n});\n\nconst StyledPlaceholder = styled(\"div\", {\n  position: \"absolute\",\n  width: \"100%\",\n  overflow: \"hidden\",\n  backgroundColor: \"#716C6B\",\n});\n\nexport default Placeholder;\n","import { Anchor, ItemStyled } from \"./Item.styled\";\nimport React, { MouseEvent, useState } from \"react\";\n\nimport Figure from \"src/components/Slider/Figure/Figure\";\nimport { IIIFExternalWebResource } from \"@iiif/presentation-3\";\nimport Placeholder from \"./Placeholder\";\nimport { SliderItem } from \"src/types/slider\";\n\ninterface ItemProps {\n  handleItemInteraction?: (item: SliderItem) => void;\n  index: number;\n  item: SliderItem;\n}\n\nconst Item: React.FC<ItemProps> = ({ handleItemInteraction, index, item }) => {\n  const [isFocused, setIsFocused] = useState<boolean>(false);\n\n  let thumbnail: IIIFExternalWebResource[] = [];\n  let href: string = \"#\";\n\n  if (item?.thumbnail && item?.thumbnail?.length > 0)\n    thumbnail = item.thumbnail as IIIFExternalWebResource[];\n\n  if (item?.homepage && item.homepage?.length > 0)\n    href = item.homepage[0].id as string;\n\n  const onFocus = () => setIsFocused(true);\n  const onBlur = () => setIsFocused(false);\n\n  /**\n   * if a handleItemInteraction() callback is present\n   * pass `item` object up to consuming application.\n   * if not, allow browser to route user to href value.\n   */\n  const handleAnchorClick = (e: MouseEvent<HTMLAnchorElement>) => {\n    if (!handleItemInteraction) return;\n\n    e.preventDefault();\n    handleItemInteraction(item);\n  };\n\n  return (\n    <ItemStyled data-testid=\"slider-item\">\n      <Anchor\n        data-testid=\"slider-item-anchor\"\n        href={href}\n        onClick={handleAnchorClick}\n        tabIndex={0}\n        onFocus={onFocus}\n        onBlur={onBlur}\n        onMouseEnter={onFocus}\n        onMouseLeave={onBlur}\n      >\n        <Placeholder backgroundImage=\"\" />\n        <Figure\n          data-testid=\"slider-item-figure\"\n          index={index}\n          isFocused={isFocused}\n          key={item.id}\n          label={item.label}\n          summary={item.summary}\n          thumbnail={thumbnail}\n        />\n      </Anchor>\n    </ItemStyled>\n  );\n};\n\nexport default Item;\n","import { styled } from \"src/styles/stitches.config\";\n\nconst ItemsStyled = styled(\"div\", {\n  \"& .swiper-slide\": {},\n});\n\nexport { ItemsStyled };\n","import { A11y, Navigation } from \"swiper\";\nimport React, { useRef } from \"react\";\nimport { SliderItem, SwiperBreakpoints } from \"src/types/slider\";\nimport { Swiper, SwiperSlide } from \"swiper/react\";\n\nimport { CollectionItems } from \"@iiif/presentation-3\";\nimport Item from \"./Item\";\nimport { ItemsStyled } from \"src/components/Slider/Items/Items.styled\";\n\ninterface ItemsProps {\n  breakpoints?: SwiperBreakpoints;\n  handleItemInteraction?: (item: SliderItem) => void;\n  instance: number;\n  items: CollectionItems[];\n}\n\nconst defaultBreakpoints = {\n  640: {\n    slidesPerView: 2,\n    slidesPerGroup: 2,\n    spaceBetween: 20,\n  },\n  768: {\n    slidesPerView: 3,\n    slidesPerGroup: 3,\n    spaceBetween: 30,\n  },\n  1024: {\n    slidesPerView: 4,\n    slidesPerGroup: 4,\n    spaceBetween: 40,\n  },\n  1366: {\n    slidesPerView: 5,\n    slidesPerGroup: 5,\n    spaceBetween: 50,\n  },\n  1920: {\n    slidesPerView: 6,\n    slidesPerGroup: 6,\n    spaceBetween: 60,\n  },\n};\n\nconst Items: React.FC<ItemsProps> = ({\n  breakpoints = defaultBreakpoints,\n  handleItemInteraction,\n  instance,\n  items,\n}) => {\n  const itemsRef = useRef<HTMLDivElement>(null);\n\n  return (\n    <ItemsStyled ref={itemsRef}>\n      <Swiper\n        // @ts-ignore\n        a11y={{\n          prevSlideMessage: \"previous item\",\n          nextSlideMessage: \"next item\",\n        }}\n        spaceBetween={31}\n        modules={[Navigation, A11y]}\n        navigation={{\n          nextEl: `.clover-slider-next-${instance}`,\n          prevEl: `.clover-slider-previous-${instance}`,\n        }}\n        slidesPerView={2}\n        slidesPerGroup={2}\n        breakpoints={breakpoints}\n      >\n        {items.map((item, index) => (\n          <SwiperSlide\n            key={`${item.id}-${index}`}\n            data-index={index}\n            data-type={item?.type.toLowerCase()}\n          >\n            <Item\n              handleItemInteraction={handleItemInteraction}\n              index={index}\n              item={item as SliderItem}\n            />\n          </SwiperSlide>\n        ))}\n      </Swiper>\n    </ItemsStyled>\n  );\n};\n\nexport default Items;\n","const hash = (s: string) => {\n  let h = 0;\n  const l = s?.length;\n  let i = 0;\n  if (l > 0) while (i < l) h = ((h << 5) - h + s.charCodeAt(i++)) | 0;\n  return h;\n};\n\nexport default hash;\n","var __defProp=Object.defineProperty,__defNormalProp=(e,t,i)=>t in e?__defProp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,__publicField=(e,t,i)=>(__defNormalProp(e,\"symbol\"!=typeof t?t+\"\":t,i),i);!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?t(exports):\"function\"==typeof define&&define.amd?define([\"exports\"],t):t((e=\"undefined\"!=typeof globalThis?globalThis:e||self).IIIFUpgrader={})}(this,(function(e){\"use strict\";const t=\"http://library.stanford.edu/iiif/image-api/compliance.html#level1\",i=\"http://library.stanford.edu/iiif/image-api/compliance.html#level2\",r=\"http://library.stanford.edu/iiif/image-api/conformance.html#level1\",n=\"http://library.stanford.edu/iiif/image-api/conformance.html#level2\",s=\"http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1\",a=\"http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2\",o=\"http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1\",c=\"http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2\",l=\"http://iiif.io/api/image/1/level1.json\",p=\"http://iiif.io/api/image/1/profiles/level1.json\",h=\"http://iiif.io/api/image/1/level2.json\",u=\"http://iiif.io/api/image/1/profiles/level2.json\",v=\"http://iiif.io/api/image/2/level1.json\",f=\"http://iiif.io/api/image/2/profiles/level1.json\",m=\"http://iiif.io/api/image/2/level2.json\",y=\"http://iiif.io/api/image/2/profiles/level2.json\",g=\"level1\",d=\"level2\",A=\"http://iiif.io/api/image/2/level1\",b=\"http://iiif.io/api/image/2/level2\",C=[A,b,t,i,r,n,s,a,o,c,l,p,h,u,v,f,m,y,g,d],x=[\"http://iiif.io/api/image/2/level0\",A,b,\"http://library.stanford.edu/iiif/image-api/compliance.html#level0\",t,i,\"http://library.stanford.edu/iiif/image-api/conformance.html#level0\",r,n,\"http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0\",s,a,\"http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level0\",o,c,\"http://iiif.io/api/image/1/level0.json\",\"http://iiif.io/api/image/1/profiles/level0.json\",l,p,h,u,\"http://iiif.io/api/image/2/level0.json\",\"http://iiif.io/api/image/2/profiles/level0.json\",v,f,m,y,\"level0\",g,d],w=[\"sc:Collection\",\"sc:Manifest\",\"sc:Canvas\",\"sc:AnnotationList\",\"oa:Annotation\",\"sc:Range\",\"sc:Layer\",\"sc:Sequence\",\"oa:Choice\",\"Service\",\"ContentResource\"];class L{constructor(e,t={}){__publicField(this,\"traversals\"),__publicField(this,\"options\"),this.traversals={collection:[],manifest:[],canvas:[],annotationList:[],sequence:[],annotation:[],contentResource:[],choice:[],range:[],service:[],layer:[],...e},this.options={convertPropsToArray:!0,mergeMemberProperties:!0,allowUndefinedReturn:!1,...t}}static all(e){return new L({collection:[e],manifest:[e],canvas:[e],annotationList:[e],sequence:[e],annotation:[e],contentResource:[e],choice:[e],range:[e],service:[e],layer:[e]})}traverseCollection(e){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseCollectionItems(e))),this.traversals.collection)}traverseCollectionItems(e){if(this.options.mergeMemberProperties){const t=[...(e.manifests||[]).map((e=>\"string\"==typeof e?{\"@id\":e,\"@type\":\"sc:Manifest\"}:e)),...(e.collections||[]).map((e=>\"string\"==typeof e?{\"@id\":e,\"@type\":\"sc:Collection\"}:e)),...e.members||[]];delete e.collections,delete e.manifests,e.members=t}return e.manifests&&(e.manifests=e.manifests.map((e=>this.traverseManifest(\"string\"==typeof e?{\"@id\":e,\"@type\":\"sc:Manifest\"}:e)))),e.collections&&(e.collections=e.collections.map((e=>this.traverseCollection(\"string\"==typeof e?{\"@id\":e,\"@type\":\"sc:Collection\"}:e)))),e.members&&(e.members=e.members.map((e=>\"string\"==typeof e?e:this.traverseUnknown(e)))),e}traverseManifest(e){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseManifestItems(e))),this.traversals.manifest)}traverseManifestItems(e){return e.sequences&&(e.sequences=e.sequences.map((e=>this.traverseSequence(e)))),e.structures&&(e.structures=e.structures.map((e=>this.traverseRange(e)))),e}traverseSequence(e){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseSequenceItems(e))),this.traversals.sequence)}traverseSequenceItems(e){return e.canvases&&(e.canvases=e.canvases.map((e=>this.traverseCanvas(e)))),e}traverseCanvas(e){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseCanvasItems(e))),this.traversals.canvas)}traverseCanvasItems(e){return e.images&&(e.images=e.images.map((e=>this.traverseAnnotation(e)))),e.otherContent&&(e.otherContent=e.otherContent.map((e=>this.traverseAnnotationList(e)))),e}traverseRange(e){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseRangeItems(e))),this.traversals.range)}traverseRangeItems(e){if(this.options.mergeMemberProperties){const t=[...(e.ranges||[]).map((e=>\"string\"==typeof e?{\"@id\":e,\"@type\":\"sc:Range\"}:e)),...(e.canvases||[]).map((e=>\"string\"==typeof e?{\"@id\":e,\"@type\":\"sc:Canvas\"}:e)),...e.members||[]];delete e.ranges,delete e.canvases,e.members=t.length?t.map((e=>this.traverseUnknown(e))):void 0}return e}traverseAnnotationList(e){const t=\"string\"==typeof e?{\"@id\":e,\"@type\":\"sc:AnnotationList\"}:e;return this.traverseType(this.traverseDescriptive(this.traverseAnnotationListItems(t)),this.traversals.annotationList)}traverseAnnotationListItems(e){return e.resources&&(e.resources=e.resources.map((e=>this.traverseAnnotation(e)))),e}traverseAnnotation(e){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseAnnotationItems(e))),this.traversals.annotation)}traverseAnnotationItems(e){return e.resource&&(Array.isArray(e.resource)?e.resource=e.resource.map((e=>this.traverseContentResource(e))):e.resource=this.traverseContentResource(e.resource)),e.on,e}traverseLayer(e){return this.traverseType(this.traverseLinking(this.traverseLayerItems(e)),this.traversals.layer)}traverseLayerItems(e){return e.otherContent&&(e.otherContent=e.otherContent.map((e=>this.traverseAnnotationList(e)))),e}traverseChoice(e){return this.traverseType(this.traverseChoiceItems(e),this.traversals.choice)}traverseChoiceItems(e){return e.default&&\"rdf:nil\"!==e.default&&(e.default=this.traverseContentResource(e.default)),e.item&&\"rdf:nil\"!==e.item&&(e.item=e.item.map((e=>this.traverseContentResource(e)))),e}traverseService(e){return this.traverseType(this.traverseLinking(e),this.traversals.service)}traverseContentResource(e){return\"oa:Choice\"===e[\"@type\"]?this.traverseChoice(e):this.traverseType(this.traverseDescriptive(this.traverseLinking(e)),this.traversals.contentResource)}traverseUnknown(e){if(!e[\"@type\"]||\"string\"==typeof e)return e;switch(function(e){if(null==e)throw new Error(\"Null or undefined is not a valid entity.\");if(Array.isArray(e))throw new Error(\"Array is not a valid entity\");if(\"object\"!=typeof e)throw new Error(typeof e+\" is not a valid entity\");if(\"string\"==typeof e[\"@type\"]){const t=w.indexOf(e[\"@type\"]);if(-1!==t)return w[t]}if(e.profile)return\"Service\";if(e.format)return\"ContentResource\";if(e[\"@type\"])return\"ContentResource\";throw new Error(\"Resource type is not known\")}(e)){case\"sc:Collection\":return this.traverseCollection(e);case\"sc:Manifest\":return this.traverseManifest(e);case\"sc:Canvas\":return this.traverseCanvas(e);case\"sc:Sequence\":return this.traverseSequence(e);case\"sc:Range\":return this.traverseRange(e);case\"oa:Annotation\":return this.traverseAnnotation(e);case\"sc:AnnotationList\":return this.traverseAnnotationList(e);case\"sc:Layer\":return this.traverseLayer(e);case\"Service\":return this.traverseService(e);case\"oa:Choice\":return this.traverseChoice(e);case\"ContentResource\":return this.traverseContentResource(e)}return e.profile?this.traverseService(e):e}traverseImageResource(e){const t=Array.isArray(e),i=Array.isArray(e)?e:[e],r=[];for(const n of i)\"string\"==typeof n?r.push(this.traverseContentResource({\"@id\":n,\"@type\":\"dctypes:Image\"})):r.push(this.traverseContentResource(n));return t||this.options.convertPropsToArray?r:r[0]}traverseDescriptive(e){return e.thumbnail&&(e.thumbnail=this.traverseImageResource(e.thumbnail)),e.logo&&(e.logo=this.traverseImageResource(e.logo)),e}traverseOneOrMoreServices(e){const t=Array.isArray(e),i=Array.isArray(e)?e:[e],r=[];for(const n of i)r.push(this.traverseService(n));return t||this.options.convertPropsToArray?r:r[0]}traverseLinking(e){return e.related&&(e.related=this.traverseOneOrManyType(e.related,this.traversals.contentResource)),e.rendering&&(e.rendering=this.traverseOneOrManyType(e.rendering,this.traversals.contentResource)),e.service&&(e.service=this.traverseOneOrMoreServices(e.service)),e.seeAlso&&(e.seeAlso=this.traverseOneOrManyType(e.seeAlso,this.traversals.contentResource)),e.within&&(\"string\"==typeof e.within||(e.within=this.traverseOneOrManyType(e.within,this.traversals.contentResource))),e.startCanvas&&(\"string\"==typeof e.startCanvas?e.startCanvas=this.traverseType({\"@id\":e.startCanvas,\"@type\":\"sc:Canvas\"},this.traversals.canvas):e.startCanvas&&this.traverseType(e.startCanvas,this.traversals.canvas)),e.contentLayer&&(\"string\"==typeof e.contentLayer?e.contentLayer=this.traverseLayer({\"@id\":e.contentLayer,\"@type\":\"sc:Layer\"}):e.contentLayer=this.traverseLayer(e.contentLayer)),e}traverseOneOrManyType(e,t){if(!Array.isArray(e)){if(!this.options.convertPropsToArray)return this.traverseType(e,t);e=[e]}return e.map((e=>this.traverseType(e,t)))}traverseType(e,t){return t.reduce(((e,t)=>{const i=t(e);return void 0!==i||this.options.allowUndefinedReturn?i:e}),e)}}const S=\"Attribution\",j=\"http://example.org/provider\",R=\"Unknown\";function I(e,t=\"none\"){if(!e)return{};const i=Array.isArray(e)?e:[e],r={};for(const n of i){if(\"string\"==typeof n){r[t]=r[t]?r[t]:[],r[t].push(n||\"\");continue}if(!n[\"@language\"]){r[t]=r[t]?r[t]:[],r[t].push(n[\"@value\"]||\"\");continue}const e=n[\"@language\"];r[e]=r[e]?r[e]:[],r[e].push(n[\"@value\"]||\"\")}return r}function T(e){return Array.isArray(e)?T(e.find((e=>\"string\"==typeof e))):-1!==x.indexOf(e)?\"level2\":-1!==C.indexOf(e)?\"level1\":\"string\"==typeof e?e:void 0}function k(e){for(const t of[\"sc\",\"oa\",\"dcterms\",\"dctypes\",\"iiif\"])if(e.startsWith(`${t}:`))return e.slice(t.length+1);return e}const O=[\"Collection\",\"Manifest\",\"Annotation\",\"AnnotationPage\",\"Range\",\"Service\"];function M(e){const t=e[\"@id\"]||e.id;let i=e[\"@type\"]||e.type;const r=e.profile||void 0,n=e[\"@context\"]||void 0;if(r){const e=function(e){switch(e){case\"http://iiif.io/api/image/2/level0.json\":case\"http://iiif.io/api/image/2/level1.json\":case\"http://iiif.io/api/image/2/level2.json\":return\"ImageService2\";case\"http://iiif.io/api/auth/1/kiosk\":case\"http://iiif.io/api/auth/1/login\":case\"http://iiif.io/api/auth/1/clickthrough\":case\"http://iiif.io/api/auth/1/external\":case\"http://iiif.io/api/auth/0/kiosk\":case\"http://iiif.io/api/auth/0/login\":case\"http://iiif.io/api/auth/0/clickthrough\":case\"http://iiif.io/api/auth/0/external\":return\"AuthCookieService1\";case\"http://iiif.io/api/auth/1/token\":case\"http://iiif.io/api/auth/0/token\":return\"AuthTokenService1\";case\"http://iiif.io/api/auth/1/logout\":case\"http://iiif.io/api/auth/0/logout\":return\"AuthLogoutService1\";case\"http://iiif.io/api/search/1/search\":case\"http://iiif.io/api/search/0/search\":return\"SearchService1\";case\"http://iiif.io/api/search/1/autocomplete\":case\"http://iiif.io/api/search/0/autocomplete\":return\"AutoCompleteService1\"}}(r);if(e)return e}if(n){const e=function(e){const t=Array.isArray(e)?e:[e];for(const i of t)switch(i){case\"http://iiif.io/api/image/2/context.json\":case\"http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2\":return\"ImageService2\";case\"http://iiif.io/api/image/1/context.json\":case\"http://library.stanford.edu/iiif/image-api/1.1/context.json\":return\"ImageService1\";case\"http://iiif.io/api/annex/openannotation/context.json\":return\"ImageApiSelector\"}}(n);if(e)return e}if(i){if(Array.isArray(i)){if(-1!==i.indexOf(\"oa:CssStylesheet\"))return\"CssStylesheet\";if(-1!==i.indexOf(\"cnt:ContentAsText\"))return\"TextualBody\";i=i[0]}for(const e of[\"sc\",\"oa\",\"dcterms\",\"dctypes\",\"iiif\"])if(i.startsWith(`${e}:`)){i=i.slice(e.length+1);break}switch(i){case\"Layer\":return\"AnnotationCollection\";case\"AnnotationList\":return\"AnnotationPage\";case\"cnt:ContentAsText\":return\"TextualBody\"}}if(i&&-1!==O.indexOf(i))return i;if(e.format){if(e.format.startsWith(\"image/\"))return\"Image\";if(e.format.startsWith(\"text/\"))return\"Text\";if(\"application/pdf\"===e.format)return\"Text\";if(e.format.startsWith(\"application/\"))return\"Dataset\"}return t&&(t.endsWith(\".jpg\")||t.endsWith(\".png\")||t.endsWith(\".jpeg\"))?\"Image\":i||\"unknown\"}const q=/http(s)?:\\/\\/(creativecommons.org|rightsstatements.org)[^\"'\\\\<\\n]+/gm;function P(e){const t=e.match(q);return t?t[0]:e}const _=[\"http://iiif.io/api/presentation/2/context.json\",\"http://iiif.io/api/image/2/context.json\",\"http://iiif.io/api/image/1/context.json\",\"http://library.stanford.edu/iiif/image-api/1.1/context.json\",\"http://iiif.io/api/search/1/context.json\",\"http://iiif.io/api/search/0/context.json\",\"http://iiif.io/api/auth/1/context.json\",\"http://iiif.io/api/auth/0/context.json\",\"http://iiif.io/api/annex/openannotation/context.json\"];function D(e){if(e){const t=Array.isArray(e)?e:[e],i=[];for(const e of t)\"http://iiif.io/api/presentation/2/context.json\"===e&&i.push(\"http://iiif.io/api/presentation/3/context.json\"),-1===_.indexOf(e)&&i.push(e);if(t.length)return 1===i.length?i[0]:i}}function U(e){for(const t in e)void 0!==e[t]&&null!==e[t]||delete e[t];return e}let $=0;function W(e,t){const i=encodeURI(e.id||e[\"@id\"]||\"\").trim();return i&&t?`${i}/${t}`:i||($++,`http://example.org/${e[\"@type\"]}${t?`/${t}`:\"\"}/${$}`)}function E(e){const t=[...e.behavior||[]];let i;return e.viewingHint&&t.push(e.viewingHint),Array.isArray(e.motivation)?i=e.motivation.map(k):e.motivation&&(i=k(e.motivation)),{\"@context\":e[\"@context\"]?D(e[\"@context\"]):void 0,id:(e[\"@id\"]||W(e)).trim(),type:M(e),behavior:t.length?t:void 0,height:e.height?e.height:void 0,width:e.width?e.width:void 0,motivation:i,viewingDirection:e.viewingDirection,profile:e.profile,format:e.format?e.format:void 0,duration:void 0,timeMode:void 0}}function F(e){const[t,i]=function(e,t=\"Rights/License\",i=\"none\"){let r=null;const n=[],s=Array.isArray(e)?e:[e];for(const a of s){const e=a?P(a):void 0;!e||-1===e.indexOf(\"creativecommons.org\")&&-1===e.indexOf(\"rightsstatements.org\")?e&&n.push({label:{[i]:[t]},value:{[i]:[e]}}):r=e.startsWith(\"https://\")?`http://${e.slice(8)}`:e}return[r,n]}(e.license),r=[...e.metadata?(n=e.metadata,n?n.map((e=>({label:I(e.label),value:I(e.value)}))):[]):[],...i];var n;return{rights:t,metadata:r.length?r:void 0,label:e.label?I(e.label):void 0,requiredStatement:e.attribution?{label:I(S),value:I(e.attribution)}:void 0,navDate:e.navDate,summary:e.description?I(e.description):void 0,thumbnail:e.thumbnail}}function H(e){if(!e.within)return;const t=Array.isArray(e.within)?e.within:[e.within],i=[];for(const r of t)if(\"string\"==typeof r){if(r&&\"sc:Manifest\"===e[\"@type\"])i.push({id:r,type:\"Collection\"})}else r[\"@id\"]&&i.push({id:r[\"@id\"],type:M(r)});return i.length?i:void 0}function N(e){const t=e.related?Array.isArray(e.related)?e.related:[e.related]:[],i=e.contentLayer;return{provider:e.logo||t.length?[{id:j,type:\"Agent\",homepage:t.length?[t[0]]:void 0,logo:e.logo?Array.isArray(e.logo)?e.logo:[e.logo]:void 0,label:I(R)}]:void 0,partOf:H(e),rendering:e.rendering,seeAlso:e.seeAlso,start:e.startCanvas,service:e.service?(r=e.service,Array.isArray(r)?r:[r]):void 0,supplementary:i?[i]:void 0};var r}function B(e){const t=e;return U({...E(t),...F(t),...N(t),...(i=t,{chars:i.chars,format:i.format?i.format:void 0,language:i.language})});var i}const z=new L({collection:[function(e){return U({...E(e),...F(e),...N(e),items:e.members})}],manifest:[function(e){const t=[],i=[];for(const n of e.sequences||[])n.canvases.length&&t.push(...n.canvases),n.behavior&&i.push(...n.behavior);const r=E(e);return i.length&&(r.behavior?r.behavior.push(...i):r.behavior=i),U({...r,...F(e),...N(e),items:t,structures:e.structures})}],canvas:[function(e){return U({...E(e),...F(e),...N(e),annotations:e.otherContent&&e.otherContent.length?e.otherContent:void 0,items:e.images&&e.images.length?[{id:W(e,\"annotation-page\"),type:\"AnnotationPage\",items:e.images}]:void 0})}],annotationList:[function(e){return U({...E(e),...F(e),...N(e),items:e.resources&&e.resources.length?e.resources:void 0})}],sequence:[function(e){return e.canvases&&0!==e.canvases.length?{canvases:e.canvases,behavior:e.viewingHint?[e.viewingHint]:[]}:{canvases:[],behavior:[]}}],annotation:[function(e){return U({...E(e),...F(e),...N(e),target:function e(t){if(Array.isArray(t)){if(t.length>1)return{type:\"List\",items:t.map(e)};t=t[0]}if(\"string\"==typeof t)return encodeURI(t).trim();if(\"@type\"in t){let e;if(\"string\"==typeof t.full)e=t.full;else if(\"dctypes:Image\"===t.full[\"@type\"])e={id:t.full[\"@id\"],type:\"Image\"};else{if(\"sc:Canvas\"!==t.full[\"@type\"])throw new Error(`Unsupported source type on annotation: ${t.full[\"@type\"]}`);e={id:t.full[\"@id\"],type:\"Canvas\"}}return{type:\"SpecificResource\",source:e,selector:G(t.selector)}}return encodeURI(t[\"@id\"]).trim()}(e.on),body:Array.isArray(e.resource)?e.resource.map(B):B(e.resource)})}],contentResource:[B],choice:[function(e){const t=[];return e.default&&\"rdf:nil\"!==e.default&&t.push(e.default),e.item&&\"rdf:nil\"!==e.item&&t.push(...e.item),{...E(e),...F(e),items:t}}],range:[function(e){return U({...E(e),...F(e),...N(e),items:e.members})}],service:[function(e){const{\"@id\":t,\"@type\":i,\"@context\":r,profile:n,...s}=e,a={};return t&&(a[\"@id\"]=t),a[\"@type\"]=M(e),\"unknown\"===a[\"@type\"]&&(r&&r.length&&(a[\"@context\"]=r),a[\"@type\"]=\"Service\"),n&&(a.profile=T(n)),U({...a,...s})}],layer:[function(e){return U({...E(e),...F(e),...N(e)})}]});function G(e){if((Array.isArray(e[\"@type\"])&&e[\"@type\"].includes(\"oa:SvgSelector\")||\"oa:SvgSelector\"==e[\"@type\"])&&(\"chars\"in e||\"value\"in e))return{type:\"SvgSelector\",value:\"chars\"in e?e.chars:e.value};if(\"oa:FragmentSelector\"===e[\"@type\"])return{type:\"FragmentSelector\",value:e.value};if(\"oa:Choice\"===e[\"@type\"])return[G(e.default),...(Array.isArray(e.item)?e.item:[e.item]).map(G)];if(\"iiif:ImageApiSelector\"==e[\"@type\"])return{type:\"ImageApiSelector\",region:\"region\"in e?e.region:void 0,rotation:\"rotation\"in e?e.rotation:void 0};throw new Error(`Unsupported selector type: ${e[\"@type\"]}`)}const J=function(e){return e&&e[\"@context\"]&&(\"http://iiif.io/api/presentation/2/context.json\"===e[\"@context\"]||-1!==e[\"@context\"].indexOf(\"http://iiif.io/api/presentation/2/context.json\")||\"http://www.shared-canvas.org/ns/context.json\"===e[\"@context\"])||\"http://iiif.io/api/image/2/context.json\"===e[\"@context\"]?z.traverseUnknown(e):e};e.upgrade=J,Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:\"Module\"}})}));\n//# sourceMappingURL=index.umd.js.map\n","import {\n  CollectionItems,\n  CollectionNormalized,\n  ContentResource,\n  InternationalString,\n} from \"@iiif/presentation-3\";\nimport {\n  CollectionProvider,\n  defaultState,\n  useCollectionState,\n} from \"src/context/slider-context\";\nimport { type ConfigOptions, type SliderItem } from \"src/types/slider\";\nimport React, { useEffect, useState } from \"react\";\n\nimport { ErrorBoundary } from \"react-error-boundary\";\nimport ErrorFallback from \"src/components/Slider/ErrorFallback/ErrorFallback\";\nimport Header from \"src/components/Slider/Header/Header\";\nimport Items from \"src/components/Slider/Items/Items\";\nimport hash from \"src/lib/hash\";\nimport { upgrade } from \"@iiif/parser/upgrader\";\n\nexport interface CloverSliderProps {\n  collectionId?: string;\n  iiifContent: string;\n  onItemInteraction?: (item: SliderItem) => void;\n  options?: ConfigOptions;\n}\n\nconst CloverSlider: React.FC<CloverSliderProps> = (props) => {\n  return (\n    <CollectionProvider\n      initialState={{\n        ...defaultState,\n        options: { ...props.options },\n      }}\n    >\n      <RenderSlider {...props} />\n    </CollectionProvider>\n  );\n};\n\nconst RenderSlider: React.FC<CloverSliderProps> = ({\n  collectionId,\n  iiifContent,\n  onItemInteraction,\n}) => {\n  const store = useCollectionState();\n  const { options } = store;\n  const [collection, setCollection] = useState<CollectionNormalized>();\n\n  let iiifResource = iiifContent;\n  if (collectionId) iiifResource = collectionId;\n\n  useEffect(() => {\n    if (!iiifResource) return;\n    fetch(iiifResource)\n      .then((response) => response.json())\n      .then(upgrade)\n      .then((data: any) => setCollection(data))\n      .catch((error: any) => {\n        console.error(\n          `The IIIF Collection ${iiifResource} failed to load: ${error}`,\n        );\n      });\n  }, [iiifResource]);\n\n  if (collection?.items.length === 0) {\n    console.log(`The IIIF Collection ${iiifResource} does not contain items.`);\n    return <></>;\n  }\n\n  const instance = hash(iiifResource);\n\n  if (!collection) return <></>;\n\n  return (\n    <div>\n      <ErrorBoundary FallbackComponent={ErrorFallback}>\n        <Header\n          label={collection.label as InternationalString}\n          summary={\n            collection && collection.summary\n              ? collection.summary\n              : { none: [\"\"] }\n          }\n          homepage={collection.homepage as any as ContentResource[]}\n          instance={instance}\n        />\n        <Items\n          items={collection.items as CollectionItems[]}\n          handleItemInteraction={onItemInteraction}\n          instance={instance}\n          breakpoints={options.breakpoints}\n        />\n      </ErrorBoundary>\n    </div>\n  );\n};\n\nexport default CloverSlider;\n"],"names":["defaultState","CollectionStateContext","React","CollectionDispatchContext","collectionReducer","state","action","CollectionProvider","initialState","children","dispatch","useCollectionState","context","hue","theme","media","styled","css","keyframes","createTheme","createStitches","ErrorFallbackStyled","Headline","ErrorBody","ErrorFallback","error","message","Icon","ControlStyled","HeaderContent","HeaderControls","HeaderStyled","getLabelEntries","label","lang","codes","getLabelAsString","delimiter","entries","createMarkup","html","sanitizeHTML","sanitizeAttributes","props","remove","key","attributes","sanitizeHtml","StyledLabel","Label","as","useGetImageResource","resource","size","region","id","service","imageService","StyledResource","ContentResource","mediaRef","useRef","contentResource","altAsLabel","alt","type","width","height","duration","useEffect","hls","Hls","event","data","playLoop","useCallback","startTime","loopTime","fragment","imgSrc","StyledHomepage","Homepage","homepage","PrimitivesContext","createContext","usePrimitivesContext","useContext","PrimitivesProvider","getRealPropertyValue","obj","property","StyledMarkup","Markup","markup","MarkupWrapper","Summary","summary","Thumbnail","thumbnail","NextIcon","PreviousIcon","ViewAllStyled","ViewAll","Header","instance","hasHomepage","setHasHomepage","useState","isObject","o","extend","target","src","noExtend","needsNavigation","params","needsPagination","needsScrollbar","uniqueClasses","classNames","classes","c","unique","wrapperClass","className","paramsList","getParams","splitEvents","events","passedParams","Swiper","rest","allowedParams","plainObj","mountSwiper","el","nextEl","prevEl","paginationEl","scrollbarEl","swiper","swiperParams","getChangedParams","oldParams","oldChildren","getKey","keys","addKey","oldChildrenKeys","childrenKeys","newKeys","oldKeys","newKey","oldKey","isChildSwiperSlide","child","processChildren","slides","slide","getChildren","slots","foundSlides","updateSwiper","changedParams","updateParams","currentParams","pagination","navigation","scrollbar","virtual","thumbs","needThumbsInit","needControllerInit","needPaginationInit","needScrollbarInit","needNavigationInit","loopNeedDestroy","loopNeedEnable","loopNeedReloop","destroyModule","mod","newValue","renderVirtual","virtualData","getSlideIndex","index","slideIndex","style","from","to","loopFrom","loopTo","slidesToRender","i","updateOnVirtualData","useIsomorphicLayoutEffect","callback","deps","useLayoutEffect","SwiperSlideContext","SwiperContext","_extends","source","forwardRef","_temp","externalElRef","Tag","WrapperTag","onSwiper","eventsAssigned","containerClasses","setContainerClasses","setVirtualData","breakpointChanged","setBreakpointChanged","initializedRef","swiperElRef","swiperRef","oldPassedParamsRef","oldSlides","nextElRef","prevElRef","paginationElRef","scrollbarElRef","restProps","onBeforeBreakpoint","initSwiper","passParams","SwiperCore","extendWith","attachEvents","eventName","detachEvents","renderSlides","SwiperSlide","externalRef","zoom","lazy","virtualIndex","swiperSlideIndex","slideElRef","slideClasses","setSlideClasses","lazyLoaded","setLazyLoaded","updateClasses","_s","slideData","renderChildren","onLoad","Anchor","ItemStyled","Width","FigureStyled","Placeholder","Title","Description","Figure","isFocused","widthRef","AspectRatio","backgroundImage","StyledPlaceholder","BackgroundImage","Item","handleItemInteraction","item","setIsFocused","href","_a","_b","onFocus","onBlur","handleAnchorClick","e","ItemsStyled","defaultBreakpoints","Items","breakpoints","items","itemsRef","Navigation","A11y","hash","s","h","l","__defProp","__defNormalProp","t","__publicField","exports","this","r","n","a","p","u","v","f","m","y","g","d","A","b","C","x","w","L","S","j","R","I","T","k","O","M","q","P","_","D","U","$","W","E","F","H","N","B","z","G","J","CloverSlider","RenderSlider","collectionId","iiifContent","onItemInteraction","store","options","collection","setCollection","iiifResource","response","upgrade","ErrorBoundary"],"mappings":"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","x_google_ignoreList":[26,27,28,29,30,31,32,33,34,35,36,37,38,47]}