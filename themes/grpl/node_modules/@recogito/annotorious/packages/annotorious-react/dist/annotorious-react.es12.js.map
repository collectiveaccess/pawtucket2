{"version":3,"file":"annotorious-react.es12.js","sources":["../../annotorious/dist/annotorious.es.js"],"sourcesContent":["function N() {\n}\nfunction Wt(e, t) {\n  for (const n in t)\n    e[n] = t[n];\n  return e;\n}\nfunction Rt(e) {\n  return e();\n}\nfunction lt() {\n  return /* @__PURE__ */ Object.create(null);\n}\nfunction ie(e) {\n  e.forEach(Rt);\n}\nfunction z(e) {\n  return typeof e == \"function\";\n}\nfunction q(e, t) {\n  return e != e ? t == t : e !== t || e && typeof e == \"object\" || typeof e == \"function\";\n}\nfunction Jt(e) {\n  return Object.keys(e).length === 0;\n}\nfunction Xt(e, ...t) {\n  if (e == null)\n    return N;\n  const n = e.subscribe(...t);\n  return n.unsubscribe ? () => n.unsubscribe() : n;\n}\nfunction at(e, t, n) {\n  e.$$.on_destroy.push(Xt(t, n));\n}\nfunction Qt(e, t, n, o) {\n  if (e) {\n    const i = Dt(e, t, n, o);\n    return e[0](i);\n  }\n}\nfunction Dt(e, t, n, o) {\n  return e[1] && o ? Wt(n.ctx.slice(), e[1](o(t))) : n.ctx;\n}\nfunction Zt(e, t, n, o) {\n  if (e[2] && o) {\n    const i = e[2](o(n));\n    if (t.dirty === void 0)\n      return i;\n    if (typeof i == \"object\") {\n      const s = [], r = Math.max(t.dirty.length, i.length);\n      for (let a = 0; a < r; a += 1)\n        s[a] = t.dirty[a] | i[a];\n      return s;\n    }\n    return t.dirty | i;\n  }\n  return t.dirty;\n}\nfunction Kt(e, t, n, o, i, s) {\n  if (i) {\n    const r = Dt(t, n, o, s);\n    e.p(r, i);\n  }\n}\nfunction xt(e) {\n  if (e.ctx.length > 32) {\n    const t = [], n = e.ctx.length / 32;\n    for (let o = 0; o < n; o++)\n      t[o] = -1;\n    return t;\n  }\n  return -1;\n}\nfunction re(e, t) {\n  e.appendChild(t);\n}\nfunction B(e, t, n) {\n  e.insertBefore(t, n || null);\n}\nfunction L(e) {\n  e.parentNode && e.parentNode.removeChild(e);\n}\nfunction tt(e, t) {\n  for (let n = 0; n < e.length; n += 1)\n    e[n] && e[n].d(t);\n}\nfunction P(e) {\n  return document.createElementNS(\"http://www.w3.org/2000/svg\", e);\n}\nfunction Gt(e) {\n  return document.createTextNode(e);\n}\nfunction x() {\n  return Gt(\" \");\n}\nfunction se() {\n  return Gt(\"\");\n}\nfunction V(e, t, n, o) {\n  return e.addEventListener(t, n, o), () => e.removeEventListener(t, n, o);\n}\nfunction f(e, t, n) {\n  n == null ? e.removeAttribute(t) : e.getAttribute(t) !== n && e.setAttribute(t, n);\n}\nfunction $t(e) {\n  return Array.from(e.childNodes);\n}\nfunction ct(e, t, n) {\n  e.classList[n ? \"add\" : \"remove\"](t);\n}\nfunction en(e, t, { bubbles: n = !1, cancelable: o = !1 } = {}) {\n  const i = document.createEvent(\"CustomEvent\");\n  return i.initCustomEvent(e, n, o, t), i;\n}\nlet ve;\nfunction Se(e) {\n  ve = e;\n}\nfunction Nt() {\n  if (!ve)\n    throw new Error(\"Function called outside component initialization\");\n  return ve;\n}\nfunction Me(e) {\n  Nt().$$.on_mount.push(e);\n}\nfunction be() {\n  const e = Nt();\n  return (t, n, { cancelable: o = !1 } = {}) => {\n    const i = e.$$.callbacks[t];\n    if (i) {\n      const s = en(t, n, { cancelable: o });\n      return i.slice().forEach((r) => {\n        r.call(e, s);\n      }), !s.defaultPrevented;\n    }\n    return !0;\n  };\n}\nfunction _e(e, t) {\n  const n = e.$$.callbacks[t.type];\n  n && n.slice().forEach((o) => o.call(this, t));\n}\nconst ge = [], we = [];\nlet ye = [];\nconst ft = [], tn = /* @__PURE__ */ Promise.resolve();\nlet $e = !1;\nfunction nn() {\n  $e || ($e = !0, tn.then(Ut));\n}\nfunction et(e) {\n  ye.push(e);\n}\nconst We = /* @__PURE__ */ new Set();\nlet de = 0;\nfunction Ut() {\n  if (de !== 0)\n    return;\n  const e = ve;\n  do {\n    try {\n      for (; de < ge.length; ) {\n        const t = ge[de];\n        de++, Se(t), on(t.$$);\n      }\n    } catch (t) {\n      throw ge.length = 0, de = 0, t;\n    }\n    for (Se(null), ge.length = 0, de = 0; we.length; )\n      we.pop()();\n    for (let t = 0; t < ye.length; t += 1) {\n      const n = ye[t];\n      We.has(n) || (We.add(n), n());\n    }\n    ye.length = 0;\n  } while (ge.length);\n  for (; ft.length; )\n    ft.pop()();\n  $e = !1, We.clear(), Se(e);\n}\nfunction on(e) {\n  if (e.fragment !== null) {\n    e.update(), ie(e.before_update);\n    const t = e.dirty;\n    e.dirty = [-1], e.fragment && e.fragment.p(e.ctx, t), e.after_update.forEach(et);\n  }\n}\nfunction sn(e) {\n  const t = [], n = [];\n  ye.forEach((o) => e.indexOf(o) === -1 ? t.push(o) : n.push(o)), n.forEach((o) => o()), ye = t;\n}\nconst Ge = /* @__PURE__ */ new Set();\nlet ce;\nfunction ne() {\n  ce = {\n    r: 0,\n    c: [],\n    p: ce\n    // parent group\n  };\n}\nfunction oe() {\n  ce.r || ie(ce.c), ce = ce.p;\n}\nfunction Y(e, t) {\n  e && e.i && (Ge.delete(e), e.i(t));\n}\nfunction D(e, t, n, o) {\n  if (e && e.o) {\n    if (Ge.has(e))\n      return;\n    Ge.add(e), ce.c.push(() => {\n      Ge.delete(e), o && (n && e.d(1), o());\n    }), e.o(t);\n  } else\n    o && o();\n}\nfunction ue(e) {\n  e && e.c();\n}\nfunction le(e, t, n, o) {\n  const { fragment: i, after_update: s } = e.$$;\n  i && i.m(t, n), o || et(() => {\n    const r = e.$$.on_mount.map(Rt).filter(z);\n    e.$$.on_destroy ? e.$$.on_destroy.push(...r) : ie(r), e.$$.on_mount = [];\n  }), s.forEach(et);\n}\nfunction ae(e, t) {\n  const n = e.$$;\n  n.fragment !== null && (sn(n.after_update), ie(n.on_destroy), n.fragment && n.fragment.d(t), n.on_destroy = n.fragment = null, n.ctx = []);\n}\nfunction rn(e, t) {\n  e.$$.dirty[0] === -1 && (ge.push(e), nn(), e.$$.dirty.fill(0)), e.$$.dirty[t / 31 | 0] |= 1 << t % 31;\n}\nfunction $(e, t, n, o, i, s, r, a = [-1]) {\n  const l = ve;\n  Se(e);\n  const u = e.$$ = {\n    fragment: null,\n    ctx: [],\n    // state\n    props: s,\n    update: N,\n    not_equal: i,\n    bound: lt(),\n    // lifecycle\n    on_mount: [],\n    on_destroy: [],\n    on_disconnect: [],\n    before_update: [],\n    after_update: [],\n    context: new Map(t.context || (l ? l.$$.context : [])),\n    // everything else\n    callbacks: lt(),\n    dirty: a,\n    skip_bound: !1,\n    root: t.target || l.$$.root\n  };\n  r && r(u.root);\n  let h = !1;\n  if (u.ctx = n ? n(e, t.props || {}, (c, d, ...m) => {\n    const g = m.length ? m[0] : d;\n    return u.ctx && i(u.ctx[c], u.ctx[c] = g) && (!u.skip_bound && u.bound[c] && u.bound[c](g), h && rn(e, c)), d;\n  }) : [], u.update(), h = !0, ie(u.before_update), u.fragment = o ? o(u.ctx) : !1, t.target) {\n    if (t.hydrate) {\n      const c = $t(t.target);\n      u.fragment && u.fragment.l(c), c.forEach(L);\n    } else\n      u.fragment && u.fragment.c();\n    t.intro && Y(e.$$.fragment), le(e, t.target, t.anchor, t.customElement), Ut();\n  }\n  Se(l);\n}\nclass ee {\n  $destroy() {\n    ae(this, 1), this.$destroy = N;\n  }\n  $on(t, n) {\n    if (!z(n))\n      return N;\n    const o = this.$$.callbacks[t] || (this.$$.callbacks[t] = []);\n    return o.push(n), () => {\n      const i = o.indexOf(n);\n      i !== -1 && o.splice(i, 1);\n    };\n  }\n  $set(t) {\n    this.$$set && !Jt(t) && (this.$$.skip_bound = !0, this.$$set(t), this.$$.skip_bound = !1);\n  }\n}\nvar H = /* @__PURE__ */ ((e) => (e.ELLIPSE = \"ELLIPSE\", e.POLYGON = \"POLYGON\", e.RECTANGLE = \"RECTANGLE\", e))(H || {});\nconst nt = {}, ot = (e, t) => nt[e] = t, ut = (e) => nt[e.type].area(e), ln = (e, t, n) => nt[e.type].intersects(e, t, n), Ne = (e) => {\n  let t = 1 / 0, n = 1 / 0, o = -1 / 0, i = -1 / 0;\n  return e.forEach(([s, r]) => {\n    t = Math.min(t, s), n = Math.min(n, r), o = Math.max(o, s), i = Math.max(i, r);\n  }), { minX: t, minY: n, maxX: o, maxY: i };\n}, an = {\n  area: (e) => Math.PI * e.geometry.rx * e.geometry.ry,\n  intersects: (e, t, n) => {\n    const { cx: o, cy: i, rx: s, ry: r } = e.geometry, a = 0, l = Math.cos(a), u = Math.sin(a), h = t - o, c = n - i, d = l * h + u * c, m = u * h - l * c;\n    return d * d / (s * s) + m * m / (r * r) <= 1;\n  }\n};\not(H.ELLIPSE, an);\nconst cn = {\n  area: (e) => {\n    const { points: t } = e.geometry;\n    let n = 0, o = t.length - 1;\n    for (let i = 0; i < t.length; i++)\n      n += (t[o][0] + t[i][0]) * (t[o][1] - t[i][1]), o = i;\n    return Math.abs(0.5 * n);\n  },\n  intersects: (e, t, n) => {\n    const { points: o } = e.geometry;\n    let i = !1;\n    for (let s = 0, r = o.length - 1; s < o.length; r = s++) {\n      const a = o[s][0], l = o[s][1], u = o[r][0], h = o[r][1];\n      l > n != h > n && t < (u - a) * (n - l) / (h - l) + a && (i = !i);\n    }\n    return i;\n  }\n};\not(H.POLYGON, cn);\nconst fn = {\n  area: (e) => e.geometry.w * e.geometry.h,\n  intersects: (e, t, n) => t >= e.geometry.x && t <= e.geometry.x + e.geometry.w && n >= e.geometry.y && n <= e.geometry.y + e.geometry.h\n};\not(H.RECTANGLE, fn);\nconst un = (e, t = !1) => {\n  const n = typeof e == \"string\" ? e : e.value, o = /^(xywh)=(pixel|percent)?:?(.+?),(.+?),(.+?),(.+)*/g, i = [...n.matchAll(o)][0], [s, r, a, l, u, h, c] = i;\n  if (r !== \"xywh\")\n    throw new Error(\"Unsupported MediaFragment: \" + n);\n  if (a && a !== \"pixel\")\n    throw new Error(`Unsupported MediaFragment unit: ${a}`);\n  const [d, m, g, _] = [l, u, h, c].map(parseFloat);\n  return {\n    type: H.RECTANGLE,\n    geometry: {\n      x: d,\n      y: m,\n      w: g,\n      h: _,\n      bounds: {\n        minX: d,\n        minY: t ? m - _ : m,\n        maxX: d + g,\n        maxY: t ? m : m + _\n      }\n    }\n  };\n}, dn = (e) => {\n  const { x: t, y: n, w: o, h: i } = e;\n  return {\n    type: \"FragmentSelector\",\n    conformsTo: \"http://www.w3.org/TR/media-frags/\",\n    value: `xywh=pixel:${t},${n},${o},${i}`\n  };\n}, Ht = \"http://www.w3.org/2000/svg\", dt = (e) => {\n  const t = (o) => {\n    Array.from(o.attributes).forEach((i) => {\n      i.name.startsWith(\"on\") && o.removeAttribute(i.name);\n    });\n  }, n = e.getElementsByTagName(\"script\");\n  return Array.from(n).reverse().forEach((o) => o.parentNode.removeChild(o)), Array.from(e.querySelectorAll(\"*\")).forEach(t), e;\n}, hn = (e) => {\n  const o = new XMLSerializer().serializeToString(e.documentElement).replace(\"<svg>\", `<svg xmlns=\"${Ht}\">`);\n  return new DOMParser().parseFromString(o, \"image/svg+xml\").documentElement;\n}, mn = (e) => {\n  const n = new DOMParser().parseFromString(e, \"image/svg+xml\"), o = n.lookupPrefix(Ht), i = n.lookupNamespaceURI(null);\n  return o || i ? dt(n).firstChild : dt(hn(n)).firstChild;\n}, gn = (e) => {\n  const [t, n, o] = e.match(/(<polygon points=[\"|'])([^(\"|')]*)/) || [];\n  if (!o)\n    return;\n  const i = o.split(\" \").map((s) => s.split(\",\").map(parseFloat));\n  return {\n    type: H.POLYGON,\n    geometry: {\n      points: i,\n      bounds: Ne(i)\n    }\n  };\n}, pn = (e) => {\n  const t = mn(e), n = parseFloat(t.getAttribute(\"cx\")), o = parseFloat(t.getAttribute(\"cy\")), i = parseFloat(t.getAttribute(\"rx\")), s = parseFloat(t.getAttribute(\"ry\")), r = {\n    minX: n - i,\n    minY: o - s,\n    maxX: n + i,\n    maxY: o + s\n  };\n  return {\n    type: H.ELLIPSE,\n    geometry: {\n      cx: n,\n      cy: o,\n      rx: i,\n      ry: s,\n      bounds: r\n    }\n  };\n}, _n = (e) => {\n  const t = typeof e == \"string\" ? e : e.value;\n  if (t.includes(\"<polygon points=\"))\n    return gn(t);\n  if (t.includes(\"<ellipse \"))\n    return pn(t);\n}, yn = (e) => {\n  let t;\n  if (e.type === H.POLYGON) {\n    const n = e.geometry, { points: o } = n;\n    t = `<svg><polygon points=\"${o.map((i) => i.join(\",\")).join(\" \")}\" /></svg>`;\n  } else if (e.type === H.ELLIPSE) {\n    const n = e.geometry;\n    t = `<svg><ellipse cx=\"${n.cx}\" cy=\"${n.cy}\" rx=\"${n.rx}\" ry=\"${n.ry}\" /></svg>`;\n  }\n  if (t)\n    return { type: \"SvgSelector\", value: t };\n  throw `Unsupported shape type: ${e.type}`;\n};\nlet Re;\nconst wn = new Uint8Array(16);\nfunction bn() {\n  if (!Re && (Re = typeof crypto < \"u\" && crypto.getRandomValues && crypto.getRandomValues.bind(crypto), !Re))\n    throw new Error(\"crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported\");\n  return Re(wn);\n}\nconst j = [];\nfor (let e = 0; e < 256; ++e)\n  j.push((e + 256).toString(16).slice(1));\nfunction En(e, t = 0) {\n  return j[e[t + 0]] + j[e[t + 1]] + j[e[t + 2]] + j[e[t + 3]] + \"-\" + j[e[t + 4]] + j[e[t + 5]] + \"-\" + j[e[t + 6]] + j[e[t + 7]] + \"-\" + j[e[t + 8]] + j[e[t + 9]] + \"-\" + j[e[t + 10]] + j[e[t + 11]] + j[e[t + 12]] + j[e[t + 13]] + j[e[t + 14]] + j[e[t + 15]];\n}\nconst An = typeof crypto < \"u\" && crypto.randomUUID && crypto.randomUUID.bind(crypto), ht = {\n  randomUUID: An\n};\nfunction it(e, t, n) {\n  if (ht.randomUUID && !t && !e)\n    return ht.randomUUID();\n  e = e || {};\n  const o = e.random || (e.rng || bn)();\n  if (o[6] = o[6] & 15 | 64, o[8] = o[8] & 63 | 128, t) {\n    n = n || 0;\n    for (let i = 0; i < 16; ++i)\n      t[n + i] = o[i];\n    return t;\n  }\n  return En(o);\n}\nvar mt = Object.prototype.hasOwnProperty;\nfunction fe(e, t) {\n  var n, o;\n  if (e === t)\n    return !0;\n  if (e && t && (n = e.constructor) === t.constructor) {\n    if (n === Date)\n      return e.getTime() === t.getTime();\n    if (n === RegExp)\n      return e.toString() === t.toString();\n    if (n === Array) {\n      if ((o = e.length) === t.length)\n        for (; o-- && fe(e[o], t[o]); )\n          ;\n      return o === -1;\n    }\n    if (!n || typeof e == \"object\") {\n      o = 0;\n      for (n in e)\n        if (mt.call(e, n) && ++o && !mt.call(t, n) || !(n in t) || !fe(e[n], t[n]))\n          return !1;\n      return Object.keys(t).length === o;\n    }\n  }\n  return e !== e && t !== t;\n}\nconst he = [];\nfunction Ue(e, t = N) {\n  let n;\n  const o = /* @__PURE__ */ new Set();\n  function i(a) {\n    if (q(e, a) && (e = a, n)) {\n      const l = !he.length;\n      for (const u of o)\n        u[1](), he.push(u, e);\n      if (l) {\n        for (let u = 0; u < he.length; u += 2)\n          he[u][0](he[u + 1]);\n        he.length = 0;\n      }\n    }\n  }\n  function s(a) {\n    i(a(e));\n  }\n  function r(a, l = N) {\n    const u = [a, l];\n    return o.add(u), o.size === 1 && (n = t(i) || N), a(e), () => {\n      o.delete(u), o.size === 0 && n && (n(), n = null);\n    };\n  }\n  return { set: i, update: s, subscribe: r };\n}\nconst Tn = (e) => {\n  const { subscribe: t, set: n } = Ue(null);\n  let o = null;\n  return t((i) => o = i), e.observe(({ changes: i }) => {\n    if (o) {\n      i.deleted.some((a) => a.id === o) && n(null);\n      const r = i.updated.find(({ oldValue: a }) => a.id === o);\n      r && n(r.newValue.id);\n    }\n  }), {\n    get current() {\n      return o;\n    },\n    subscribe: t,\n    set: n\n  };\n};\nvar Ft = /* @__PURE__ */ ((e) => (e.EDIT = \"EDIT\", e.HIGHLIGHT = \"HIGHLIGHT\", e.NONE = \"NONE\", e))(Ft || {});\nconst Je = { selected: [] }, Sn = (e, t = \"EDIT\") => {\n  const { subscribe: n, set: o } = Ue(Je);\n  let i = Je;\n  n((c) => i = c);\n  const s = () => o(Je), r = () => {\n    var c;\n    return ((c = i.selected) == null ? void 0 : c.length) === 0;\n  }, a = (c) => {\n    if (i.selected.length === 0)\n      return !1;\n    const d = typeof c == \"string\" ? c : c.id;\n    return i.selected.some((m) => m.id === d);\n  }, l = (c, d) => {\n    const m = e.getAnnotation(c);\n    if (m) {\n      const g = vn(m, t);\n      o(g === \"EDIT\" ? { selected: [{ id: c, editable: !0 }], pointerEvent: d } : g === \"HIGHLIGHT\" ? { selected: [{ id: c }], pointerEvent: d } : { selected: [], pointerEvent: d });\n    } else\n      console.warn(\"Invalid selection: \" + c);\n  }, u = (c, d = !0) => {\n    const m = Array.isArray(c) ? c : [c], g = m.map((_) => e.getAnnotation(_)).filter((_) => _);\n    o({ selected: g.map(({ id: _ }) => ({ id: _, editable: d })) }), g.length !== m.length && console.warn(\"Invalid selection\", c);\n  }, h = (c) => {\n    if (i.selected.length === 0)\n      return !1;\n    const { selected: d } = i;\n    d.filter(({ id: g }) => c.includes(g)).length > 0 && o({ selected: d.filter(({ id: g }) => !c.includes(g)) });\n  };\n  return e.observe(({ changes: c }) => h(c.deleted.map((d) => d.id))), {\n    clear: s,\n    clickSelect: l,\n    get selected() {\n      return i ? [...i.selected] : null;\n    },\n    get pointerEvent() {\n      return i ? i.pointerEvent : null;\n    },\n    isEmpty: r,\n    isSelected: a,\n    setSelected: u,\n    subscribe: n\n  };\n}, vn = (e, t) => typeof t == \"function\" ? t(e) || \"EDIT\" : t || \"EDIT\", ui = (e) => {\n  const { creator: t, updatedBy: n } = e.target, o = e.bodies.reduce((i, s) => [...i, s.creator, s.updatedBy], []);\n  return [\n    t,\n    n,\n    ...o\n  ].filter((i) => i);\n}, di = (e, t, n, o) => ({\n  id: it(),\n  annotation: e.id,\n  created: n || /* @__PURE__ */ new Date(),\n  creator: o,\n  ...t\n}), Mn = (e, t) => {\n  const n = new Set(e.bodies.map((o) => o.id));\n  return t.bodies.filter((o) => !n.has(o.id));\n}, Ln = (e, t) => {\n  const n = new Set(t.bodies.map((o) => o.id));\n  return e.bodies.filter((o) => !n.has(o.id));\n}, On = (e, t) => t.bodies.map((n) => {\n  const o = e.bodies.find((i) => i.id === n.id);\n  return { newBody: n, oldBody: o && !fe(o, n) ? o : void 0 };\n}).filter(({ oldBody: n }) => n), Bn = (e, t) => !fe(e.target, t.target), In = (e, t) => ({\n  oldValue: e,\n  newValue: t,\n  bodiesCreated: Mn(e, t),\n  bodiesDeleted: Ln(e, t),\n  bodiesUpdated: On(e, t),\n  targetUpdated: Bn(e, t) ? { oldTarget: e.target, newTarget: t.target } : void 0\n});\nvar U = /* @__PURE__ */ ((e) => (e.LOCAL = \"LOCAL\", e.REMOTE = \"REMOTE\", e))(U || {});\nconst kn = (e, t) => {\n  var s, r;\n  const { changes: n, origin: o } = t;\n  if (!(!e.options.origin || e.options.origin === o))\n    return !1;\n  if (e.options.ignore) {\n    const { ignore: a } = e.options, l = (h) => (h == null ? void 0 : h.length) > 0;\n    if (!(l(n.created) || l(n.deleted))) {\n      const h = (s = n.updated) == null ? void 0 : s.some((d) => l(d.bodiesCreated) || l(d.bodiesDeleted) || l(d.bodiesUpdated)), c = (r = n.updated) == null ? void 0 : r.some((d) => d.targetUpdated);\n      if (a === \"BODY_ONLY\" && h && !c || a === \"TARGET_ONLY\" && c && !h)\n        return !1;\n    }\n  }\n  if (e.options.annotations) {\n    const a = /* @__PURE__ */ new Set([\n      ...n.created.map((u) => u.id),\n      ...n.deleted.map((u) => u.id),\n      ...n.updated.map(({ oldValue: u }) => u.id)\n    ]);\n    return !!(Array.isArray(e.options.annotations) ? e.options.annotations : [e.options.annotations]).find((u) => a.has(u));\n  } else\n    return !0;\n}, Cn = (e) => e.id !== void 0, Pn = () => {\n  const e = /* @__PURE__ */ new Map(), t = /* @__PURE__ */ new Map(), n = [], o = (y, b = {}) => n.push({ onChange: y, options: b }), i = (y) => {\n    const b = n.findIndex((A) => A.onChange == y);\n    b > -1 && n.splice(b, 1);\n  }, s = (y, b) => {\n    const A = {\n      origin: y,\n      changes: {\n        created: b.created || [],\n        updated: b.updated || [],\n        deleted: b.deleted || []\n      },\n      state: [...e.values()]\n    };\n    n.forEach((M) => {\n      kn(M, A) && M.onChange(A);\n    });\n  }, r = (y, b = U.LOCAL) => {\n    if (e.get(y.id))\n      throw Error(`Cannot add annotation ${y.id} - exists already`);\n    e.set(y.id, y), y.bodies.forEach((M) => t.set(M.id, y.id)), s(b, { created: [y] });\n  }, a = (y, b = U.LOCAL, A = U.LOCAL) => {\n    const M = Cn(b) ? A : b, w = typeof y == \"string\" ? b : y, O = typeof y == \"string\" ? y : y.id, R = e.get(O);\n    if (R) {\n      const te = In(R, w);\n      O === w.id ? e.set(O, w) : (e.delete(O), e.set(w.id, w)), R.bodies.forEach((W) => t.delete(W.id)), w.bodies.forEach((W) => t.set(W.id, w.id)), s(M, { updated: [te] });\n    } else\n      throw Error(`Cannot update annotation ${O} - does not exist`);\n  }, l = (y, b = U.LOCAL) => {\n    const A = e.get(y.annotation);\n    if (A) {\n      const M = {\n        ...A,\n        bodies: [...A.bodies, y]\n      };\n      e.set(A.id, M), t.set(y.id, M.id), s(b, { updated: [{\n        oldValue: A,\n        newValue: M,\n        bodiesCreated: [y]\n      }] });\n    } else\n      console.warn(`Attempt to add body to missing annotation: ${y.annotation}`);\n  }, u = () => [...e.values()], h = (y = U.LOCAL) => {\n    const b = [...e.values()];\n    e.clear(), t.clear(), s(y, { deleted: b });\n  }, c = (y, b = !0, A = U.LOCAL) => {\n    if (b) {\n      const M = [...e.values()];\n      e.clear(), t.clear(), y.forEach((w) => {\n        e.set(w.id, w), w.bodies.forEach((O) => t.set(O.id, w.id));\n      }), s(A, { created: y, deleted: M });\n    } else {\n      const M = y.reduce((w, O) => {\n        const R = e.get(O.id);\n        return R ? [...w, R] : w;\n      }, []);\n      if (M.length > 0)\n        throw Error(`Bulk insert would overwrite the following annotations: ${M.map((w) => w.id).join(\", \")}`);\n      y.forEach((w) => {\n        e.set(w.id, w), w.bodies.forEach((O) => t.set(O.id, w.id));\n      }), s(A, { created: y });\n    }\n  }, d = (y) => {\n    const b = typeof y == \"string\" ? y : y.id, A = e.get(b);\n    if (A)\n      return e.delete(b), A.bodies.forEach((M) => t.delete(M.id)), A;\n    console.warn(`Attempt to delete missing annotation: ${b}`);\n  }, m = (y, b = U.LOCAL) => {\n    const A = d(y);\n    A && s(b, { deleted: [A] });\n  }, g = (y, b = U.LOCAL) => {\n    const A = y.reduce((M, w) => {\n      const O = d(w);\n      return O ? [...M, O] : M;\n    }, []);\n    A.length > 0 && s(b, { deleted: A });\n  }, _ = (y, b = U.LOCAL) => {\n    const A = e.get(y.annotation);\n    if (A) {\n      const M = A.bodies.find((w) => w.id === y.id);\n      if (M) {\n        t.delete(M.id);\n        const w = {\n          ...A,\n          bodies: A.bodies.filter((R) => R.id !== y.id)\n        };\n        e.set(A.id, w), s(b, { updated: [{\n          oldValue: A,\n          newValue: w,\n          bodiesDeleted: [M]\n        }] });\n      } else\n        console.warn(`Attempt to delete missing body ${y.id} from annotation ${y.annotation}`);\n    } else\n      console.warn(`Attempt to delete body from missing annotation ${y.annotation}`);\n  }, p = (y) => {\n    const b = e.get(y);\n    return b ? { ...b } : void 0;\n  }, T = (y) => {\n    const b = t.get(y);\n    if (b) {\n      const M = p(b).bodies.find((w) => w.id === y);\n      if (M)\n        return M;\n      console.error(`Store integrity error: body ${y} in index, but not in annotation`);\n    } else\n      console.warn(`Attempt to retrieve missing body: ${y}`);\n  }, E = (y, b) => {\n    if (y.annotation !== b.annotation)\n      throw \"Annotation integrity violation: annotation ID must be the same when updating bodies\";\n    const A = e.get(y.annotation);\n    if (A) {\n      const M = A.bodies.find((O) => O.id === y.id), w = {\n        ...A,\n        bodies: A.bodies.map((O) => O.id === M.id ? b : O)\n      };\n      return e.set(A.id, w), M.id !== b.id && (t.delete(M.id), t.set(b.id, w.id)), {\n        oldValue: A,\n        newValue: w,\n        bodiesUpdated: [{ oldBody: M, newBody: b }]\n      };\n    } else\n      console.warn(`Attempt to add body to missing annotation ${y.annotation}`);\n  }, I = (y, b, A = U.LOCAL) => {\n    const M = E(y, b);\n    s(A, { updated: [M] });\n  }, X = (y, b = U.LOCAL) => {\n    const A = y.map((M) => E({ id: M.id, annotation: M.annotation }, M));\n    s(b, { updated: A });\n  }, G = (y) => {\n    const b = e.get(y.annotation);\n    if (b) {\n      const A = {\n        ...b,\n        target: {\n          ...b.target,\n          ...y\n        }\n      };\n      return e.set(b.id, A), {\n        oldValue: b,\n        newValue: A,\n        targetUpdated: {\n          oldTarget: b.target,\n          newTarget: y\n        }\n      };\n    } else\n      console.warn(`Attempt to update target on missing annotation: ${y.annotation}`);\n  };\n  return {\n    addAnnotation: r,\n    addBody: l,\n    all: u,\n    bulkAddAnnotation: c,\n    bulkDeleteAnnotation: g,\n    bulkUpdateBodies: X,\n    bulkUpdateTargets: (y, b = U.LOCAL) => {\n      const A = y.map(G).filter((M) => M);\n      A.length > 0 && s(b, { updated: A });\n    },\n    clear: h,\n    deleteAnnotation: m,\n    deleteBody: _,\n    getAnnotation: p,\n    getBody: T,\n    observe: o,\n    unobserve: i,\n    updateAnnotation: a,\n    updateBody: I,\n    updateTarget: (y, b = U.LOCAL) => {\n      const A = G(y);\n      A && s(b, { updated: [A] });\n    }\n  };\n}, Yn = (e) => ({\n  ...e,\n  subscribe: (n) => {\n    const o = (i) => n(i.state);\n    return e.observe(o), n(e.all()), () => e.unobserve(o);\n  }\n}), Rn = () => {\n  const { subscribe: e, set: t } = Ue([]);\n  return {\n    subscribe: e,\n    set: t\n  };\n}, Xn = (e, t, n, o, i, s) => {\n  const r = /* @__PURE__ */ new Map();\n  let a = [], l, u;\n  const h = (g, _) => {\n    r.has(g) ? r.get(g).push(_) : r.set(g, [_]);\n  }, c = (g, _) => {\n    const p = r.get(g);\n    p && p.indexOf(_) > 0 && p.splice(p.indexOf(_), 1);\n  }, d = (g, _, p) => {\n    r.has(g) && setTimeout(() => {\n      r.get(g).forEach((T) => {\n        if (i) {\n          const E = Array.isArray(_) ? _.map((X) => i.serialize(X)) : i.serialize(_), I = p ? p instanceof PointerEvent ? p : i.serialize(p) : void 0;\n          T(E, I);\n        } else\n          T(_, p);\n      });\n    }, 1);\n  }, m = () => {\n    const { selected: g } = t, _ = g.map(({ id: p }) => e.getAnnotation(p));\n    _.forEach((p) => {\n      const T = a.find((E) => E.id === p.id);\n      (!T || !fe(T, p)) && d(\"updateAnnotation\", p, T);\n    }), a = a.map((p) => {\n      const T = _.find(({ id: E }) => E === p.id);\n      return T || p;\n    });\n  };\n  return t.subscribe(({ selected: g }) => {\n    if (!(a.length === 0 && g.length === 0)) {\n      if (a.length === 0 && g.length > 0)\n        a = g.map(({ id: _ }) => e.getAnnotation(_));\n      else if (a.length > 0 && g.length === 0)\n        a.forEach((_) => {\n          const p = e.getAnnotation(_.id);\n          p && !fe(p, _) && d(\"updateAnnotation\", p, _);\n        }), a = [];\n      else {\n        const _ = new Set(a.map((E) => E.id)), p = new Set(g.map(({ id: E }) => E));\n        a.filter((E) => !p.has(E.id)).forEach((E) => {\n          const I = e.getAnnotation(E.id);\n          I && !fe(I, E) && d(\"updateAnnotation\", I, E);\n        }), a = [\n          // Remove annotations that were deselected\n          ...a.filter((E) => p.has(E.id)),\n          // Add editable annotations that were selected\n          ...g.filter(({ id: E }) => !_.has(E)).map(({ id: E }) => e.getAnnotation(E))\n        ];\n      }\n      d(\"selectionChanged\", a);\n    }\n  }), n.subscribe((g) => {\n    !l && g ? d(\"mouseEnterAnnotation\", e.getAnnotation(g)) : l && !g ? d(\"mouseLeaveAnnotation\", e.getAnnotation(l)) : l && g && (d(\"mouseLeaveAnnotation\", e.getAnnotation(l)), d(\"mouseEnterAnnotation\", e.getAnnotation(g))), l = g;\n  }), o == null || o.subscribe((g) => d(\"viewportIntersect\", g.map(e.getAnnotation))), e.observe((g) => {\n    s && (u && clearTimeout(u), u = setTimeout(m, 1e3));\n    const { created: _, deleted: p } = g.changes;\n    _.forEach((E) => d(\"createAnnotation\", E)), p.forEach((E) => d(\"deleteAnnotation\", E)), g.changes.updated.filter((E) => [\n      ...E.bodiesCreated || [],\n      ...E.bodiesDeleted || [],\n      ...E.bodiesUpdated || []\n    ].length > 0).forEach(({ oldValue: E, newValue: I }) => {\n      const X = a.find((G) => G.id === E.id) || E;\n      a = a.map((G) => G.id === E.id ? I : G), d(\"updateAnnotation\", I, X);\n    });\n  }, { origin: U.LOCAL }), e.observe((g) => {\n    if (a) {\n      const _ = new Set(a.map((T) => T.id)), p = g.changes.updated.filter(({ newValue: T }) => _.has(T.id)).map(({ newValue: T }) => T);\n      p.length > 0 && (a = a.map((T) => {\n        const E = p.find((I) => I.id === T.id);\n        return E || T;\n      }));\n    }\n  }, { origin: U.REMOTE }), { on: h, off: c, emit: d };\n}, hi = (e) => (t) => t.map((n) => e.serialize(n)), Dn = (e) => (t) => t.reduce((n, o) => {\n  const { parsed: i, error: s } = e.parse(o);\n  return s ? {\n    parsed: n.parsed,\n    failed: [...n.failed, o]\n  } : {\n    parsed: [...n.parsed, i],\n    failed: n.failed\n  };\n}, { parsed: [], failed: [] }), Gn = (e, t) => {\n  const n = (h) => {\n    if (t) {\n      const { parsed: c, error: d } = t.parse(h);\n      c ? e.addAnnotation(c, U.REMOTE) : console.error(d);\n    } else\n      e.addAnnotation(h, U.REMOTE);\n  }, o = () => e.clear(), i = (h) => {\n    const c = e.getAnnotation(h);\n    return t && c ? t.serialize(c) : c;\n  }, s = () => t ? e.all().map(t.serialize) : e.all(), r = (h) => fetch(h).then((c) => c.json()).then((c) => (l(c), c)), a = (h) => {\n    if (typeof h == \"string\") {\n      const c = e.getAnnotation(h);\n      return e.deleteAnnotation(h), t ? t.serialize(c) : c;\n    } else {\n      const c = t ? t.parse(h).parsed : h;\n      return e.deleteAnnotation(c), h;\n    }\n  }, l = (h) => {\n    if (t) {\n      const { parsed: c, failed: d } = Dn(t)(h);\n      d.length > 0 && console.warn(`Discarded ${d.length} invalid annotations`, d), e.bulkAddAnnotation(c, !0, U.REMOTE);\n    } else\n      e.bulkAddAnnotation(h, !0, U.REMOTE);\n  };\n  return {\n    addAnnotation: n,\n    clearAnnotations: o,\n    getAnnotationById: i,\n    getAnnotations: s,\n    loadAnnotations: r,\n    removeAnnotation: a,\n    setAnnotations: l,\n    updateAnnotation: (h) => {\n      if (t) {\n        const c = t.parse(h).parsed, d = t.serialize(e.getAnnotation(c.id));\n        return e.updateAnnotation(c), d;\n      } else {\n        const c = e.getAnnotation(h.id);\n        return e.updateAnnotation(h), c;\n      }\n    }\n  };\n};\nlet Nn = (e) => crypto.getRandomValues(new Uint8Array(e)), Un = (e, t, n) => {\n  let o = (2 << Math.log(e.length - 1) / Math.LN2) - 1, i = -~(1.6 * o * t / e.length);\n  return (s = t) => {\n    let r = \"\";\n    for (; ; ) {\n      let a = n(i), l = i;\n      for (; l--; )\n        if (r += e[a[l] & o] || \"\", r.length === s)\n          return r;\n    }\n  };\n}, Hn = (e, t = 21) => Un(e, t, Nn), Fn = (e = 21) => crypto.getRandomValues(new Uint8Array(e)).reduce((t, n) => (n &= 63, n < 36 ? t += n.toString(36) : n < 62 ? t += (n - 26).toString(36).toUpperCase() : n > 62 ? t += \"-\" : t += \"_\", t), \"\");\nconst zn = () => ({ isGuest: !0, id: Hn(\"1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_\", 20)() }), jn = (e) => {\n  const t = JSON.stringify(e);\n  let n = 0;\n  for (let o = 0, i = t.length; o < i; o++) {\n    let s = t.charCodeAt(o);\n    n = (n << 5) - n + s, n |= 0;\n  }\n  return `${n}`;\n}, Vn = (e, t) => (Array.isArray(e) ? e : [e]).map((n) => {\n  const { id: o, type: i, purpose: s, value: r, created: a, creator: l, ...u } = n;\n  return {\n    id: o || jn(n),\n    annotation: t,\n    type: i,\n    purpose: s,\n    value: r,\n    created: a,\n    creator: l ? typeof l == \"object\" ? { ...l } : l : void 0,\n    ...u\n  };\n}), qn = (e) => e.map((t) => {\n  const n = { ...t };\n  return delete n.annotation, delete n.id, n;\n}), Wn = [\n  \"#ff7c00\",\n  // orange\n  \"#1ac938\",\n  // green\n  \"#e8000b\",\n  // red\n  \"#8b2be2\",\n  // purple\n  \"#9f4800\",\n  // brown\n  \"#f14cc1\",\n  // pink\n  \"#ffc400\",\n  // khaki\n  \"#00d7ff\",\n  // cyan\n  \"#023eff\"\n  // blue\n], Jn = () => {\n  const e = [...Wn];\n  return { assignRandomColor: () => {\n    const o = Math.floor(Math.random() * e.length), i = e[o];\n    return e.splice(o, 1), i;\n  }, releaseColor: (o) => e.push(o) };\n}, Qn = () => {\n  const e = Jn();\n  return { addUser: (o, i) => {\n    const s = e.assignRandomColor();\n    return {\n      label: i.name || i.id,\n      avatar: i.avatar,\n      color: s\n    };\n  }, removeUser: (o) => e.releaseColor(o.appearance.color) };\n};\nlet Zn = () => ({\n  emit(e, ...t) {\n    let n = this.events[e] || [];\n    for (let o = 0, i = n.length; o < i; o++)\n      n[o](...t);\n  },\n  events: {},\n  on(e, t) {\n    var n;\n    return (n = this.events[e]) != null && n.push(t) || (this.events[e] = [t]), () => {\n      var o;\n      this.events[e] = (o = this.events[e]) == null ? void 0 : o.filter((i) => t !== i);\n    };\n  }\n});\nconst Kn = (e, t) => e.every((n) => e.includes(n)) && t.every((n) => e.includes(n)), mi = Fn(), gi = (e = Qn()) => {\n  const t = Zn(), n = /* @__PURE__ */ new Map(), o = /* @__PURE__ */ new Map(), i = (c, d) => {\n    if (n.has(c)) {\n      console.warn(\"Attempt to add user that is already present\", c, d);\n      return;\n    }\n    const m = e.addUser(c, d);\n    n.set(c, {\n      ...d,\n      presenceKey: c,\n      appearance: m\n    });\n  }, s = (c) => {\n    const d = n.get(c);\n    if (!d) {\n      console.warn(\"Attempt to remove user that is not present\", c);\n      return;\n    }\n    e.removeUser(d), n.delete(c);\n  }, r = (c) => {\n    const d = new Set(c.map((_) => _.presenceKey)), m = c.filter(({ presenceKey: _ }) => !n.has(_)), g = Array.from(n.values()).filter((_) => !d.has(_.presenceKey));\n    m.forEach(({ presenceKey: _, user: p }) => i(_, p)), g.forEach((_) => {\n      const { presenceKey: p } = _;\n      o.has(p) && t.emit(\"selectionChange\", _, null), s(p);\n    }), (m.length > 0 || g.length > 0) && t.emit(\"presence\", u());\n  }, a = (c, d) => {\n    const m = n.get(c);\n    if (!m) {\n      console.warn(\"Activity notification from user that is not present\");\n      return;\n    }\n    const g = o.get(c);\n    (!g || !Kn(g, d)) && (o.set(c, d), t.emit(\"selectionChange\", m, d));\n  }, l = (c, d) => {\n    const m = n.get(c);\n    if (!m) {\n      console.warn(\"Selection change for user that is not present\", c);\n      return;\n    }\n    d ? o.set(c, d) : o.delete(c), t.emit(\"selectionChange\", m, d);\n  }, u = () => [...Array.from(n.values())];\n  return {\n    getPresentUsers: u,\n    notifyActivity: a,\n    on: (c, d) => t.on(c, d),\n    syncUsers: r,\n    updateSelection: l\n  };\n}, pi = (e, t = !1) => ({ parse: (i) => xn(i, t), serialize: (i) => $n(i, e) }), xn = (e, t = !1) => {\n  const n = e.id || it(), o = Vn(e.body, n), i = Array.isArray(e.target) ? e.target[0] : e.target, s = Array.isArray(i.selector) ? i.selector[0] : i.selector, r = s.type === \"FragmentSelector\" ? un(s, t) : s.type === \"SvgSelector\" ? _n(s) : void 0;\n  return r ? {\n    parsed: {\n      id: n,\n      bodies: o,\n      target: {\n        annotation: n,\n        selector: r\n      }\n    }\n  } : {\n    error: Error(`Unknown selector type: ${r.type}`)\n  };\n}, $n = (e, t) => {\n  const n = e.target.selector, o = n.type == H.RECTANGLE ? dn(n.geometry) : yn(n);\n  return {\n    \"@context\": \"http://www.w3.org/ns/anno.jsonld\",\n    id: e.id,\n    type: \"Annotation\",\n    body: qn(e.bodies),\n    target: {\n      source: t,\n      selector: o\n    }\n  };\n};\nfunction gt(e, t, n) {\n  const o = e.slice();\n  return o[11] = t[n], o[13] = n, o;\n}\nfunction pt(e) {\n  let t, n, o, i, s;\n  return {\n    c() {\n      t = P(\"rect\"), f(t, \"class\", \"a9s-corner-handle\"), f(t, \"x\", n = /*point*/\n      e[11][0] - /*handleSize*/\n      e[3] / 2), f(t, \"y\", o = /*point*/\n      e[11][1] - /*handleSize*/\n      e[3] / 2), f(\n        t,\n        \"height\",\n        /*handleSize*/\n        e[3]\n      ), f(\n        t,\n        \"width\",\n        /*handleSize*/\n        e[3]\n      );\n    },\n    m(r, a) {\n      B(r, t, a), i || (s = V(t, \"pointerdown\", function() {\n        z(\n          /*grab*/\n          e[10](v(\n            /*idx*/\n            e[13]\n          ))\n        ) && e[10](v(\n          /*idx*/\n          e[13]\n        )).apply(this, arguments);\n      }), i = !0);\n    },\n    p(r, a) {\n      e = r, a & /*geom, handleSize*/\n      24 && n !== (n = /*point*/\n      e[11][0] - /*handleSize*/\n      e[3] / 2) && f(t, \"x\", n), a & /*geom, handleSize*/\n      24 && o !== (o = /*point*/\n      e[11][1] - /*handleSize*/\n      e[3] / 2) && f(t, \"y\", o), a & /*handleSize*/\n      8 && f(\n        t,\n        \"height\",\n        /*handleSize*/\n        e[3]\n      ), a & /*handleSize*/\n      8 && f(\n        t,\n        \"width\",\n        /*handleSize*/\n        e[3]\n      );\n    },\n    d(r) {\n      r && L(t), i = !1, s();\n    }\n  };\n}\nfunction eo(e) {\n  let t, n, o, i, s, r, a, l, u, h, c = (\n    /*geom*/\n    e[4].points\n  ), d = [];\n  for (let m = 0; m < c.length; m += 1)\n    d[m] = pt(gt(e, c, m));\n  return {\n    c() {\n      t = P(\"polygon\"), i = x(), s = P(\"polygon\"), a = x();\n      for (let m = 0; m < d.length; m += 1)\n        d[m].c();\n      l = se(), f(t, \"class\", \"a9s-outer\"), f(t, \"style\", n = /*computedStyle*/\n      e[1] ? \"display:none;\" : void 0), f(t, \"points\", o = /*geom*/\n      e[4].points.map(_t).join(\" \")), f(s, \"class\", \"a9s-inner a9s-shape-handle\"), f(\n        s,\n        \"style\",\n        /*computedStyle*/\n        e[1]\n      ), f(s, \"points\", r = /*geom*/\n      e[4].points.map(yt).join(\" \"));\n    },\n    m(m, g) {\n      B(m, t, g), B(m, i, g), B(m, s, g), B(m, a, g);\n      for (let _ = 0; _ < d.length; _ += 1)\n        d[_] && d[_].m(m, g);\n      B(m, l, g), u || (h = [\n        V(t, \"pointerdown\", function() {\n          z(\n            /*grab*/\n            e[10](v.SHAPE)\n          ) && e[10](v.SHAPE).apply(this, arguments);\n        }),\n        V(s, \"pointerdown\", function() {\n          z(\n            /*grab*/\n            e[10](v.SHAPE)\n          ) && e[10](v.SHAPE).apply(this, arguments);\n        })\n      ], u = !0);\n    },\n    p(m, g) {\n      if (e = m, g & /*computedStyle*/\n      2 && n !== (n = /*computedStyle*/\n      e[1] ? \"display:none;\" : void 0) && f(t, \"style\", n), g & /*geom*/\n      16 && o !== (o = /*geom*/\n      e[4].points.map(_t).join(\" \")) && f(t, \"points\", o), g & /*computedStyle*/\n      2 && f(\n        s,\n        \"style\",\n        /*computedStyle*/\n        e[1]\n      ), g & /*geom*/\n      16 && r !== (r = /*geom*/\n      e[4].points.map(yt).join(\" \")) && f(s, \"points\", r), g & /*geom, handleSize, grab, Handle*/\n      1048) {\n        c = /*geom*/\n        e[4].points;\n        let _;\n        for (_ = 0; _ < c.length; _ += 1) {\n          const p = gt(e, c, _);\n          d[_] ? d[_].p(p, g) : (d[_] = pt(p), d[_].c(), d[_].m(l.parentNode, l));\n        }\n        for (; _ < d.length; _ += 1)\n          d[_].d(1);\n        d.length = c.length;\n      }\n    },\n    d(m) {\n      m && L(t), m && L(i), m && L(s), m && L(a), tt(d, m), m && L(l), u = !1, ie(h);\n    }\n  };\n}\nfunction to(e) {\n  let t, n;\n  return t = new jt({\n    props: {\n      shape: (\n        /*shape*/\n        e[0]\n      ),\n      transform: (\n        /*transform*/\n        e[2]\n      ),\n      editor: (\n        /*editor*/\n        e[5]\n      ),\n      $$slots: {\n        default: [\n          eo,\n          ({ grab: o }) => ({ 10: o }),\n          ({ grab: o }) => o ? 1024 : 0\n        ]\n      },\n      $$scope: { ctx: e }\n    }\n  }), t.$on(\n    \"change\",\n    /*change_handler*/\n    e[7]\n  ), t.$on(\n    \"grab\",\n    /*grab_handler*/\n    e[8]\n  ), t.$on(\n    \"release\",\n    /*release_handler*/\n    e[9]\n  ), {\n    c() {\n      ue(t.$$.fragment);\n    },\n    m(o, i) {\n      le(t, o, i), n = !0;\n    },\n    p(o, [i]) {\n      const s = {};\n      i & /*shape*/\n      1 && (s.shape = /*shape*/\n      o[0]), i & /*transform*/\n      4 && (s.transform = /*transform*/\n      o[2]), i & /*$$scope, geom, handleSize, grab, computedStyle*/\n      17434 && (s.$$scope = { dirty: i, ctx: o }), t.$set(s);\n    },\n    i(o) {\n      n || (Y(t.$$.fragment, o), n = !0);\n    },\n    o(o) {\n      D(t.$$.fragment, o), n = !1;\n    },\n    d(o) {\n      ae(t, o);\n    }\n  };\n}\nconst _t = (e) => e.join(\",\"), yt = (e) => e.join(\",\");\nfunction no(e, t, n) {\n  let o, i, { shape: s } = t, { computedStyle: r = void 0 } = t, { transform: a } = t, { viewportScale: l = 1 } = t;\n  const u = (m, g, _) => {\n    let p;\n    g === v.SHAPE ? p = m.geometry.points.map(([E, I]) => [E + _[0], I + _[1]]) : p = m.geometry.points.map(([E, I], X) => g === v(X) ? [E + _[0], I + _[1]] : [E, I]);\n    const T = Ne(p);\n    return { ...m, geometry: { points: p, bounds: T } };\n  };\n  function h(m) {\n    _e.call(this, e, m);\n  }\n  function c(m) {\n    _e.call(this, e, m);\n  }\n  function d(m) {\n    _e.call(this, e, m);\n  }\n  return e.$$set = (m) => {\n    \"shape\" in m && n(0, s = m.shape), \"computedStyle\" in m && n(1, r = m.computedStyle), \"transform\" in m && n(2, a = m.transform), \"viewportScale\" in m && n(6, l = m.viewportScale);\n  }, e.$$.update = () => {\n    e.$$.dirty & /*shape*/\n    1 && n(4, o = s.geometry), e.$$.dirty & /*viewportScale*/\n    64 && n(3, i = 10 / l);\n  }, [\n    s,\n    r,\n    a,\n    i,\n    o,\n    u,\n    l,\n    h,\n    c,\n    d\n  ];\n}\nclass oo extends ee {\n  constructor(t) {\n    super(), $(this, t, no, to, q, {\n      shape: 0,\n      computedStyle: 1,\n      transform: 2,\n      viewportScale: 6\n    });\n  }\n}\nfunction io(e) {\n  let t, n, o, i, s, r, a, l, u, h, c, d, m, g, _, p, T, E, I, X, G, C, F, y, b, A, M, w, O, R, te, W, Fe, J, Le, Oe, ze, Q, Be, Ie, je, Z, ke, Ce, Ve, K, Pe, Ye, qe, rt;\n  return {\n    c() {\n      t = P(\"rect\"), a = x(), l = P(\"rect\"), m = x(), g = P(\"rect\"), E = x(), I = P(\"rect\"), F = x(), y = P(\"rect\"), w = x(), O = P(\"rect\"), Fe = x(), J = P(\"rect\"), ze = x(), Q = P(\"rect\"), je = x(), Z = P(\"rect\"), Ve = x(), K = P(\"rect\"), f(t, \"class\", \"a9s-outer\"), f(t, \"style\", n = /*computedStyle*/\n      e[1] ? \"display:none;\" : void 0), f(t, \"x\", o = /*geom*/\n      e[4].x), f(t, \"y\", i = /*geom*/\n      e[4].y), f(t, \"width\", s = /*geom*/\n      e[4].w), f(t, \"height\", r = /*geom*/\n      e[4].h), f(l, \"class\", \"a9s-inner a9s-shape-handle\"), f(\n        l,\n        \"style\",\n        /*computedStyle*/\n        e[1]\n      ), f(l, \"x\", u = /*geom*/\n      e[4].x), f(l, \"y\", h = /*geom*/\n      e[4].y), f(l, \"width\", c = /*geom*/\n      e[4].w), f(l, \"height\", d = /*geom*/\n      e[4].h), f(g, \"class\", \"a9s-edge-handle a9s-edge-handle-top\"), f(g, \"x\", _ = /*geom*/\n      e[4].x), f(g, \"y\", p = /*geom*/\n      e[4].y), f(g, \"height\", 1), f(g, \"width\", T = /*geom*/\n      e[4].w), f(I, \"class\", \"a9s-edge-handle a9s-edge-handle-right\"), f(I, \"x\", X = /*geom*/\n      e[4].x + /*geom*/\n      e[4].w), f(I, \"y\", G = /*geom*/\n      e[4].y), f(I, \"height\", C = /*geom*/\n      e[4].h), f(I, \"width\", 1), f(y, \"class\", \"a9s-edge-handle a9s-edge-handle-bottom\"), f(y, \"x\", b = /*geom*/\n      e[4].x), f(y, \"y\", A = /*geom*/\n      e[4].y + /*geom*/\n      e[4].h), f(y, \"height\", 1), f(y, \"width\", M = /*geom*/\n      e[4].w), f(O, \"class\", \"a9s-edge-handle a9s-edge-handle-left\"), f(O, \"x\", R = /*geom*/\n      e[4].x), f(O, \"y\", te = /*geom*/\n      e[4].y), f(O, \"height\", W = /*geom*/\n      e[4].h), f(O, \"width\", 1), f(J, \"class\", \"a9s-corner-handle a9s-corner-handle-topleft\"), f(J, \"x\", Le = /*geom*/\n      e[4].x - /*handleSize*/\n      e[3] / 2), f(J, \"y\", Oe = /*geom*/\n      e[4].y - /*handleSize*/\n      e[3] / 2), f(\n        J,\n        \"height\",\n        /*handleSize*/\n        e[3]\n      ), f(\n        J,\n        \"width\",\n        /*handleSize*/\n        e[3]\n      ), f(Q, \"class\", \"a9s-corner-handle a9s-corner-handle-topright\"), f(Q, \"x\", Be = /*geom*/\n      e[4].x + /*geom*/\n      e[4].w - /*handleSize*/\n      e[3] / 2), f(Q, \"y\", Ie = /*geom*/\n      e[4].y - /*handleSize*/\n      e[3] / 2), f(\n        Q,\n        \"height\",\n        /*handleSize*/\n        e[3]\n      ), f(\n        Q,\n        \"width\",\n        /*handleSize*/\n        e[3]\n      ), f(Z, \"class\", \"a9s-corner-handle a9s-corner-handle-bottomright\"), f(Z, \"x\", ke = /*geom*/\n      e[4].x + /*geom*/\n      e[4].w - /*handleSize*/\n      e[3] / 2), f(Z, \"y\", Ce = /*geom*/\n      e[4].y + /*geom*/\n      e[4].h - /*handleSize*/\n      e[3] / 2), f(\n        Z,\n        \"height\",\n        /*handleSize*/\n        e[3]\n      ), f(\n        Z,\n        \"width\",\n        /*handleSize*/\n        e[3]\n      ), f(K, \"class\", \"a9s-corner-handle a9s-corner-handle-bottomleft\"), f(K, \"x\", Pe = /*geom*/\n      e[4].x - /*handleSize*/\n      e[3] / 2), f(K, \"y\", Ye = /*geom*/\n      e[4].y + /*geom*/\n      e[4].h - /*handleSize*/\n      e[3] / 2), f(\n        K,\n        \"height\",\n        /*handleSize*/\n        e[3]\n      ), f(\n        K,\n        \"width\",\n        /*handleSize*/\n        e[3]\n      );\n    },\n    m(k, S) {\n      B(k, t, S), B(k, a, S), B(k, l, S), B(k, m, S), B(k, g, S), B(k, E, S), B(k, I, S), B(k, F, S), B(k, y, S), B(k, w, S), B(k, O, S), B(k, Fe, S), B(k, J, S), B(k, ze, S), B(k, Q, S), B(k, je, S), B(k, Z, S), B(k, Ve, S), B(k, K, S), qe || (rt = [\n        V(t, \"pointerdown\", function() {\n          z(\n            /*grab*/\n            e[10](v.SHAPE)\n          ) && e[10](v.SHAPE).apply(this, arguments);\n        }),\n        V(l, \"pointerdown\", function() {\n          z(\n            /*grab*/\n            e[10](v.SHAPE)\n          ) && e[10](v.SHAPE).apply(this, arguments);\n        }),\n        V(g, \"pointerdown\", function() {\n          z(\n            /*grab*/\n            e[10](v.TOP)\n          ) && e[10](v.TOP).apply(this, arguments);\n        }),\n        V(I, \"pointerdown\", function() {\n          z(\n            /*grab*/\n            e[10](v.RIGHT)\n          ) && e[10](v.RIGHT).apply(this, arguments);\n        }),\n        V(y, \"pointerdown\", function() {\n          z(\n            /*grab*/\n            e[10](v.BOTTOM)\n          ) && e[10](v.BOTTOM).apply(this, arguments);\n        }),\n        V(O, \"pointerdown\", function() {\n          z(\n            /*grab*/\n            e[10](v.LEFT)\n          ) && e[10](v.LEFT).apply(this, arguments);\n        }),\n        V(J, \"pointerdown\", function() {\n          z(\n            /*grab*/\n            e[10](v.TOP_LEFT)\n          ) && e[10](v.TOP_LEFT).apply(this, arguments);\n        }),\n        V(Q, \"pointerdown\", function() {\n          z(\n            /*grab*/\n            e[10](v.TOP_RIGHT)\n          ) && e[10](v.TOP_RIGHT).apply(this, arguments);\n        }),\n        V(Z, \"pointerdown\", function() {\n          z(\n            /*grab*/\n            e[10](v.BOTTOM_RIGHT)\n          ) && e[10](v.BOTTOM_RIGHT).apply(this, arguments);\n        }),\n        V(K, \"pointerdown\", function() {\n          z(\n            /*grab*/\n            e[10](v.BOTTOM_LEFT)\n          ) && e[10](v.BOTTOM_LEFT).apply(this, arguments);\n        })\n      ], qe = !0);\n    },\n    p(k, S) {\n      e = k, S & /*computedStyle*/\n      2 && n !== (n = /*computedStyle*/\n      e[1] ? \"display:none;\" : void 0) && f(t, \"style\", n), S & /*geom*/\n      16 && o !== (o = /*geom*/\n      e[4].x) && f(t, \"x\", o), S & /*geom*/\n      16 && i !== (i = /*geom*/\n      e[4].y) && f(t, \"y\", i), S & /*geom*/\n      16 && s !== (s = /*geom*/\n      e[4].w) && f(t, \"width\", s), S & /*geom*/\n      16 && r !== (r = /*geom*/\n      e[4].h) && f(t, \"height\", r), S & /*computedStyle*/\n      2 && f(\n        l,\n        \"style\",\n        /*computedStyle*/\n        e[1]\n      ), S & /*geom*/\n      16 && u !== (u = /*geom*/\n      e[4].x) && f(l, \"x\", u), S & /*geom*/\n      16 && h !== (h = /*geom*/\n      e[4].y) && f(l, \"y\", h), S & /*geom*/\n      16 && c !== (c = /*geom*/\n      e[4].w) && f(l, \"width\", c), S & /*geom*/\n      16 && d !== (d = /*geom*/\n      e[4].h) && f(l, \"height\", d), S & /*geom*/\n      16 && _ !== (_ = /*geom*/\n      e[4].x) && f(g, \"x\", _), S & /*geom*/\n      16 && p !== (p = /*geom*/\n      e[4].y) && f(g, \"y\", p), S & /*geom*/\n      16 && T !== (T = /*geom*/\n      e[4].w) && f(g, \"width\", T), S & /*geom*/\n      16 && X !== (X = /*geom*/\n      e[4].x + /*geom*/\n      e[4].w) && f(I, \"x\", X), S & /*geom*/\n      16 && G !== (G = /*geom*/\n      e[4].y) && f(I, \"y\", G), S & /*geom*/\n      16 && C !== (C = /*geom*/\n      e[4].h) && f(I, \"height\", C), S & /*geom*/\n      16 && b !== (b = /*geom*/\n      e[4].x) && f(y, \"x\", b), S & /*geom*/\n      16 && A !== (A = /*geom*/\n      e[4].y + /*geom*/\n      e[4].h) && f(y, \"y\", A), S & /*geom*/\n      16 && M !== (M = /*geom*/\n      e[4].w) && f(y, \"width\", M), S & /*geom*/\n      16 && R !== (R = /*geom*/\n      e[4].x) && f(O, \"x\", R), S & /*geom*/\n      16 && te !== (te = /*geom*/\n      e[4].y) && f(O, \"y\", te), S & /*geom*/\n      16 && W !== (W = /*geom*/\n      e[4].h) && f(O, \"height\", W), S & /*geom, handleSize*/\n      24 && Le !== (Le = /*geom*/\n      e[4].x - /*handleSize*/\n      e[3] / 2) && f(J, \"x\", Le), S & /*geom, handleSize*/\n      24 && Oe !== (Oe = /*geom*/\n      e[4].y - /*handleSize*/\n      e[3] / 2) && f(J, \"y\", Oe), S & /*handleSize*/\n      8 && f(\n        J,\n        \"height\",\n        /*handleSize*/\n        e[3]\n      ), S & /*handleSize*/\n      8 && f(\n        J,\n        \"width\",\n        /*handleSize*/\n        e[3]\n      ), S & /*geom, handleSize*/\n      24 && Be !== (Be = /*geom*/\n      e[4].x + /*geom*/\n      e[4].w - /*handleSize*/\n      e[3] / 2) && f(Q, \"x\", Be), S & /*geom, handleSize*/\n      24 && Ie !== (Ie = /*geom*/\n      e[4].y - /*handleSize*/\n      e[3] / 2) && f(Q, \"y\", Ie), S & /*handleSize*/\n      8 && f(\n        Q,\n        \"height\",\n        /*handleSize*/\n        e[3]\n      ), S & /*handleSize*/\n      8 && f(\n        Q,\n        \"width\",\n        /*handleSize*/\n        e[3]\n      ), S & /*geom, handleSize*/\n      24 && ke !== (ke = /*geom*/\n      e[4].x + /*geom*/\n      e[4].w - /*handleSize*/\n      e[3] / 2) && f(Z, \"x\", ke), S & /*geom, handleSize*/\n      24 && Ce !== (Ce = /*geom*/\n      e[4].y + /*geom*/\n      e[4].h - /*handleSize*/\n      e[3] / 2) && f(Z, \"y\", Ce), S & /*handleSize*/\n      8 && f(\n        Z,\n        \"height\",\n        /*handleSize*/\n        e[3]\n      ), S & /*handleSize*/\n      8 && f(\n        Z,\n        \"width\",\n        /*handleSize*/\n        e[3]\n      ), S & /*geom, handleSize*/\n      24 && Pe !== (Pe = /*geom*/\n      e[4].x - /*handleSize*/\n      e[3] / 2) && f(K, \"x\", Pe), S & /*geom, handleSize*/\n      24 && Ye !== (Ye = /*geom*/\n      e[4].y + /*geom*/\n      e[4].h - /*handleSize*/\n      e[3] / 2) && f(K, \"y\", Ye), S & /*handleSize*/\n      8 && f(\n        K,\n        \"height\",\n        /*handleSize*/\n        e[3]\n      ), S & /*handleSize*/\n      8 && f(\n        K,\n        \"width\",\n        /*handleSize*/\n        e[3]\n      );\n    },\n    d(k) {\n      k && L(t), k && L(a), k && L(l), k && L(m), k && L(g), k && L(E), k && L(I), k && L(F), k && L(y), k && L(w), k && L(O), k && L(Fe), k && L(J), k && L(ze), k && L(Q), k && L(je), k && L(Z), k && L(Ve), k && L(K), qe = !1, ie(rt);\n    }\n  };\n}\nfunction so(e) {\n  let t, n;\n  return t = new jt({\n    props: {\n      shape: (\n        /*shape*/\n        e[0]\n      ),\n      transform: (\n        /*transform*/\n        e[2]\n      ),\n      editor: (\n        /*editor*/\n        e[5]\n      ),\n      $$slots: {\n        default: [\n          io,\n          ({ grab: o }) => ({ 10: o }),\n          ({ grab: o }) => o ? 1024 : 0\n        ]\n      },\n      $$scope: { ctx: e }\n    }\n  }), t.$on(\n    \"grab\",\n    /*grab_handler*/\n    e[7]\n  ), t.$on(\n    \"change\",\n    /*change_handler*/\n    e[8]\n  ), t.$on(\n    \"release\",\n    /*release_handler*/\n    e[9]\n  ), {\n    c() {\n      ue(t.$$.fragment);\n    },\n    m(o, i) {\n      le(t, o, i), n = !0;\n    },\n    p(o, [i]) {\n      const s = {};\n      i & /*shape*/\n      1 && (s.shape = /*shape*/\n      o[0]), i & /*transform*/\n      4 && (s.transform = /*transform*/\n      o[2]), i & /*$$scope, geom, handleSize, grab, computedStyle*/\n      3098 && (s.$$scope = { dirty: i, ctx: o }), t.$set(s);\n    },\n    i(o) {\n      n || (Y(t.$$.fragment, o), n = !0);\n    },\n    o(o) {\n      D(t.$$.fragment, o), n = !1;\n    },\n    d(o) {\n      ae(t, o);\n    }\n  };\n}\nfunction ro(e, t, n) {\n  let o, i, { shape: s } = t, { computedStyle: r = void 0 } = t, { transform: a } = t, { viewportScale: l = 1 } = t;\n  const u = (m, g, _) => {\n    const p = m.geometry.bounds;\n    let [T, E] = [p.minX, p.minY], [I, X] = [p.maxX, p.maxY];\n    const [G, C] = _;\n    if (g === v.SHAPE)\n      T += G, I += G, E += C, X += C;\n    else {\n      switch (g) {\n        case v.TOP:\n        case v.TOP_LEFT:\n        case v.TOP_RIGHT: {\n          E += C;\n          break;\n        }\n        case v.BOTTOM:\n        case v.BOTTOM_LEFT:\n        case v.BOTTOM_RIGHT: {\n          X += C;\n          break;\n        }\n      }\n      switch (g) {\n        case v.LEFT:\n        case v.TOP_LEFT:\n        case v.BOTTOM_LEFT: {\n          T += G;\n          break;\n        }\n        case v.RIGHT:\n        case v.TOP_RIGHT:\n        case v.BOTTOM_RIGHT: {\n          I += G;\n          break;\n        }\n      }\n    }\n    const F = Math.min(T, I), y = Math.min(E, X), b = Math.abs(I - T), A = Math.abs(X - E);\n    return {\n      ...m,\n      geometry: {\n        x: F,\n        y,\n        w: b,\n        h: A,\n        bounds: {\n          minX: F,\n          minY: y,\n          maxX: F + b,\n          maxY: y + A\n        }\n      }\n    };\n  };\n  function h(m) {\n    _e.call(this, e, m);\n  }\n  function c(m) {\n    _e.call(this, e, m);\n  }\n  function d(m) {\n    _e.call(this, e, m);\n  }\n  return e.$$set = (m) => {\n    \"shape\" in m && n(0, s = m.shape), \"computedStyle\" in m && n(1, r = m.computedStyle), \"transform\" in m && n(2, a = m.transform), \"viewportScale\" in m && n(6, l = m.viewportScale);\n  }, e.$$.update = () => {\n    e.$$.dirty & /*shape*/\n    1 && n(4, o = s.geometry), e.$$.dirty & /*viewportScale*/\n    64 && n(3, i = 10 / l);\n  }, [\n    s,\n    r,\n    a,\n    i,\n    o,\n    u,\n    l,\n    h,\n    c,\n    d\n  ];\n}\nclass lo extends ee {\n  constructor(t) {\n    super(), $(this, t, ro, so, q, {\n      shape: 0,\n      computedStyle: 1,\n      transform: 2,\n      viewportScale: 6\n    });\n  }\n}\nconst zt = /* @__PURE__ */ new Map([\n  [H.RECTANGLE, lo],\n  [H.POLYGON, oo]\n]), wt = (e) => zt.get(e.type), ao = (e, t) => zt.set(e, t), v = (e) => `HANDLE-${e}`;\nv.SHAPE = \"SHAPE\";\nv.TOP = \"TOP\";\nv.RIGHT = \"RIGHT\";\nv.BOTTOM = \"BOTTOM\";\nv.LEFT = \"LEFT\";\nv.TOP_LEFT = \"TOP_LEFT\";\nv.TOP_RIGHT = \"TOP_RIGHT\";\nv.BOTTOM_RIGHT = \"BOTTOM_RIGHT\";\nv.BOTTOM_LEFT = \"BOTTOM_LEFT\";\nconst co = (e) => ({}), bt = (e) => ({ grab: (\n  /*onGrab*/\n  e[0]\n) });\nfunction fo(e) {\n  let t, n, o, i;\n  const s = (\n    /*#slots*/\n    e[7].default\n  ), r = Qt(\n    s,\n    e,\n    /*$$scope*/\n    e[6],\n    bt\n  );\n  return {\n    c() {\n      t = P(\"g\"), r && r.c(), f(t, \"class\", \"a9s-annotation selected\");\n    },\n    m(a, l) {\n      B(a, t, l), r && r.m(t, null), n = !0, o || (i = [\n        V(\n          t,\n          \"pointerup\",\n          /*onRelease*/\n          e[2]\n        ),\n        V(\n          t,\n          \"pointermove\",\n          /*onPointerMove*/\n          e[1]\n        )\n      ], o = !0);\n    },\n    p(a, [l]) {\n      r && r.p && (!n || l & /*$$scope*/\n      64) && Kt(\n        r,\n        s,\n        a,\n        /*$$scope*/\n        a[6],\n        n ? Zt(\n          s,\n          /*$$scope*/\n          a[6],\n          l,\n          co\n        ) : xt(\n          /*$$scope*/\n          a[6]\n        ),\n        bt\n      );\n    },\n    i(a) {\n      n || (Y(r, a), n = !0);\n    },\n    o(a) {\n      D(r, a), n = !1;\n    },\n    d(a) {\n      a && L(t), r && r.d(a), o = !1, ie(i);\n    }\n  };\n}\nfunction uo(e, t, n) {\n  let { $$slots: o = {}, $$scope: i } = t;\n  const s = be();\n  let { shape: r } = t, { editor: a } = t, { transform: l } = t, u = null, h, c = null;\n  const d = (_) => (p) => {\n    u = _, h = l.elementToImage(p.offsetX, p.offsetY), c = r, p.target.setPointerCapture(p.pointerId), s(\"grab\");\n  }, m = (_) => {\n    if (u) {\n      const [p, T] = l.elementToImage(_.offsetX, _.offsetY), E = [p - h[0], T - h[1]];\n      n(3, r = a(c, u, E)), s(\"change\", r);\n    }\n  }, g = (_) => {\n    _.target.releasePointerCapture(_.pointerId), u = null, c = r, s(\"release\");\n  };\n  return e.$$set = (_) => {\n    \"shape\" in _ && n(3, r = _.shape), \"editor\" in _ && n(4, a = _.editor), \"transform\" in _ && n(5, l = _.transform), \"$$scope\" in _ && n(6, i = _.$$scope);\n  }, [d, m, g, r, a, l, i, o];\n}\nclass jt extends ee {\n  constructor(t) {\n    super(), $(this, t, uo, fo, q, { shape: 3, editor: 4, transform: 5 });\n  }\n}\nconst He = (e, t) => {\n  const n = typeof t == \"function\" ? t(e) : t;\n  if (n) {\n    const { fill: o, fillOpacity: i } = n;\n    let s = \"\";\n    return o && (s += `fill:${o};stroke:${o};`), s += `fill-opacity:${i || \"0.25\"};`, s;\n  }\n};\nfunction ho(e, t, n) {\n  let o;\n  const i = be();\n  let { annotation: s } = t, { editor: r } = t, { style: a = void 0 } = t, { target: l } = t, { transform: u } = t, { viewportScale: h } = t, c;\n  return Me(() => (n(6, c = new r({\n    target: l,\n    props: {\n      shape: s.target.selector,\n      computedStyle: o,\n      transform: u,\n      viewportScale: h\n    }\n  })), c.$on(\"change\", (d) => {\n    c.$$set({ shape: d.detail }), i(\"change\", d.detail);\n  }), () => {\n    c.$destroy();\n  })), e.$$set = (d) => {\n    \"annotation\" in d && n(0, s = d.annotation), \"editor\" in d && n(1, r = d.editor), \"style\" in d && n(2, a = d.style), \"target\" in d && n(3, l = d.target), \"transform\" in d && n(4, u = d.transform), \"viewportScale\" in d && n(5, h = d.viewportScale);\n  }, e.$$.update = () => {\n    e.$$.dirty & /*annotation, style*/\n    5 && (o = He(s, a)), e.$$.dirty & /*editorComponent, transform*/\n    80 && c && c.$set({ transform: u }), e.$$.dirty & /*editorComponent, viewportScale*/\n    96 && c && c.$set({ viewportScale: h });\n  }, [s, r, a, l, u, h, c];\n}\nclass mo extends ee {\n  constructor(t) {\n    super(), $(this, t, ho, null, q, {\n      annotation: 0,\n      editor: 1,\n      style: 2,\n      target: 3,\n      transform: 4,\n      viewportScale: 5\n    });\n  }\n}\nfunction go(e, t, n) {\n  const o = be();\n  let { target: i } = t, { tool: s } = t, { transform: r } = t, { viewportScale: a } = t, l;\n  return Me(() => (n(4, l = new s({\n    target: i,\n    props: { transform: r, viewportScale: a }\n  })), l.$on(\"create\", (u) => o(\"create\", u.detail)), () => {\n    l.$destroy();\n  })), e.$$set = (u) => {\n    \"target\" in u && n(0, i = u.target), \"tool\" in u && n(1, s = u.tool), \"transform\" in u && n(2, r = u.transform), \"viewportScale\" in u && n(3, a = u.viewportScale);\n  }, e.$$.update = () => {\n    e.$$.dirty & /*toolComponent, transform*/\n    20 && l && l.$set({ transform: r }), e.$$.dirty & /*toolComponent, viewportScale*/\n    24 && l && l.$set({ viewportScale: a });\n  }, [i, s, r, a, l];\n}\nclass po extends ee {\n  constructor(t) {\n    super(), $(this, t, go, null, q, {\n      target: 0,\n      tool: 1,\n      transform: 2,\n      viewportScale: 3\n    });\n  }\n}\nfunction Et(e) {\n  let t, n;\n  return {\n    c() {\n      t = P(\"rect\"), n = P(\"rect\"), f(t, \"class\", \"a9s-outer\"), f(\n        t,\n        \"x\",\n        /*x*/\n        e[2]\n      ), f(\n        t,\n        \"y\",\n        /*y*/\n        e[3]\n      ), f(\n        t,\n        \"width\",\n        /*w*/\n        e[4]\n      ), f(\n        t,\n        \"height\",\n        /*h*/\n        e[5]\n      ), f(n, \"class\", \"a9s-inner\"), f(\n        n,\n        \"x\",\n        /*x*/\n        e[2]\n      ), f(\n        n,\n        \"y\",\n        /*y*/\n        e[3]\n      ), f(\n        n,\n        \"width\",\n        /*w*/\n        e[4]\n      ), f(\n        n,\n        \"height\",\n        /*h*/\n        e[5]\n      );\n    },\n    m(o, i) {\n      B(o, t, i), B(o, n, i);\n    },\n    p(o, i) {\n      i & /*x*/\n      4 && f(\n        t,\n        \"x\",\n        /*x*/\n        o[2]\n      ), i & /*y*/\n      8 && f(\n        t,\n        \"y\",\n        /*y*/\n        o[3]\n      ), i & /*w*/\n      16 && f(\n        t,\n        \"width\",\n        /*w*/\n        o[4]\n      ), i & /*h*/\n      32 && f(\n        t,\n        \"height\",\n        /*h*/\n        o[5]\n      ), i & /*x*/\n      4 && f(\n        n,\n        \"x\",\n        /*x*/\n        o[2]\n      ), i & /*y*/\n      8 && f(\n        n,\n        \"y\",\n        /*y*/\n        o[3]\n      ), i & /*w*/\n      16 && f(\n        n,\n        \"width\",\n        /*w*/\n        o[4]\n      ), i & /*h*/\n      32 && f(\n        n,\n        \"height\",\n        /*h*/\n        o[5]\n      );\n    },\n    d(o) {\n      o && L(t), o && L(n);\n    }\n  };\n}\nfunction _o(e) {\n  let t, n = (\n    /*origin*/\n    e[1] && Et(e)\n  );\n  return {\n    c() {\n      t = P(\"g\"), n && n.c(), f(t, \"class\", \"a9s-annotation a9s-rubberband\");\n    },\n    m(o, i) {\n      B(o, t, i), n && n.m(t, null), e[7](t);\n    },\n    p(o, [i]) {\n      /*origin*/\n      o[1] ? n ? n.p(o, i) : (n = Et(o), n.c(), n.m(t, null)) : n && (n.d(1), n = null);\n    },\n    i: N,\n    o: N,\n    d(o) {\n      o && L(t), n && n.d(), e[7](null);\n    }\n  };\n}\nfunction yo(e, t, n) {\n  const o = be();\n  let { transform: i } = t, s, r, a, l, u, h, c;\n  const d = (p) => {\n    n(1, r = i.elementToImage(p.offsetX, p.offsetY)), a = r, n(2, l = r[0]), n(3, u = r[1]), n(4, h = 1), n(5, c = 1);\n  }, m = (p) => {\n    r && (a = i.elementToImage(p.offsetX, p.offsetY), n(2, l = Math.min(a[0], r[0])), n(3, u = Math.min(a[1], r[1])), n(4, h = Math.abs(a[0] - r[0])), n(5, c = Math.abs(a[1] - r[1])));\n  }, g = () => {\n    if (h * c > 15) {\n      const p = {\n        type: H.RECTANGLE,\n        geometry: {\n          bounds: {\n            minX: l,\n            minY: u,\n            maxX: l + h,\n            maxY: u + c\n          },\n          x: l,\n          y: u,\n          w: h,\n          h: c\n        }\n      };\n      o(\"create\", p);\n    }\n    n(1, r = null), a = null;\n  };\n  Me(() => {\n    const p = s.closest(\"svg\");\n    return p.addEventListener(\"pointerdown\", d), p.addEventListener(\"pointermove\", m), p.addEventListener(\"pointerup\", g), () => {\n      p.removeEventListener(\"pointerdown\", d), p.removeEventListener(\"pointermove\", m), p.removeEventListener(\"pointerup\", g);\n    };\n  });\n  function _(p) {\n    we[p ? \"unshift\" : \"push\"](() => {\n      s = p, n(0, s);\n    });\n  }\n  return e.$$set = (p) => {\n    \"transform\" in p && n(6, i = p.transform);\n  }, [s, r, l, u, h, c, i, _];\n}\nclass wo extends ee {\n  constructor(t) {\n    super(), $(this, t, yo, _o, q, { transform: 6 });\n  }\n}\nconst At = (e, t) => {\n  const n = Math.abs(t[0] - e[0]), o = Math.abs(t[1] - e[1]);\n  return Math.sqrt(Math.pow(n, 2) + Math.pow(o, 2));\n}, bo = (e, t) => {\n  const { naturalWidth: n, naturalHeight: o } = e;\n  if (!n && !o) {\n    const { width: i, height: s } = e;\n    t.setAttribute(\"viewBox\", `0 0 ${i} ${s}`), e.addEventListener(\"load\", (r) => {\n      const a = r.target;\n      t.setAttribute(\"viewBox\", `0 0 ${a.naturalWidth} ${a.naturalHeight}`);\n    });\n  } else\n    t.setAttribute(\"viewBox\", `0 0 ${n} ${o}`);\n}, Eo = (e, t) => {\n  bo(e, t);\n  const { subscribe: n, set: o } = Ue(1);\n  let i;\n  return window.ResizeObserver && (i = new ResizeObserver(() => {\n    const r = t.getBoundingClientRect(), { width: a, height: l } = t.viewBox.baseVal, u = Math.max(\n      r.width / a,\n      r.height / l\n    );\n    o(u);\n  }), i.observe(t.parentElement)), { destroy: () => {\n    i && i.disconnect();\n  }, subscribe: n };\n}, Ao = \"ontouchstart\" in window || navigator.maxTouchPoints > 0;\nfunction Qe(e) {\n  const t = e.slice(), n = (\n    /*isClosable*/\n    (t[3] ? (\n      /*points*/\n      t[1]\n    ) : [\n      .../*points*/\n      t[1],\n      /*cursor*/\n      t[2]\n    ]).map((o) => o.join(\",\")).join(\" \")\n  );\n  return t[13] = n, t;\n}\nfunction Tt(e) {\n  let t, n, o, i, s, r = (\n    /*isClosable*/\n    e[3] && St(e)\n  );\n  return {\n    c() {\n      t = P(\"polygon\"), o = P(\"polygon\"), r && r.c(), s = se(), f(t, \"class\", \"a9s-outer\"), f(t, \"points\", n = /*coords*/\n      e[13]), f(o, \"class\", \"a9s-inner\"), f(o, \"points\", i = /*coords*/\n      e[13]);\n    },\n    m(a, l) {\n      B(a, t, l), B(a, o, l), r && r.m(a, l), B(a, s, l);\n    },\n    p(a, l) {\n      l & /*isClosable, points, cursor*/\n      14 && n !== (n = /*coords*/\n      a[13]) && f(t, \"points\", n), l & /*isClosable, points, cursor*/\n      14 && i !== (i = /*coords*/\n      a[13]) && f(o, \"points\", i), /*isClosable*/\n      a[3] ? r ? r.p(a, l) : (r = St(a), r.c(), r.m(s.parentNode, s)) : r && (r.d(1), r = null);\n    },\n    d(a) {\n      a && L(t), a && L(o), r && r.d(a), a && L(s);\n    }\n  };\n}\nfunction St(e) {\n  let t, n, o;\n  return {\n    c() {\n      t = P(\"rect\"), f(t, \"class\", \"a9s-corner-handle\"), f(t, \"x\", n = /*points*/\n      e[1][0][0] - /*handleSize*/\n      e[4] / 2), f(t, \"y\", o = /*points*/\n      e[1][0][1] - /*handleSize*/\n      e[4] / 2), f(\n        t,\n        \"height\",\n        /*handleSize*/\n        e[4]\n      ), f(\n        t,\n        \"width\",\n        /*handleSize*/\n        e[4]\n      );\n    },\n    m(i, s) {\n      B(i, t, s);\n    },\n    p(i, s) {\n      s & /*points, handleSize*/\n      18 && n !== (n = /*points*/\n      i[1][0][0] - /*handleSize*/\n      i[4] / 2) && f(t, \"x\", n), s & /*points, handleSize*/\n      18 && o !== (o = /*points*/\n      i[1][0][1] - /*handleSize*/\n      i[4] / 2) && f(t, \"y\", o), s & /*handleSize*/\n      16 && f(\n        t,\n        \"height\",\n        /*handleSize*/\n        i[4]\n      ), s & /*handleSize*/\n      16 && f(\n        t,\n        \"width\",\n        /*handleSize*/\n        i[4]\n      );\n    },\n    d(i) {\n      i && L(t);\n    }\n  };\n}\nfunction To(e) {\n  let t, n = (\n    /*cursor*/\n    e[2] && Tt(Qe(e))\n  );\n  return {\n    c() {\n      t = P(\"g\"), n && n.c(), f(t, \"class\", \"a9s-annotation a9s-rubberband\");\n    },\n    m(o, i) {\n      B(o, t, i), n && n.m(t, null), e[7](t);\n    },\n    p(o, [i]) {\n      /*cursor*/\n      o[2] ? n ? n.p(Qe(o), i) : (n = Tt(Qe(o)), n.c(), n.m(t, null)) : n && (n.d(1), n = null);\n    },\n    i: N,\n    o: N,\n    d(o) {\n      o && L(t), n && n.d(), e[7](null);\n    }\n  };\n}\nconst So = 20;\nfunction vo(e, t, n) {\n  let o;\n  const i = be();\n  let { transform: s } = t, { viewportScale: r = 1 } = t, a, l = [], u = null, h = !1;\n  const c = (p) => {\n    const T = s.elementToImage(p.offsetX, p.offsetY);\n    l.length === 0 && l.push(T), n(2, u = T);\n  }, d = (p) => {\n    if (l.length > 0 && (n(2, u = s.elementToImage(p.offsetX, p.offsetY)), l.length > 2)) {\n      const T = At(u, l[0]) * r;\n      n(3, h = T < So);\n    }\n  }, m = (p) => {\n    if (l.length === 1 && At(l[0], u) <= 4) {\n      n(1, l = []), n(2, u = null);\n      return;\n    }\n    if (p.stopImmediatePropagation(), h) {\n      const T = {\n        type: H.POLYGON,\n        geometry: {\n          bounds: Ne(l),\n          points: [...l]\n        }\n      };\n      n(1, l = []), n(2, u = null), i(\"create\", T);\n    } else\n      l.push(u);\n  }, g = () => {\n    const p = [...l, u], T = {\n      type: H.POLYGON,\n      geometry: { bounds: Ne(p), points: p }\n    };\n    n(1, l = []), n(2, u = null), i(\"create\", T);\n  };\n  Me(() => {\n    const p = a.closest(\"svg\");\n    return p.addEventListener(\"pointerdown\", c, !0), p.addEventListener(\"pointermove\", d), p.addEventListener(\"pointerup\", m, !0), p.addEventListener(\"dblclick\", g, !0), () => {\n      p.removeEventListener(\"pointerdown\", c, !0), p.removeEventListener(\"pointermove\", d, !0), p.removeEventListener(\"pointerup\", m, !0), p.removeEventListener(\"dblclick\", g, !0);\n    };\n  });\n  function _(p) {\n    we[p ? \"unshift\" : \"push\"](() => {\n      a = p, n(0, a);\n    });\n  }\n  return e.$$set = (p) => {\n    \"transform\" in p && n(5, s = p.transform), \"viewportScale\" in p && n(6, r = p.viewportScale);\n  }, e.$$.update = () => {\n    e.$$.dirty & /*viewportScale*/\n    64 && n(4, o = 10 / r);\n  }, [\n    a,\n    l,\n    u,\n    h,\n    o,\n    s,\n    r,\n    _\n  ];\n}\nclass Mo extends ee {\n  constructor(t) {\n    super(), $(this, t, vo, To, q, { transform: 5, viewportScale: 6 });\n  }\n}\nconst st = /* @__PURE__ */ new Map([\n  [\"rectangle\", wo],\n  [\"polygon\", Mo]\n]), _i = () => [...st.keys()], Vt = (e) => st.get(e), Lo = (e, t) => st.set(e, t);\nfunction Oo(e) {\n  let t, n, o, i, s;\n  return {\n    c() {\n      t = P(\"g\"), n = P(\"ellipse\"), i = P(\"ellipse\"), f(n, \"class\", \"a9s-outer\"), f(n, \"style\", o = /*computedStyle*/\n      e[1] ? \"display:none;\" : void 0), f(\n        n,\n        \"cx\",\n        /*cx*/\n        e[2]\n      ), f(\n        n,\n        \"cy\",\n        /*cy*/\n        e[3]\n      ), f(\n        n,\n        \"rx\",\n        /*rx*/\n        e[4]\n      ), f(\n        n,\n        \"ry\",\n        /*ry*/\n        e[5]\n      ), f(i, \"class\", \"a9s-inner\"), f(\n        i,\n        \"style\",\n        /*computedStyle*/\n        e[1]\n      ), f(\n        i,\n        \"cx\",\n        /*cx*/\n        e[2]\n      ), f(\n        i,\n        \"cy\",\n        /*cy*/\n        e[3]\n      ), f(\n        i,\n        \"rx\",\n        /*rx*/\n        e[4]\n      ), f(\n        i,\n        \"ry\",\n        /*ry*/\n        e[5]\n      ), f(t, \"data-id\", s = /*annotation*/\n      e[0].id);\n    },\n    m(r, a) {\n      B(r, t, a), re(t, n), re(t, i);\n    },\n    p(r, [a]) {\n      a & /*computedStyle*/\n      2 && o !== (o = /*computedStyle*/\n      r[1] ? \"display:none;\" : void 0) && f(n, \"style\", o), a & /*computedStyle*/\n      2 && f(\n        i,\n        \"style\",\n        /*computedStyle*/\n        r[1]\n      ), a & /*annotation*/\n      1 && s !== (s = /*annotation*/\n      r[0].id) && f(t, \"data-id\", s);\n    },\n    i: N,\n    o: N,\n    d(r) {\n      r && L(t);\n    }\n  };\n}\nfunction Bo(e, t, n) {\n  let o, { annotation: i } = t, { geom: s } = t, { style: r = void 0 } = t;\n  const { cx: a, cy: l, rx: u, ry: h } = s;\n  return e.$$set = (c) => {\n    \"annotation\" in c && n(0, i = c.annotation), \"geom\" in c && n(6, s = c.geom), \"style\" in c && n(7, r = c.style);\n  }, e.$$.update = () => {\n    e.$$.dirty & /*annotation, style*/\n    129 && n(1, o = He(i, r));\n  }, [i, o, a, l, u, h, s, r];\n}\nclass Io extends ee {\n  constructor(t) {\n    super(), $(this, t, Bo, Oo, q, { annotation: 0, geom: 6, style: 7 });\n  }\n}\nfunction ko(e) {\n  let t, n, o, i, s;\n  return {\n    c() {\n      t = P(\"g\"), n = P(\"polygon\"), i = P(\"polygon\"), f(n, \"class\", \"a9s-outer\"), f(n, \"style\", o = /*computedStyle*/\n      e[1] ? \"display:none;\" : void 0), f(\n        n,\n        \"points\",\n        /*points*/\n        e[2].map(Co).join(\" \")\n      ), f(i, \"class\", \"a9s-inner\"), f(\n        i,\n        \"style\",\n        /*computedStyle*/\n        e[1]\n      ), f(\n        i,\n        \"points\",\n        /*points*/\n        e[2].map(Po).join(\" \")\n      ), f(t, \"data-id\", s = /*annotation*/\n      e[0].id);\n    },\n    m(r, a) {\n      B(r, t, a), re(t, n), re(t, i);\n    },\n    p(r, [a]) {\n      a & /*computedStyle*/\n      2 && o !== (o = /*computedStyle*/\n      r[1] ? \"display:none;\" : void 0) && f(n, \"style\", o), a & /*computedStyle*/\n      2 && f(\n        i,\n        \"style\",\n        /*computedStyle*/\n        r[1]\n      ), a & /*annotation*/\n      1 && s !== (s = /*annotation*/\n      r[0].id) && f(t, \"data-id\", s);\n    },\n    i: N,\n    o: N,\n    d(r) {\n      r && L(t);\n    }\n  };\n}\nconst Co = (e) => e.join(\",\"), Po = (e) => e.join(\",\");\nfunction Yo(e, t, n) {\n  let o, { annotation: i } = t, { geom: s } = t, { style: r = void 0 } = t;\n  const { points: a } = s;\n  return e.$$set = (l) => {\n    \"annotation\" in l && n(0, i = l.annotation), \"geom\" in l && n(3, s = l.geom), \"style\" in l && n(4, r = l.style);\n  }, e.$$.update = () => {\n    e.$$.dirty & /*annotation, style*/\n    17 && n(1, o = He(i, r));\n  }, [i, o, a, s, r];\n}\nclass Ro extends ee {\n  constructor(t) {\n    super(), $(this, t, Yo, ko, q, { annotation: 0, geom: 3, style: 4 });\n  }\n}\nfunction Xo(e) {\n  let t, n, o, i, s;\n  return {\n    c() {\n      t = P(\"g\"), n = P(\"rect\"), i = P(\"rect\"), f(n, \"class\", \"a9s-outer\"), f(n, \"style\", o = /*computedStyle*/\n      e[1] ? \"display:none;\" : void 0), f(\n        n,\n        \"x\",\n        /*x*/\n        e[2]\n      ), f(\n        n,\n        \"y\",\n        /*y*/\n        e[3]\n      ), f(\n        n,\n        \"width\",\n        /*w*/\n        e[4]\n      ), f(\n        n,\n        \"height\",\n        /*h*/\n        e[5]\n      ), f(i, \"class\", \"a9s-inner\"), f(\n        i,\n        \"style\",\n        /*computedStyle*/\n        e[1]\n      ), f(\n        i,\n        \"x\",\n        /*x*/\n        e[2]\n      ), f(\n        i,\n        \"y\",\n        /*y*/\n        e[3]\n      ), f(\n        i,\n        \"width\",\n        /*w*/\n        e[4]\n      ), f(\n        i,\n        \"height\",\n        /*h*/\n        e[5]\n      ), f(t, \"data-id\", s = /*annotation*/\n      e[0].id);\n    },\n    m(r, a) {\n      B(r, t, a), re(t, n), re(t, i);\n    },\n    p(r, [a]) {\n      a & /*computedStyle*/\n      2 && o !== (o = /*computedStyle*/\n      r[1] ? \"display:none;\" : void 0) && f(n, \"style\", o), a & /*computedStyle*/\n      2 && f(\n        i,\n        \"style\",\n        /*computedStyle*/\n        r[1]\n      ), a & /*annotation*/\n      1 && s !== (s = /*annotation*/\n      r[0].id) && f(t, \"data-id\", s);\n    },\n    i: N,\n    o: N,\n    d(r) {\n      r && L(t);\n    }\n  };\n}\nfunction Do(e, t, n) {\n  let o, { annotation: i } = t, { geom: s } = t, { style: r = void 0 } = t;\n  const { x: a, y: l, w: u, h } = s;\n  return e.$$set = (c) => {\n    \"annotation\" in c && n(0, i = c.annotation), \"geom\" in c && n(6, s = c.geom), \"style\" in c && n(7, r = c.style);\n  }, e.$$.update = () => {\n    e.$$.dirty & /*annotation, style*/\n    129 && n(1, o = He(i, r));\n  }, [i, o, a, l, u, h, s, r];\n}\nclass Go extends ee {\n  constructor(t) {\n    super(), $(this, t, Do, Xo, q, { annotation: 0, geom: 6, style: 7 });\n  }\n}\nconst yi = {\n  elementToImage: (e, t) => [e, t]\n}, No = (e) => ({\n  elementToImage: (t, n) => {\n    const o = e.createSVGPoint();\n    o.x = t, o.y = n;\n    const { x: i, y: s } = o.matrixTransform(e.getCTM().inverse());\n    return [i, s];\n  }\n}), Uo = 200, Ho = (e, t) => {\n  const n = be();\n  let o;\n  return { onPointerDown: () => o = (/* @__PURE__ */ new Date()).getTime(), onPointerUp: (r) => {\n    if ((/* @__PURE__ */ new Date()).getTime() - o < Uo) {\n      const { x: l, y: u } = Fo(r, e), h = t.getAt(l, u);\n      h ? n(\"click\", { originalEvent: r, annotation: h }) : n(\"click\", { originalEvent: r });\n    }\n  } };\n}, Fo = (e, t) => {\n  const n = t.createSVGPoint();\n  if (Ao) {\n    const o = t.getBoundingClientRect(), i = e.clientX - o.x, s = e.clientY - o.y, { left: r, top: a } = t.getBoundingClientRect();\n    return n.x = i + r, n.y = s + a, n.matrixTransform(t.getScreenCTM().inverse());\n  } else\n    return n.x = e.offsetX, n.y = e.offsetY, n.matrixTransform(t.getCTM().inverse());\n};\nfunction vt(e, t, n) {\n  const o = e.slice();\n  return o[23] = t[n], o;\n}\nfunction Mt(e, t, n) {\n  const o = e.slice();\n  return o[26] = t[n], o;\n}\nfunction Ze(e) {\n  const t = e.slice(), n = (\n    /*annotation*/\n    t[26].target.selector\n  );\n  return t[29] = n, t;\n}\nfunction Lt(e) {\n  let t = (\n    /*annotation*/\n    e[26].id\n  ), n, o, i = Ot(e);\n  return {\n    c() {\n      i.c(), n = se();\n    },\n    m(s, r) {\n      i.m(s, r), B(s, n, r), o = !0;\n    },\n    p(s, r) {\n      r & /*$store*/\n      1024 && q(t, t = /*annotation*/\n      s[26].id) ? (ne(), D(i, 1, 1, N), oe(), i = Ot(s), i.c(), Y(i, 1), i.m(n.parentNode, n)) : i.p(s, r);\n    },\n    i(s) {\n      o || (Y(i), o = !0);\n    },\n    o(s) {\n      D(i), o = !1;\n    },\n    d(s) {\n      s && L(n), i.d(s);\n    }\n  };\n}\nfunction zo(e) {\n  let t, n;\n  return t = new Ro({\n    props: {\n      annotation: (\n        /*annotation*/\n        e[26]\n      ),\n      geom: (\n        /*selector*/\n        e[29].geometry\n      ),\n      style: (\n        /*style*/\n        e[0]\n      )\n    }\n  }), {\n    c() {\n      ue(t.$$.fragment);\n    },\n    m(o, i) {\n      le(t, o, i), n = !0;\n    },\n    p(o, i) {\n      const s = {};\n      i & /*$store*/\n      1024 && (s.annotation = /*annotation*/\n      o[26]), i & /*$store*/\n      1024 && (s.geom = /*selector*/\n      o[29].geometry), i & /*style*/\n      1 && (s.style = /*style*/\n      o[0]), t.$set(s);\n    },\n    i(o) {\n      n || (Y(t.$$.fragment, o), n = !0);\n    },\n    o(o) {\n      D(t.$$.fragment, o), n = !1;\n    },\n    d(o) {\n      ae(t, o);\n    }\n  };\n}\nfunction jo(e) {\n  let t, n;\n  return t = new Go({\n    props: {\n      annotation: (\n        /*annotation*/\n        e[26]\n      ),\n      geom: (\n        /*selector*/\n        e[29].geometry\n      ),\n      style: (\n        /*style*/\n        e[0]\n      )\n    }\n  }), {\n    c() {\n      ue(t.$$.fragment);\n    },\n    m(o, i) {\n      le(t, o, i), n = !0;\n    },\n    p(o, i) {\n      const s = {};\n      i & /*$store*/\n      1024 && (s.annotation = /*annotation*/\n      o[26]), i & /*$store*/\n      1024 && (s.geom = /*selector*/\n      o[29].geometry), i & /*style*/\n      1 && (s.style = /*style*/\n      o[0]), t.$set(s);\n    },\n    i(o) {\n      n || (Y(t.$$.fragment, o), n = !0);\n    },\n    o(o) {\n      D(t.$$.fragment, o), n = !1;\n    },\n    d(o) {\n      ae(t, o);\n    }\n  };\n}\nfunction Vo(e) {\n  let t, n;\n  return t = new Io({\n    props: {\n      annotation: (\n        /*annotation*/\n        e[26]\n      ),\n      geom: (\n        /*selector*/\n        e[29].geometry\n      ),\n      style: (\n        /*style*/\n        e[0]\n      )\n    }\n  }), {\n    c() {\n      ue(t.$$.fragment);\n    },\n    m(o, i) {\n      le(t, o, i), n = !0;\n    },\n    p(o, i) {\n      const s = {};\n      i & /*$store*/\n      1024 && (s.annotation = /*annotation*/\n      o[26]), i & /*$store*/\n      1024 && (s.geom = /*selector*/\n      o[29].geometry), i & /*style*/\n      1 && (s.style = /*style*/\n      o[0]), t.$set(s);\n    },\n    i(o) {\n      n || (Y(t.$$.fragment, o), n = !0);\n    },\n    o(o) {\n      D(t.$$.fragment, o), n = !1;\n    },\n    d(o) {\n      ae(t, o);\n    }\n  };\n}\nfunction Ot(e) {\n  let t, n, o, i;\n  const s = [Vo, jo, zo], r = [];\n  function a(l, u) {\n    return (\n      /*selector*/\n      l[29].type === H.ELLIPSE ? 0 : (\n        /*selector*/\n        l[29].type === H.RECTANGLE ? 1 : (\n          /*selector*/\n          l[29].type === H.POLYGON ? 2 : -1\n        )\n      )\n    );\n  }\n  return ~(t = a(e)) && (n = r[t] = s[t](e)), {\n    c() {\n      n && n.c(), o = se();\n    },\n    m(l, u) {\n      ~t && r[t].m(l, u), B(l, o, u), i = !0;\n    },\n    p(l, u) {\n      let h = t;\n      t = a(l), t === h ? ~t && r[t].p(l, u) : (n && (ne(), D(r[h], 1, 1, () => {\n        r[h] = null;\n      }), oe()), ~t ? (n = r[t], n ? n.p(l, u) : (n = r[t] = s[t](l), n.c()), Y(n, 1), n.m(o.parentNode, o)) : n = null);\n    },\n    i(l) {\n      i || (Y(n), i = !0);\n    },\n    o(l) {\n      D(n), i = !1;\n    },\n    d(l) {\n      ~t && r[t].d(l), l && L(o);\n    }\n  };\n}\nfunction Bt(e) {\n  let t = !/*isEditable*/\n  e[6](\n    /*annotation*/\n    e[26]\n  ), n, o, i = t && Lt(Ze(e));\n  return {\n    c() {\n      i && i.c(), n = se();\n    },\n    m(s, r) {\n      i && i.m(s, r), B(s, n, r), o = !0;\n    },\n    p(s, r) {\n      r & /*isEditable, $store*/\n      1088 && (t = !/*isEditable*/\n      s[6](\n        /*annotation*/\n        s[26]\n      )), t ? i ? (i.p(Ze(s), r), r & /*isEditable, $store*/\n      1088 && Y(i, 1)) : (i = Lt(Ze(s)), i.c(), Y(i, 1), i.m(n.parentNode, n)) : i && (ne(), D(i, 1, 1, () => {\n        i = null;\n      }), oe());\n    },\n    i(s) {\n      o || (Y(i), o = !0);\n    },\n    o(s) {\n      D(i), o = !1;\n    },\n    d(s) {\n      i && i.d(s), s && L(n);\n    }\n  };\n}\nfunction It(e) {\n  let t, n, o, i;\n  const s = [Wo, qo], r = [];\n  function a(l, u) {\n    return (\n      /*editableAnnotations*/\n      l[5] ? 0 : (\n        /*tool*/\n        l[1] ? 1 : -1\n      )\n    );\n  }\n  return ~(t = a(e)) && (n = r[t] = s[t](e)), {\n    c() {\n      n && n.c(), o = se();\n    },\n    m(l, u) {\n      ~t && r[t].m(l, u), B(l, o, u), i = !0;\n    },\n    p(l, u) {\n      let h = t;\n      t = a(l), t === h ? ~t && r[t].p(l, u) : (n && (ne(), D(r[h], 1, 1, () => {\n        r[h] = null;\n      }), oe()), ~t ? (n = r[t], n ? n.p(l, u) : (n = r[t] = s[t](l), n.c()), Y(n, 1), n.m(o.parentNode, o)) : n = null);\n    },\n    i(l) {\n      i || (Y(n), i = !0);\n    },\n    o(l) {\n      D(n), i = !1;\n    },\n    d(l) {\n      ~t && r[t].d(l), l && L(o);\n    }\n  };\n}\nfunction qo(e) {\n  let t = (\n    /*tool*/\n    e[1]\n  ), n, o, i = kt(e);\n  return {\n    c() {\n      i.c(), n = se();\n    },\n    m(s, r) {\n      i.m(s, r), B(s, n, r), o = !0;\n    },\n    p(s, r) {\n      r & /*tool*/\n      2 && q(t, t = /*tool*/\n      s[1]) ? (ne(), D(i, 1, 1, N), oe(), i = kt(s), i.c(), Y(i, 1), i.m(n.parentNode, n)) : i.p(s, r);\n    },\n    i(s) {\n      o || (Y(i), o = !0);\n    },\n    o(s) {\n      D(i), o = !1;\n    },\n    d(s) {\n      s && L(n), i.d(s);\n    }\n  };\n}\nfunction Wo(e) {\n  let t, n, o = (\n    /*editableAnnotations*/\n    e[5]\n  ), i = [];\n  for (let r = 0; r < o.length; r += 1)\n    i[r] = Pt(vt(e, o, r));\n  const s = (r) => D(i[r], 1, 1, () => {\n    i[r] = null;\n  });\n  return {\n    c() {\n      for (let r = 0; r < i.length; r += 1)\n        i[r].c();\n      t = se();\n    },\n    m(r, a) {\n      for (let l = 0; l < i.length; l += 1)\n        i[l] && i[l].m(r, a);\n      B(r, t, a), n = !0;\n    },\n    p(r, a) {\n      if (a & /*editableAnnotations, drawingEl, getEditor, style, transform, $scale, onChangeSelected*/\n      35369) {\n        o = /*editableAnnotations*/\n        r[5];\n        let l;\n        for (l = 0; l < o.length; l += 1) {\n          const u = vt(r, o, l);\n          i[l] ? (i[l].p(u, a), Y(i[l], 1)) : (i[l] = Pt(u), i[l].c(), Y(i[l], 1), i[l].m(t.parentNode, t));\n        }\n        for (ne(), l = o.length; l < i.length; l += 1)\n          s(l);\n        oe();\n      }\n    },\n    i(r) {\n      if (!n) {\n        for (let a = 0; a < o.length; a += 1)\n          Y(i[a]);\n        n = !0;\n      }\n    },\n    o(r) {\n      i = i.filter(Boolean);\n      for (let a = 0; a < i.length; a += 1)\n        D(i[a]);\n      n = !1;\n    },\n    d(r) {\n      tt(i, r), r && L(t);\n    }\n  };\n}\nfunction kt(e) {\n  let t, n;\n  return t = new po({\n    props: {\n      target: (\n        /*drawingEl*/\n        e[3]\n      ),\n      tool: (\n        /*tool*/\n        e[1]\n      ),\n      transform: (\n        /*transform*/\n        e[9]\n      ),\n      viewportScale: (\n        /*$scale*/\n        e[11]\n      )\n    }\n  }), t.$on(\n    \"create\",\n    /*onSelectionCreated*/\n    e[14]\n  ), {\n    c() {\n      ue(t.$$.fragment);\n    },\n    m(o, i) {\n      le(t, o, i), n = !0;\n    },\n    p(o, i) {\n      const s = {};\n      i & /*drawingEl*/\n      8 && (s.target = /*drawingEl*/\n      o[3]), i & /*tool*/\n      2 && (s.tool = /*tool*/\n      o[1]), i & /*transform*/\n      512 && (s.transform = /*transform*/\n      o[9]), i & /*$scale*/\n      2048 && (s.viewportScale = /*$scale*/\n      o[11]), t.$set(s);\n    },\n    i(o) {\n      n || (Y(t.$$.fragment, o), n = !0);\n    },\n    o(o) {\n      D(t.$$.fragment, o), n = !1;\n    },\n    d(o) {\n      ae(t, o);\n    }\n  };\n}\nfunction Ct(e) {\n  let t, n;\n  return t = new mo({\n    props: {\n      target: (\n        /*drawingEl*/\n        e[3]\n      ),\n      editor: wt(\n        /*editable*/\n        e[23].target.selector\n      ),\n      annotation: (\n        /*editable*/\n        e[23]\n      ),\n      style: (\n        /*style*/\n        e[0]\n      ),\n      transform: (\n        /*transform*/\n        e[9]\n      ),\n      viewportScale: (\n        /*$scale*/\n        e[11]\n      )\n    }\n  }), t.$on(\"change\", function() {\n    z(\n      /*onChangeSelected*/\n      e[15](\n        /*editable*/\n        e[23]\n      )\n    ) && e[15](\n      /*editable*/\n      e[23]\n    ).apply(this, arguments);\n  }), {\n    c() {\n      ue(t.$$.fragment);\n    },\n    m(o, i) {\n      le(t, o, i), n = !0;\n    },\n    p(o, i) {\n      e = o;\n      const s = {};\n      i & /*drawingEl*/\n      8 && (s.target = /*drawingEl*/\n      e[3]), i & /*editableAnnotations*/\n      32 && (s.editor = wt(\n        /*editable*/\n        e[23].target.selector\n      )), i & /*editableAnnotations*/\n      32 && (s.annotation = /*editable*/\n      e[23]), i & /*style*/\n      1 && (s.style = /*style*/\n      e[0]), i & /*transform*/\n      512 && (s.transform = /*transform*/\n      e[9]), i & /*$scale*/\n      2048 && (s.viewportScale = /*$scale*/\n      e[11]), t.$set(s);\n    },\n    i(o) {\n      n || (Y(t.$$.fragment, o), n = !0);\n    },\n    o(o) {\n      D(t.$$.fragment, o), n = !1;\n    },\n    d(o) {\n      ae(t, o);\n    }\n  };\n}\nfunction Pt(e) {\n  let t = (\n    /*editable*/\n    e[23].id\n  ), n, o, i = Ct(e);\n  return {\n    c() {\n      i.c(), n = se();\n    },\n    m(s, r) {\n      i.m(s, r), B(s, n, r), o = !0;\n    },\n    p(s, r) {\n      r & /*editableAnnotations*/\n      32 && q(t, t = /*editable*/\n      s[23].id) ? (ne(), D(i, 1, 1, N), oe(), i = Ct(s), i.c(), Y(i, 1), i.m(n.parentNode, n)) : i.p(s, r);\n    },\n    i(s) {\n      o || (Y(i), o = !0);\n    },\n    o(s) {\n      D(i), o = !1;\n    },\n    d(s) {\n      s && L(n), i.d(s);\n    }\n  };\n}\nfunction Jo(e) {\n  let t, n, o, i, s, r, a = (\n    /*$store*/\n    e[10]\n  ), l = [];\n  for (let c = 0; c < a.length; c += 1)\n    l[c] = Bt(Mt(e, a, c));\n  const u = (c) => D(l[c], 1, 1, () => {\n    l[c] = null;\n  });\n  let h = (\n    /*drawingEl*/\n    e[3] && It(e)\n  );\n  return {\n    c() {\n      t = P(\"svg\"), n = P(\"g\");\n      for (let c = 0; c < l.length; c += 1)\n        l[c].c();\n      o = P(\"g\"), h && h.c(), f(o, \"class\", \"drawing\"), f(t, \"class\", \"a9s-annotationlayer\"), ct(\n        t,\n        \"drawing\",\n        /*tool*/\n        e[1]\n      );\n    },\n    m(c, d) {\n      B(c, t, d), re(t, n);\n      for (let m = 0; m < l.length; m += 1)\n        l[m] && l[m].m(n, null);\n      re(t, o), h && h.m(o, null), e[19](o), e[20](t), i = !0, s || (r = [\n        V(t, \"pointerup\", function() {\n          z(\n            /*onPointerUp*/\n            e[7]\n          ) && e[7].apply(this, arguments);\n        }),\n        V(t, \"pointerdown\", function() {\n          z(\n            /*onPointerDown*/\n            e[8]\n          ) && e[8].apply(this, arguments);\n        })\n      ], s = !0);\n    },\n    p(c, [d]) {\n      if (e = c, d & /*$store, style, ShapeType, isEditable*/\n      1089) {\n        a = /*$store*/\n        e[10];\n        let m;\n        for (m = 0; m < a.length; m += 1) {\n          const g = Mt(e, a, m);\n          l[m] ? (l[m].p(g, d), Y(l[m], 1)) : (l[m] = Bt(g), l[m].c(), Y(l[m], 1), l[m].m(n, null));\n        }\n        for (ne(), m = a.length; m < l.length; m += 1)\n          u(m);\n        oe();\n      }\n      /*drawingEl*/\n      e[3] ? h ? (h.p(e, d), d & /*drawingEl*/\n      8 && Y(h, 1)) : (h = It(e), h.c(), Y(h, 1), h.m(o, null)) : h && (ne(), D(h, 1, 1, () => {\n        h = null;\n      }), oe()), (!i || d & /*tool*/\n      2) && ct(\n        t,\n        \"drawing\",\n        /*tool*/\n        e[1]\n      );\n    },\n    i(c) {\n      if (!i) {\n        for (let d = 0; d < a.length; d += 1)\n          Y(l[d]);\n        Y(h), i = !0;\n      }\n    },\n    o(c) {\n      l = l.filter(Boolean);\n      for (let d = 0; d < l.length; d += 1)\n        D(l[d]);\n      D(h), i = !1;\n    },\n    d(c) {\n      c && L(t), tt(l, c), h && h.d(), e[19](null), e[20](null), s = !1, ie(r);\n    }\n  };\n}\nfunction Qo(e, t, n) {\n  let o, i, s, r, a, l, u, h = N, c = () => (h(), h = Xt(E, (w) => n(11, u = w)), E);\n  e.$$.on_destroy.push(() => h());\n  let { image: d } = t, { state: m } = t, { style: g = void 0 } = t, { tool: _ = Vt(\"rectangle\") } = t, p, T, E;\n  Me(() => c(n(4, E = Eo(d, T))));\n  const { selection: I, store: X } = m;\n  at(e, I, (w) => n(18, a = w)), at(e, X, (w) => n(10, l = w));\n  let G = null, C = null;\n  const F = (w) => {\n    X.unobserve(G);\n    const O = w.filter(({ editable: R }) => R).map(({ id: R }) => R);\n    O.length > 0 ? (n(5, C = O.map((R) => X.getAnnotation(R))), G = (R) => {\n      const { updated: te } = R.changes;\n      n(5, C = te.map((W) => W.newValue));\n    }, X.observe(G, { annotations: O })) : n(5, C = null);\n  }, y = (w) => {\n    const O = it(), R = {\n      id: O,\n      bodies: [],\n      target: {\n        annotation: O,\n        selector: w.detail,\n        creator: null,\n        created: /* @__PURE__ */ new Date()\n      }\n    };\n    X.addAnnotation(R), I.setSelected(R.id);\n  }, b = (w) => (O) => {\n    const { target: R } = w, te = 10 * 60 * 1e3, W = (\n      // target.creator?.id !== user.id ||\n      !R.created || (/* @__PURE__ */ new Date()).getTime() - R.created.getTime() > te\n    );\n    X.updateTarget({\n      ...R,\n      selector: O.detail,\n      created: W ? R.created : /* @__PURE__ */ new Date(),\n      updated: W ? /* @__PURE__ */ new Date() : null\n    });\n  };\n  function A(w) {\n    we[w ? \"unshift\" : \"push\"](() => {\n      p = w, n(3, p);\n    });\n  }\n  function M(w) {\n    we[w ? \"unshift\" : \"push\"](() => {\n      T = w, n(2, T);\n    });\n  }\n  return e.$$set = (w) => {\n    \"image\" in w && n(16, d = w.image), \"state\" in w && n(17, m = w.state), \"style\" in w && n(0, g = w.style), \"tool\" in w && n(1, _ = w.tool);\n  }, e.$$.update = () => {\n    e.$$.dirty & /*svgEl*/\n    4 && n(9, o = No(T)), e.$$.dirty & /*svgEl*/\n    4 && n(8, { onPointerDown: i, onPointerUp: s } = Ho(T, X), i, (n(7, s), n(2, T))), e.$$.dirty & /*$selection*/\n    262144 && n(6, r = (w) => a.selected.find((O) => O.id === w.id && O.editable)), e.$$.dirty & /*$selection*/\n    262144 && F(a.selected);\n  }, [\n    g,\n    _,\n    T,\n    p,\n    E,\n    C,\n    r,\n    s,\n    i,\n    o,\n    l,\n    u,\n    I,\n    X,\n    y,\n    b,\n    d,\n    m,\n    a,\n    A,\n    M\n  ];\n}\nclass Zo extends ee {\n  constructor(t) {\n    super(), $(this, t, Qo, Jo, q, { image: 16, state: 17, style: 0, tool: 1 });\n  }\n}\nfunction Ko(e, t, n, o, i) {\n  qt(e, t, n || 0, o || e.length - 1, i || xo);\n}\nfunction qt(e, t, n, o, i) {\n  for (; o > n; ) {\n    if (o - n > 600) {\n      var s = o - n + 1, r = t - n + 1, a = Math.log(s), l = 0.5 * Math.exp(2 * a / 3), u = 0.5 * Math.sqrt(a * l * (s - l) / s) * (r - s / 2 < 0 ? -1 : 1), h = Math.max(n, Math.floor(t - r * l / s + u)), c = Math.min(o, Math.floor(t + (s - r) * l / s + u));\n      qt(e, t, h, c, i);\n    }\n    var d = e[t], m = n, g = o;\n    for (Ee(e, n, t), i(e[o], d) > 0 && Ee(e, n, o); m < g; ) {\n      for (Ee(e, m, g), m++, g--; i(e[m], d) < 0; )\n        m++;\n      for (; i(e[g], d) > 0; )\n        g--;\n    }\n    i(e[n], d) === 0 ? Ee(e, n, g) : (g++, Ee(e, g, o)), g <= t && (n = g + 1), t <= g && (o = g - 1);\n  }\n}\nfunction Ee(e, t, n) {\n  var o = e[t];\n  e[t] = e[n], e[n] = o;\n}\nfunction xo(e, t) {\n  return e < t ? -1 : e > t ? 1 : 0;\n}\nclass $o {\n  constructor(t = 9) {\n    this._maxEntries = Math.max(4, t), this._minEntries = Math.max(2, Math.ceil(this._maxEntries * 0.4)), this.clear();\n  }\n  all() {\n    return this._all(this.data, []);\n  }\n  search(t) {\n    let n = this.data;\n    const o = [];\n    if (!De(t, n))\n      return o;\n    const i = this.toBBox, s = [];\n    for (; n; ) {\n      for (let r = 0; r < n.children.length; r++) {\n        const a = n.children[r], l = n.leaf ? i(a) : a;\n        De(t, l) && (n.leaf ? o.push(a) : xe(t, l) ? this._all(a, o) : s.push(a));\n      }\n      n = s.pop();\n    }\n    return o;\n  }\n  collides(t) {\n    let n = this.data;\n    if (!De(t, n))\n      return !1;\n    const o = [];\n    for (; n; ) {\n      for (let i = 0; i < n.children.length; i++) {\n        const s = n.children[i], r = n.leaf ? this.toBBox(s) : s;\n        if (De(t, r)) {\n          if (n.leaf || xe(t, r))\n            return !0;\n          o.push(s);\n        }\n      }\n      n = o.pop();\n    }\n    return !1;\n  }\n  load(t) {\n    if (!(t && t.length))\n      return this;\n    if (t.length < this._minEntries) {\n      for (let o = 0; o < t.length; o++)\n        this.insert(t[o]);\n      return this;\n    }\n    let n = this._build(t.slice(), 0, t.length - 1, 0);\n    if (!this.data.children.length)\n      this.data = n;\n    else if (this.data.height === n.height)\n      this._splitRoot(this.data, n);\n    else {\n      if (this.data.height < n.height) {\n        const o = this.data;\n        this.data = n, n = o;\n      }\n      this._insert(n, this.data.height - n.height - 1, !0);\n    }\n    return this;\n  }\n  insert(t) {\n    return t && this._insert(t, this.data.height - 1), this;\n  }\n  clear() {\n    return this.data = pe([]), this;\n  }\n  remove(t, n) {\n    if (!t)\n      return this;\n    let o = this.data;\n    const i = this.toBBox(t), s = [], r = [];\n    let a, l, u;\n    for (; o || s.length; ) {\n      if (o || (o = s.pop(), l = s[s.length - 1], a = r.pop(), u = !0), o.leaf) {\n        const h = ei(t, o.children, n);\n        if (h !== -1)\n          return o.children.splice(h, 1), s.push(o), this._condense(s), this;\n      }\n      !u && !o.leaf && xe(o, i) ? (s.push(o), r.push(a), a = 0, l = o, o = o.children[0]) : l ? (a++, o = l.children[a], u = !1) : o = null;\n    }\n    return this;\n  }\n  toBBox(t) {\n    return t;\n  }\n  compareMinX(t, n) {\n    return t.minX - n.minX;\n  }\n  compareMinY(t, n) {\n    return t.minY - n.minY;\n  }\n  toJSON() {\n    return this.data;\n  }\n  fromJSON(t) {\n    return this.data = t, this;\n  }\n  _all(t, n) {\n    const o = [];\n    for (; t; )\n      t.leaf ? n.push(...t.children) : o.push(...t.children), t = o.pop();\n    return n;\n  }\n  _build(t, n, o, i) {\n    const s = o - n + 1;\n    let r = this._maxEntries, a;\n    if (s <= r)\n      return a = pe(t.slice(n, o + 1)), me(a, this.toBBox), a;\n    i || (i = Math.ceil(Math.log(s) / Math.log(r)), r = Math.ceil(s / Math.pow(r, i - 1))), a = pe([]), a.leaf = !1, a.height = i;\n    const l = Math.ceil(s / r), u = l * Math.ceil(Math.sqrt(r));\n    Yt(t, n, o, u, this.compareMinX);\n    for (let h = n; h <= o; h += u) {\n      const c = Math.min(h + u - 1, o);\n      Yt(t, h, c, l, this.compareMinY);\n      for (let d = h; d <= c; d += l) {\n        const m = Math.min(d + l - 1, c);\n        a.children.push(this._build(t, d, m, i - 1));\n      }\n    }\n    return me(a, this.toBBox), a;\n  }\n  _chooseSubtree(t, n, o, i) {\n    for (; i.push(n), !(n.leaf || i.length - 1 === o); ) {\n      let s = 1 / 0, r = 1 / 0, a;\n      for (let l = 0; l < n.children.length; l++) {\n        const u = n.children[l], h = Ke(u), c = oi(t, u) - h;\n        c < r ? (r = c, s = h < s ? h : s, a = u) : c === r && h < s && (s = h, a = u);\n      }\n      n = a || n.children[0];\n    }\n    return n;\n  }\n  _insert(t, n, o) {\n    const i = o ? t : this.toBBox(t), s = [], r = this._chooseSubtree(i, this.data, n, s);\n    for (r.children.push(t), Te(r, i); n >= 0 && s[n].children.length > this._maxEntries; )\n      this._split(s, n), n--;\n    this._adjustParentBBoxes(i, s, n);\n  }\n  // split overflowed node into two\n  _split(t, n) {\n    const o = t[n], i = o.children.length, s = this._minEntries;\n    this._chooseSplitAxis(o, s, i);\n    const r = this._chooseSplitIndex(o, s, i), a = pe(o.children.splice(r, o.children.length - r));\n    a.height = o.height, a.leaf = o.leaf, me(o, this.toBBox), me(a, this.toBBox), n ? t[n - 1].children.push(a) : this._splitRoot(o, a);\n  }\n  _splitRoot(t, n) {\n    this.data = pe([t, n]), this.data.height = t.height + 1, this.data.leaf = !1, me(this.data, this.toBBox);\n  }\n  _chooseSplitIndex(t, n, o) {\n    let i, s = 1 / 0, r = 1 / 0;\n    for (let a = n; a <= o - n; a++) {\n      const l = Ae(t, 0, a, this.toBBox), u = Ae(t, a, o, this.toBBox), h = ii(l, u), c = Ke(l) + Ke(u);\n      h < s ? (s = h, i = a, r = c < r ? c : r) : h === s && c < r && (r = c, i = a);\n    }\n    return i || o - n;\n  }\n  // sorts node children by the best axis for split\n  _chooseSplitAxis(t, n, o) {\n    const i = t.leaf ? this.compareMinX : ti, s = t.leaf ? this.compareMinY : ni, r = this._allDistMargin(t, n, o, i), a = this._allDistMargin(t, n, o, s);\n    r < a && t.children.sort(i);\n  }\n  // total margin of all possible split distributions where each node is at least m full\n  _allDistMargin(t, n, o, i) {\n    t.children.sort(i);\n    const s = this.toBBox, r = Ae(t, 0, n, s), a = Ae(t, o - n, o, s);\n    let l = Xe(r) + Xe(a);\n    for (let u = n; u < o - n; u++) {\n      const h = t.children[u];\n      Te(r, t.leaf ? s(h) : h), l += Xe(r);\n    }\n    for (let u = o - n - 1; u >= n; u--) {\n      const h = t.children[u];\n      Te(a, t.leaf ? s(h) : h), l += Xe(a);\n    }\n    return l;\n  }\n  _adjustParentBBoxes(t, n, o) {\n    for (let i = o; i >= 0; i--)\n      Te(n[i], t);\n  }\n  _condense(t) {\n    for (let n = t.length - 1, o; n >= 0; n--)\n      t[n].children.length === 0 ? n > 0 ? (o = t[n - 1].children, o.splice(o.indexOf(t[n]), 1)) : this.clear() : me(t[n], this.toBBox);\n  }\n}\nfunction ei(e, t, n) {\n  if (!n)\n    return t.indexOf(e);\n  for (let o = 0; o < t.length; o++)\n    if (n(e, t[o]))\n      return o;\n  return -1;\n}\nfunction me(e, t) {\n  Ae(e, 0, e.children.length, t, e);\n}\nfunction Ae(e, t, n, o, i) {\n  i || (i = pe(null)), i.minX = 1 / 0, i.minY = 1 / 0, i.maxX = -1 / 0, i.maxY = -1 / 0;\n  for (let s = t; s < n; s++) {\n    const r = e.children[s];\n    Te(i, e.leaf ? o(r) : r);\n  }\n  return i;\n}\nfunction Te(e, t) {\n  return e.minX = Math.min(e.minX, t.minX), e.minY = Math.min(e.minY, t.minY), e.maxX = Math.max(e.maxX, t.maxX), e.maxY = Math.max(e.maxY, t.maxY), e;\n}\nfunction ti(e, t) {\n  return e.minX - t.minX;\n}\nfunction ni(e, t) {\n  return e.minY - t.minY;\n}\nfunction Ke(e) {\n  return (e.maxX - e.minX) * (e.maxY - e.minY);\n}\nfunction Xe(e) {\n  return e.maxX - e.minX + (e.maxY - e.minY);\n}\nfunction oi(e, t) {\n  return (Math.max(t.maxX, e.maxX) - Math.min(t.minX, e.minX)) * (Math.max(t.maxY, e.maxY) - Math.min(t.minY, e.minY));\n}\nfunction ii(e, t) {\n  const n = Math.max(e.minX, t.minX), o = Math.max(e.minY, t.minY), i = Math.min(e.maxX, t.maxX), s = Math.min(e.maxY, t.maxY);\n  return Math.max(0, i - n) * Math.max(0, s - o);\n}\nfunction xe(e, t) {\n  return e.minX <= t.minX && e.minY <= t.minY && t.maxX <= e.maxX && t.maxY <= e.maxY;\n}\nfunction De(e, t) {\n  return t.minX <= e.maxX && t.minY <= e.maxY && t.maxX >= e.minX && t.maxY >= e.minY;\n}\nfunction pe(e) {\n  return {\n    children: e,\n    height: 1,\n    leaf: !0,\n    minX: 1 / 0,\n    minY: 1 / 0,\n    maxX: -1 / 0,\n    maxY: -1 / 0\n  };\n}\nfunction Yt(e, t, n, o, i) {\n  const s = [t, n];\n  for (; s.length; ) {\n    if (n = s.pop(), t = s.pop(), n - t <= o)\n      continue;\n    const r = t + Math.ceil((n - t) / o / 2) * o;\n    Ko(e, r, t, n, i), s.push(t, r, r, n);\n  }\n}\nconst si = () => {\n  const e = new $o(), t = /* @__PURE__ */ new Map(), n = () => [...t.values()], o = () => {\n    e.clear(), t.clear();\n  }, i = (c) => {\n    const { minX: d, minY: m, maxX: g, maxY: _ } = c.selector.geometry.bounds, p = { minX: d, minY: m, maxX: g, maxY: _, target: c };\n    e.insert(p), t.set(c.annotation, p);\n  }, s = (c) => {\n    const d = t.get(c.annotation);\n    e.remove(d), t.delete(c.annotation);\n  };\n  return {\n    all: n,\n    clear: o,\n    getAt: (c, d) => {\n      const g = e.search({\n        minX: c,\n        minY: d,\n        maxX: c,\n        maxY: d\n      }).map((_) => _.target).filter((_) => _.selector.type === H.RECTANGLE || ln(_.selector, c, d));\n      if (g.length > 0)\n        return g.sort((_, p) => ut(_.selector) - ut(p.selector)), g[0];\n    },\n    getIntersecting: (c, d, m, g) => e.search({\n      minX: c,\n      minY: d,\n      maxX: c + m,\n      maxY: d + g\n    }).map((_) => _.target),\n    insert: i,\n    remove: s,\n    set: (c, d = !0) => {\n      d && o();\n      const m = c.map((g) => {\n        const { minX: _, minY: p, maxX: T, maxY: E } = g.selector.geometry.bounds;\n        return { minX: _, minY: p, maxX: T, maxY: E, target: g };\n      });\n      m.forEach((g) => t.set(g.target.annotation, g)), e.load(m);\n    },\n    size: () => e.all().length,\n    update: (c, d) => {\n      s(c), i(d);\n    }\n  };\n}, ri = (e) => {\n  const t = Pn(), n = si(), o = Sn(t, e.pointerSelectAction), i = Tn(t), s = Rn();\n  return t.observe(({ changes: l }) => {\n    n.set(l.created.map((u) => u.target), !1), l.deleted.forEach((u) => n.remove(u.target)), l.updated.forEach(({ oldValue: u, newValue: h }) => n.update(u.target, h.target));\n  }), {\n    store: {\n      ...t,\n      getAt: (l, u) => {\n        const h = n.getAt(l, u);\n        return h ? t.getAnnotation(h.annotation) : void 0;\n      },\n      getIntersecting: (l, u, h, c) => n.getIntersecting(l, u, h, c).map((d) => t.getAnnotation(d.annotation))\n    },\n    selection: o,\n    hover: i,\n    viewport: s\n  };\n}, li = (e) => {\n  const t = ri(e);\n  return {\n    ...t,\n    store: Yn(t.store)\n  };\n}, ai = (e) => {\n  let t, n;\n  if (e.nodeName === \"CANVAS\")\n    t = e, n = t.getContext(\"2d\", { willReadFrequently: !0 });\n  else {\n    const i = e;\n    t = document.createElement(\"canvas\"), t.width = i.width, t.height = i.height, n = t.getContext(\"2d\", { willReadFrequently: !0 }), n.drawImage(i, 0, 0, i.width, i.height);\n  }\n  let o = 0;\n  for (let i = 1; i < 10; i++)\n    for (let s = 1; s < 10; s++) {\n      const r = Math.round(s * t.width / 10), a = Math.round(i * t.height / 10), l = n.getImageData(r, a, 1, 1).data, u = (0.299 * l[0] + 0.587 * l[1] + 0.114 * l[2]) / 255;\n      o += u;\n    }\n  return o / 81;\n}, ci = (e, t) => {\n  const n = ai(e), o = n > 0.6 ? \"dark\" : \"light\";\n  console.log(`[Annotorious] Image brightness: ${n.toFixed(1)}. Setting ${o} theme.`), t.setAttribute(\"data-theme\", o);\n}, fi = (e) => ({\n  ...e,\n  pointerSelectAction: e.pointerSelectAction || Ft.EDIT\n});\nconst wi = (e, t = {}) => {\n  if (!e)\n    throw \"Missing argument: image\";\n  const n = typeof e == \"string\" ? document.getElementById(e) : e, o = fi(t), i = li(o), { hover: s, selection: r, store: a } = i, l = Xn(\n    a,\n    r,\n    s,\n    void 0,\n    o.adapter,\n    o.autoSave\n  );\n  let u = o.style, h = o.readOnly ? null : zn();\n  const c = document.createElement(\"DIV\");\n  c.style.position = \"relative\", c.style.display = \"inline-block\", n.style.display = \"block\", n.parentNode.insertBefore(c, n), c.appendChild(n), ci(n, c);\n  const d = new Zo({\n    target: c,\n    props: { image: n, state: i, style: u }\n  });\n  d.$on(\"click\", (C) => {\n    const { originalEvent: F, annotation: y } = C.detail;\n    y ? r.clickSelect(y.id, F) : r.isEmpty() || r.clear();\n  });\n  const m = Gn(a, o.adapter), g = (C) => {\n    u = C, d.$set({ style: C });\n  }, _ = () => {\n    d.$destroy(), c.parentNode.insertBefore(n, c), c.parentNode.removeChild(c);\n  }, p = (C, F) => Lo(C, F), T = (C, F) => ao(C, F), E = () => h, I = (C) => {\n    const F = Vt(C);\n    d.$set({ tool: F });\n  }, X = (C) => {\n    C ? r.setSelected(C) : r.clear();\n  }, G = (C) => {\n    h = C;\n  };\n  return {\n    ...m,\n    get style() {\n      return u;\n    },\n    set style(C) {\n      g(C);\n    },\n    destroy: _,\n    getUser: E,\n    on: l.on,\n    off: l.off,\n    registerDrawingTool: p,\n    registerShapeEditor: T,\n    setDrawingTool: I,\n    setSelected: X,\n    setUser: G,\n    state: i\n  };\n};\nexport {\n  jt as Editor,\n  mo as EditorMount,\n  v as Handle,\n  yi as IdentityTransform,\n  mi as PRESENCE_KEY,\n  oo as PolygonEditor,\n  lo as RectangleEditor,\n  fn as RectangleUtil,\n  wo as RubberbandRectangle,\n  Zo as SVGAnnotationLayer,\n  H as ShapeType,\n  po as ToolMount,\n  pi as W3CImageFormat,\n  Ho as addEventListeners,\n  Ne as boundsFromPoints,\n  ut as computeArea,\n  zn as createAnonymousGuest,\n  Gn as createBaseAnnotator,\n  di as createBody,\n  Qn as createDefaultAppearenceProvider,\n  wi as createImageAnnotator,\n  ri as createImageAnnotatorState,\n  gi as createPresenceState,\n  No as createSVGTransform,\n  li as createSvelteImageAnnotatorState,\n  Jn as defaultColorProvider,\n  In as diffAnnotations,\n  At as distance,\n  Eo as enableResponsive,\n  fi as fillDefaults,\n  ui as getContributors,\n  wt as getEditor,\n  Vt as getTool,\n  ln as intersects,\n  Ao as isTouch,\n  _i as listTools,\n  Dn as parseAll,\n  un as parseFragmentSelector,\n  _n as parseSVGSelector,\n  Vn as parseW3CBodies,\n  xn as parseW3CImageAnnotation,\n  ao as registerEditor,\n  ot as registerShapeUtil,\n  Lo as registerTool,\n  ai as sampleBrightness,\n  hi as serializeAll,\n  dn as serializeFragmentSelector,\n  yn as serializeSVGSelector,\n  qn as serializeW3CBodies,\n  $n as serializeW3CImageAnnotation,\n  ci as setTheme\n};\n//# sourceMappingURL=annotorious.es.js.map\n"],"names":["Wt","e","t","Rt","lt","ie","z","q","Jt","Xt","at","Qt","i","Dt","Zt","s","r","Kt","xt","re","B","L","tt","P","Gt","x","se","V","f","$t","ct","en","ve","Se","Nt","Me","be","_e","ge","we","ye","ft","tn","$e","Ut","et","We","de","sn","Ge","ce","ne","oe","Y","D","ue","le","ae","rn","$","u","c","d","m","ee","H","nt","ot","ut","ln","Ne","an","fn","_","dn","Ht","dt","hn","o","mn","n","gn","pn","_n","yn","Re","wn","bn","j","En","An","ht","it","mt","fe","he","Ue","Tn","a","Ft","Je","Sn","vn","g","Mn","Ln","On","Bn","In","U","kn","l","h","Cn","Pn","A","M","w","O","R","te","W","p","T","E","G","Yn","Rn","Xn","I","X","Dn","Un","Hn","Fn","zn","jn","Vn","qn","pi","xn","$n","gt","pt","v","eo","_t","yt","to","jt","no","oo","io","C","F","y","b","Fe","J","Le","Oe","ze","Q","Be","Ie","je","Z","ke","Ce","Ve","K","Pe","Ye","qe","rt","k","S","so","ro","lo","zt","wt","ao","co","bt","fo","uo","He","ho","mo","go","po","Et","_o","yo","wo","At","bo","Eo","Ao","Qe","Tt","St","To","So","vo","Mo","st","Vt","Lo","Oo","Bo","Io","ko","Co","Po","Ro","Xo","Do","Go","No","Uo","Ho","Fo","vt","Mt","Ze","Lt","Ot","zo","jo","Vo","Bt","It","Wo","qo","kt","Pt","Ct","Jo","Qo","Zo","Ko","qt","xo","Ee","$o","De","xe","pe","ei","me","Yt","Ke","oi","Te","Ae","ii","ti","ni","Xe","si","ri","li","ai","ci","fi","wi"],"mappings":"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"}