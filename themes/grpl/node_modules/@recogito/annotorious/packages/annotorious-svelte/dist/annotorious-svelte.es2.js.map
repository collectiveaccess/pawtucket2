{"version":3,"file":"annotorious-svelte.es2.js","sources":["../src/MouseOverTooltip.svelte"],"sourcesContent":["<script lang=\"ts\">\n  import { getContext, onMount } from 'svelte';\n  import type { ImageAnnotation } from '@annotorious/annotorious';\n  import type { SvelteAnnotator } from '@annotorious/core';\n\n  export let container: Element;\n\n  const anno = getContext<SvelteAnnotator<ImageAnnotation>>('anno');\n\n  const { store, hover } = anno.state;\n\n  let top: number;\n\n  let left: number;\n\n  let show = true;\n\n  $: hovered = $hover ? store.getAnnotation($hover) : undefined;\n  \n  onMount(() => {\n    const onPointerEnter = () => {\n      show = true;\n    }\n\n    const onPointerMove = (event: PointerEvent) => {\n      const { offsetX, offsetY } = event;\n      left = offsetX;\n      top = offsetY;\n    }\n\n    const onPointerLeave = () => {\n      show = false;\n    }\n\n    container.addEventListener('pointerenter', onPointerEnter);\n    container.addEventListener('pointermove', onPointerMove);\n    container.addEventListener('pointerleave', onPointerLeave);\n\n    return () => {\n      container.removeEventListener('pointerenter', onPointerEnter);\n      container.removeEventListener('pointermove', onPointerMove);\n      container.removeEventListener('pointerleave', onPointerLeave);\n    }\n  });\n</script>\n\n{#if $hover && show}\n  <div \n    class=\"a9s-tooltip\" \n    style={`left:${left}px; top:${top}px; position: absolute;`}>\n\n    <slot hovered={hovered} />\n\n  </div>\n{/if}"],"names":["ctx","attr","div","div_style_value","insert","target","anchor","current","dirty","if_block","create_if_block","container","$$props","anno","getContext","store","hover","top","left","show","onMount","onPointerEnter","$$invalidate","onPointerMove","event","offsetX","offsetY","onPointerLeave","hovered","$hover"],"mappings":";;;;EAmDmBA,EAAO,CAAA;AAAA,EAAA;;;;;;;;;;;;;;;8DAFPC,EAAAC,GAAA,SAAAC,IAAA;AAAA,MAAAH;MAAeA,EAAG,CAAA,CAAA,yBAAA;AAAA;;AAFnC,MAAAI,EAMKC,GAAAH,GAAAI,CAAA;;;;;;;;;;;;;;;;;;;;;UAJY,CAAAC,KAAAC;AAAA,MAAA,KAAAL,OAAAA,IAAA;AAAA,MAAAH;MAAeA,EAAG,CAAA,CAAA;;;;;;;;;;;;;;YAHhCS;AAAA;AAAA,IAAAT;IAAUA,EAAI,CAAA,KAAAU,EAAAV,CAAA;AAAA;;;;;;;;;AAAd;AAAA,MAAAA;MAAUA,EAAI,CAAA;;;;;;;;;;;;;;;;;mDAzCN,WAAAW,EAAkB,IAAAC;QAEvBC,IAAOC,EAA6C,MAAM,GAExD,EAAA,OAAAC,GAAO,OAAAC,MAAUH,EAAK;;MAE1BI,GAEAC,GAEAC,IAAO;AAIX,SAAAC,EAAO,MAAA;UACCC,IAAc,MAAA;AAClB,MAAAC,EAAA,GAAAH,IAAO,EAAI;AAAA,OAGPI,IAAiB,CAAAC,MAAmB;cAChC,SAAAC,GAAS,SAAAC,EAAO,IAAKF;AAC7B,MAAAF,EAAA,GAAAJ,IAAOO,CAAO,GACdH,EAAA,GAAAL,IAAMS,CAAO;AAAA,OAGTC,IAAc,MAAA;AAClB,MAAAL,EAAA,GAAAH,IAAO,EAAK;AAAA;AAGd,WAAAR,EAAU,iBAAiB,gBAAgBU,CAAc,GACzDV,EAAU,iBAAiB,eAAeY,CAAa,GACvDZ,EAAU,iBAAiB,gBAAgBgB,CAAc;AAGvD,MAAAhB,EAAU,oBAAoB,gBAAgBU,CAAc,GAC5DV,EAAU,oBAAoB,eAAeY,CAAa,GAC1DZ,EAAU,oBAAoB,gBAAgBgB,CAAc;AAAA;;;;;SAxB/DL,EAAA,GAAEM,IAAUC,IAASd,EAAM,cAAcc,CAAM,IAAI,MAAS;AAAA;;;;;;;;"}