{"version":3,"file":"fetch.mjs","sources":["../../../node_modules/@iiif/parser/dist/upgrader/index.umd.js","../../../src/fetch.ts"],"sourcesContent":["var __defProp=Object.defineProperty,__defNormalProp=(e,t,i)=>t in e?__defProp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,__publicField=(e,t,i)=>(__defNormalProp(e,\"symbol\"!=typeof t?t+\"\":t,i),i);!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?t(exports):\"function\"==typeof define&&define.amd?define([\"exports\"],t):t((e=\"undefined\"!=typeof globalThis?globalThis:e||self).IIIFUpgrader={})}(this,(function(e){\"use strict\";const t=\"http://library.stanford.edu/iiif/image-api/compliance.html#level1\",i=\"http://library.stanford.edu/iiif/image-api/compliance.html#level2\",r=\"http://library.stanford.edu/iiif/image-api/conformance.html#level1\",n=\"http://library.stanford.edu/iiif/image-api/conformance.html#level2\",s=\"http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1\",a=\"http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2\",o=\"http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1\",c=\"http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2\",l=\"http://iiif.io/api/image/1/level1.json\",p=\"http://iiif.io/api/image/1/profiles/level1.json\",h=\"http://iiif.io/api/image/1/level2.json\",u=\"http://iiif.io/api/image/1/profiles/level2.json\",v=\"http://iiif.io/api/image/2/level1.json\",f=\"http://iiif.io/api/image/2/profiles/level1.json\",m=\"http://iiif.io/api/image/2/level2.json\",y=\"http://iiif.io/api/image/2/profiles/level2.json\",g=\"level1\",d=\"level2\",A=\"http://iiif.io/api/image/2/level1\",b=\"http://iiif.io/api/image/2/level2\",C=[A,b,t,i,r,n,s,a,o,c,l,p,h,u,v,f,m,y,g,d],x=[\"http://iiif.io/api/image/2/level0\",A,b,\"http://library.stanford.edu/iiif/image-api/compliance.html#level0\",t,i,\"http://library.stanford.edu/iiif/image-api/conformance.html#level0\",r,n,\"http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0\",s,a,\"http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level0\",o,c,\"http://iiif.io/api/image/1/level0.json\",\"http://iiif.io/api/image/1/profiles/level0.json\",l,p,h,u,\"http://iiif.io/api/image/2/level0.json\",\"http://iiif.io/api/image/2/profiles/level0.json\",v,f,m,y,\"level0\",g,d],w=[\"sc:Collection\",\"sc:Manifest\",\"sc:Canvas\",\"sc:AnnotationList\",\"oa:Annotation\",\"sc:Range\",\"sc:Layer\",\"sc:Sequence\",\"oa:Choice\",\"Service\",\"ContentResource\"];class L{constructor(e,t={}){__publicField(this,\"traversals\"),__publicField(this,\"options\"),this.traversals={collection:[],manifest:[],canvas:[],annotationList:[],sequence:[],annotation:[],contentResource:[],choice:[],range:[],service:[],layer:[],...e},this.options={convertPropsToArray:!0,mergeMemberProperties:!0,allowUndefinedReturn:!1,...t}}static all(e){return new L({collection:[e],manifest:[e],canvas:[e],annotationList:[e],sequence:[e],annotation:[e],contentResource:[e],choice:[e],range:[e],service:[e],layer:[e]})}traverseCollection(e){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseCollectionItems(e))),this.traversals.collection)}traverseCollectionItems(e){if(this.options.mergeMemberProperties){const t=[...(e.manifests||[]).map((e=>\"string\"==typeof e?{\"@id\":e,\"@type\":\"sc:Manifest\"}:e)),...(e.collections||[]).map((e=>\"string\"==typeof e?{\"@id\":e,\"@type\":\"sc:Collection\"}:e)),...e.members||[]];delete e.collections,delete e.manifests,e.members=t}return e.manifests&&(e.manifests=e.manifests.map((e=>this.traverseManifest(\"string\"==typeof e?{\"@id\":e,\"@type\":\"sc:Manifest\"}:e)))),e.collections&&(e.collections=e.collections.map((e=>this.traverseCollection(\"string\"==typeof e?{\"@id\":e,\"@type\":\"sc:Collection\"}:e)))),e.members&&(e.members=e.members.map((e=>\"string\"==typeof e?e:this.traverseUnknown(e)))),e}traverseManifest(e){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseManifestItems(e))),this.traversals.manifest)}traverseManifestItems(e){return e.sequences&&(e.sequences=e.sequences.map((e=>this.traverseSequence(e)))),e.structures&&(e.structures=e.structures.map((e=>this.traverseRange(e)))),e}traverseSequence(e){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseSequenceItems(e))),this.traversals.sequence)}traverseSequenceItems(e){return e.canvases&&(e.canvases=e.canvases.map((e=>this.traverseCanvas(e)))),e}traverseCanvas(e){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseCanvasItems(e))),this.traversals.canvas)}traverseCanvasItems(e){return e.images&&(e.images=e.images.map((e=>this.traverseAnnotation(e)))),e.otherContent&&(e.otherContent=e.otherContent.map((e=>this.traverseAnnotationList(e)))),e}traverseRange(e){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseRangeItems(e))),this.traversals.range)}traverseRangeItems(e){if(this.options.mergeMemberProperties){const t=[...(e.ranges||[]).map((e=>\"string\"==typeof e?{\"@id\":e,\"@type\":\"sc:Range\"}:e)),...(e.canvases||[]).map((e=>\"string\"==typeof e?{\"@id\":e,\"@type\":\"sc:Canvas\"}:e)),...e.members||[]];delete e.ranges,delete e.canvases,e.members=t.length?t.map((e=>this.traverseUnknown(e))):void 0}return e}traverseAnnotationList(e){const t=\"string\"==typeof e?{\"@id\":e,\"@type\":\"sc:AnnotationList\"}:e;return this.traverseType(this.traverseDescriptive(this.traverseAnnotationListItems(t)),this.traversals.annotationList)}traverseAnnotationListItems(e){return e.resources&&(e.resources=e.resources.map((e=>this.traverseAnnotation(e)))),e}traverseAnnotation(e){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseAnnotationItems(e))),this.traversals.annotation)}traverseAnnotationItems(e){return e.resource&&(Array.isArray(e.resource)?e.resource=e.resource.map((e=>this.traverseContentResource(e))):e.resource=this.traverseContentResource(e.resource)),e.on,e}traverseLayer(e){return this.traverseType(this.traverseLinking(this.traverseLayerItems(e)),this.traversals.layer)}traverseLayerItems(e){return e.otherContent&&(e.otherContent=e.otherContent.map((e=>this.traverseAnnotationList(e)))),e}traverseChoice(e){return this.traverseType(this.traverseChoiceItems(e),this.traversals.choice)}traverseChoiceItems(e){return e.default&&\"rdf:nil\"!==e.default&&(e.default=this.traverseContentResource(e.default)),e.item&&\"rdf:nil\"!==e.item&&(e.item=e.item.map((e=>this.traverseContentResource(e)))),e}traverseService(e){return this.traverseType(this.traverseLinking(e),this.traversals.service)}traverseContentResource(e){return\"oa:Choice\"===e[\"@type\"]?this.traverseChoice(e):this.traverseType(this.traverseDescriptive(this.traverseLinking(e)),this.traversals.contentResource)}traverseUnknown(e){if(!e[\"@type\"]||\"string\"==typeof e)return e;switch(function(e){if(null==e)throw new Error(\"Null or undefined is not a valid entity.\");if(Array.isArray(e))throw new Error(\"Array is not a valid entity\");if(\"object\"!=typeof e)throw new Error(typeof e+\" is not a valid entity\");if(\"string\"==typeof e[\"@type\"]){const t=w.indexOf(e[\"@type\"]);if(-1!==t)return w[t]}if(e.profile)return\"Service\";if(e.format)return\"ContentResource\";if(e[\"@type\"])return\"ContentResource\";throw new Error(\"Resource type is not known\")}(e)){case\"sc:Collection\":return this.traverseCollection(e);case\"sc:Manifest\":return this.traverseManifest(e);case\"sc:Canvas\":return this.traverseCanvas(e);case\"sc:Sequence\":return this.traverseSequence(e);case\"sc:Range\":return this.traverseRange(e);case\"oa:Annotation\":return this.traverseAnnotation(e);case\"sc:AnnotationList\":return this.traverseAnnotationList(e);case\"sc:Layer\":return this.traverseLayer(e);case\"Service\":return this.traverseService(e);case\"oa:Choice\":return this.traverseChoice(e);case\"ContentResource\":return this.traverseContentResource(e)}return e.profile?this.traverseService(e):e}traverseImageResource(e){const t=Array.isArray(e),i=Array.isArray(e)?e:[e],r=[];for(const n of i)\"string\"==typeof n?r.push(this.traverseContentResource({\"@id\":n,\"@type\":\"dctypes:Image\"})):r.push(this.traverseContentResource(n));return t||this.options.convertPropsToArray?r:r[0]}traverseDescriptive(e){return e.thumbnail&&(e.thumbnail=this.traverseImageResource(e.thumbnail)),e.logo&&(e.logo=this.traverseImageResource(e.logo)),e}traverseOneOrMoreServices(e){const t=Array.isArray(e),i=Array.isArray(e)?e:[e],r=[];for(const n of i)r.push(this.traverseService(n));return t||this.options.convertPropsToArray?r:r[0]}traverseLinking(e){return e.related&&(e.related=this.traverseOneOrManyType(e.related,this.traversals.contentResource)),e.rendering&&(e.rendering=this.traverseOneOrManyType(e.rendering,this.traversals.contentResource)),e.service&&(e.service=this.traverseOneOrMoreServices(e.service)),e.seeAlso&&(e.seeAlso=this.traverseOneOrManyType(e.seeAlso,this.traversals.contentResource)),e.within&&(\"string\"==typeof e.within||(e.within=this.traverseOneOrManyType(e.within,this.traversals.contentResource))),e.startCanvas&&(\"string\"==typeof e.startCanvas?e.startCanvas=this.traverseType({\"@id\":e.startCanvas,\"@type\":\"sc:Canvas\"},this.traversals.canvas):e.startCanvas&&this.traverseType(e.startCanvas,this.traversals.canvas)),e.contentLayer&&(\"string\"==typeof e.contentLayer?e.contentLayer=this.traverseLayer({\"@id\":e.contentLayer,\"@type\":\"sc:Layer\"}):e.contentLayer=this.traverseLayer(e.contentLayer)),e}traverseOneOrManyType(e,t){if(!Array.isArray(e)){if(!this.options.convertPropsToArray)return this.traverseType(e,t);e=[e]}return e.map((e=>this.traverseType(e,t)))}traverseType(e,t){return t.reduce(((e,t)=>{const i=t(e);return void 0!==i||this.options.allowUndefinedReturn?i:e}),e)}}const S=\"Attribution\",j=\"http://example.org/provider\",R=\"Unknown\";function I(e,t=\"none\"){if(!e)return{};const i=Array.isArray(e)?e:[e],r={};for(const n of i){if(\"string\"==typeof n){r[t]=r[t]?r[t]:[],r[t].push(n||\"\");continue}if(!n[\"@language\"]){r[t]=r[t]?r[t]:[],r[t].push(n[\"@value\"]||\"\");continue}const e=n[\"@language\"];r[e]=r[e]?r[e]:[],r[e].push(n[\"@value\"]||\"\")}return r}function T(e){return Array.isArray(e)?T(e.find((e=>\"string\"==typeof e))):-1!==x.indexOf(e)?\"level2\":-1!==C.indexOf(e)?\"level1\":\"string\"==typeof e?e:void 0}function k(e){for(const t of[\"sc\",\"oa\",\"dcterms\",\"dctypes\",\"iiif\"])if(e.startsWith(`${t}:`))return e.slice(t.length+1);return e}const O=[\"Collection\",\"Manifest\",\"Annotation\",\"AnnotationPage\",\"Range\",\"Service\"];function M(e){const t=e[\"@id\"]||e.id;let i=e[\"@type\"]||e.type;const r=e.profile||void 0,n=e[\"@context\"]||void 0;if(r){const e=function(e){switch(e){case\"http://iiif.io/api/image/2/level0.json\":case\"http://iiif.io/api/image/2/level1.json\":case\"http://iiif.io/api/image/2/level2.json\":return\"ImageService2\";case\"http://iiif.io/api/auth/1/kiosk\":case\"http://iiif.io/api/auth/1/login\":case\"http://iiif.io/api/auth/1/clickthrough\":case\"http://iiif.io/api/auth/1/external\":case\"http://iiif.io/api/auth/0/kiosk\":case\"http://iiif.io/api/auth/0/login\":case\"http://iiif.io/api/auth/0/clickthrough\":case\"http://iiif.io/api/auth/0/external\":return\"AuthCookieService1\";case\"http://iiif.io/api/auth/1/token\":case\"http://iiif.io/api/auth/0/token\":return\"AuthTokenService1\";case\"http://iiif.io/api/auth/1/logout\":case\"http://iiif.io/api/auth/0/logout\":return\"AuthLogoutService1\";case\"http://iiif.io/api/search/1/search\":case\"http://iiif.io/api/search/0/search\":return\"SearchService1\";case\"http://iiif.io/api/search/1/autocomplete\":case\"http://iiif.io/api/search/0/autocomplete\":return\"AutoCompleteService1\"}}(r);if(e)return e}if(n){const e=function(e){const t=Array.isArray(e)?e:[e];for(const i of t)switch(i){case\"http://iiif.io/api/image/2/context.json\":case\"http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2\":return\"ImageService2\";case\"http://iiif.io/api/image/1/context.json\":case\"http://library.stanford.edu/iiif/image-api/1.1/context.json\":return\"ImageService1\";case\"http://iiif.io/api/annex/openannotation/context.json\":return\"ImageApiSelector\"}}(n);if(e)return e}if(i){if(Array.isArray(i)){if(-1!==i.indexOf(\"oa:CssStylesheet\"))return\"CssStylesheet\";if(-1!==i.indexOf(\"cnt:ContentAsText\"))return\"TextualBody\";i=i[0]}for(const e of[\"sc\",\"oa\",\"dcterms\",\"dctypes\",\"iiif\"])if(i.startsWith(`${e}:`)){i=i.slice(e.length+1);break}switch(i){case\"Layer\":return\"AnnotationCollection\";case\"AnnotationList\":return\"AnnotationPage\";case\"cnt:ContentAsText\":return\"TextualBody\"}}if(i&&-1!==O.indexOf(i))return i;if(e.format){if(e.format.startsWith(\"image/\"))return\"Image\";if(e.format.startsWith(\"text/\"))return\"Text\";if(\"application/pdf\"===e.format)return\"Text\";if(e.format.startsWith(\"application/\"))return\"Dataset\"}return t&&(t.endsWith(\".jpg\")||t.endsWith(\".png\")||t.endsWith(\".jpeg\"))?\"Image\":i||\"unknown\"}const q=/http(s)?:\\/\\/(creativecommons.org|rightsstatements.org)[^\"'\\\\<\\n]+/gm;function P(e){const t=e.match(q);return t?t[0]:e}const _=[\"http://iiif.io/api/presentation/2/context.json\",\"http://iiif.io/api/image/2/context.json\",\"http://iiif.io/api/image/1/context.json\",\"http://library.stanford.edu/iiif/image-api/1.1/context.json\",\"http://iiif.io/api/search/1/context.json\",\"http://iiif.io/api/search/0/context.json\",\"http://iiif.io/api/auth/1/context.json\",\"http://iiif.io/api/auth/0/context.json\",\"http://iiif.io/api/annex/openannotation/context.json\"];function D(e){if(e){const t=Array.isArray(e)?e:[e],i=[];for(const e of t)\"http://iiif.io/api/presentation/2/context.json\"===e&&i.push(\"http://iiif.io/api/presentation/3/context.json\"),-1===_.indexOf(e)&&i.push(e);if(t.length)return 1===i.length?i[0]:i}}function U(e){for(const t in e)void 0!==e[t]&&null!==e[t]||delete e[t];return e}let $=0;function W(e,t){const i=encodeURI(e.id||e[\"@id\"]||\"\").trim();return i&&t?`${i}/${t}`:i||($++,`http://example.org/${e[\"@type\"]}${t?`/${t}`:\"\"}/${$}`)}function E(e){const t=[...e.behavior||[]];let i;return e.viewingHint&&t.push(e.viewingHint),Array.isArray(e.motivation)?i=e.motivation.map(k):e.motivation&&(i=k(e.motivation)),{\"@context\":e[\"@context\"]?D(e[\"@context\"]):void 0,id:(e[\"@id\"]||W(e)).trim(),type:M(e),behavior:t.length?t:void 0,height:e.height?e.height:void 0,width:e.width?e.width:void 0,motivation:i,viewingDirection:e.viewingDirection,profile:e.profile,format:e.format?e.format:void 0,duration:void 0,timeMode:void 0}}function F(e){const[t,i]=function(e,t=\"Rights/License\",i=\"none\"){let r=null;const n=[],s=Array.isArray(e)?e:[e];for(const a of s){const e=a?P(a):void 0;!e||-1===e.indexOf(\"creativecommons.org\")&&-1===e.indexOf(\"rightsstatements.org\")?e&&n.push({label:{[i]:[t]},value:{[i]:[e]}}):r=e.startsWith(\"https://\")?`http://${e.slice(8)}`:e}return[r,n]}(e.license),r=[...e.metadata?(n=e.metadata,n?n.map((e=>({label:I(e.label),value:I(e.value)}))):[]):[],...i];var n;return{rights:t,metadata:r.length?r:void 0,label:e.label?I(e.label):void 0,requiredStatement:e.attribution?{label:I(S),value:I(e.attribution)}:void 0,navDate:e.navDate,summary:e.description?I(e.description):void 0,thumbnail:e.thumbnail}}function H(e){if(!e.within)return;const t=Array.isArray(e.within)?e.within:[e.within],i=[];for(const r of t)if(\"string\"==typeof r){if(r&&\"sc:Manifest\"===e[\"@type\"])i.push({id:r,type:\"Collection\"})}else r[\"@id\"]&&i.push({id:r[\"@id\"],type:M(r)});return i.length?i:void 0}function N(e){const t=e.related?Array.isArray(e.related)?e.related:[e.related]:[],i=e.contentLayer;return{provider:e.logo||t.length?[{id:j,type:\"Agent\",homepage:t.length?[t[0]]:void 0,logo:e.logo?Array.isArray(e.logo)?e.logo:[e.logo]:void 0,label:I(R)}]:void 0,partOf:H(e),rendering:e.rendering,seeAlso:e.seeAlso,start:e.startCanvas,service:e.service?(r=e.service,Array.isArray(r)?r:[r]):void 0,supplementary:i?[i]:void 0};var r}function B(e){const t=e;return U({...E(t),...F(t),...N(t),...(i=t,{chars:i.chars,format:i.format?i.format:void 0,language:i.language})});var i}const z=new L({collection:[function(e){return U({...E(e),...F(e),...N(e),items:e.members})}],manifest:[function(e){const t=[],i=[];for(const n of e.sequences||[])n.canvases.length&&t.push(...n.canvases),n.behavior&&i.push(...n.behavior);const r=E(e);return i.length&&(r.behavior?r.behavior.push(...i):r.behavior=i),U({...r,...F(e),...N(e),items:t,structures:e.structures})}],canvas:[function(e){return U({...E(e),...F(e),...N(e),annotations:e.otherContent&&e.otherContent.length?e.otherContent:void 0,items:e.images&&e.images.length?[{id:W(e,\"annotation-page\"),type:\"AnnotationPage\",items:e.images}]:void 0})}],annotationList:[function(e){return U({...E(e),...F(e),...N(e),items:e.resources&&e.resources.length?e.resources:void 0})}],sequence:[function(e){return e.canvases&&0!==e.canvases.length?{canvases:e.canvases,behavior:e.viewingHint?[e.viewingHint]:[]}:{canvases:[],behavior:[]}}],annotation:[function(e){return U({...E(e),...F(e),...N(e),target:function e(t){if(Array.isArray(t)){if(t.length>1)return{type:\"List\",items:t.map(e)};t=t[0]}if(\"string\"==typeof t)return encodeURI(t).trim();if(\"@type\"in t){let e;if(\"string\"==typeof t.full)e=t.full;else if(\"dctypes:Image\"===t.full[\"@type\"])e={id:t.full[\"@id\"],type:\"Image\"};else{if(\"sc:Canvas\"!==t.full[\"@type\"])throw new Error(`Unsupported source type on annotation: ${t.full[\"@type\"]}`);e={id:t.full[\"@id\"],type:\"Canvas\"}}return{type:\"SpecificResource\",source:e,selector:G(t.selector)}}return encodeURI(t[\"@id\"]).trim()}(e.on),body:Array.isArray(e.resource)?e.resource.map(B):B(e.resource)})}],contentResource:[B],choice:[function(e){const t=[];return e.default&&\"rdf:nil\"!==e.default&&t.push(e.default),e.item&&\"rdf:nil\"!==e.item&&t.push(...e.item),{...E(e),...F(e),items:t}}],range:[function(e){return U({...E(e),...F(e),...N(e),items:e.members})}],service:[function(e){const{\"@id\":t,\"@type\":i,\"@context\":r,profile:n,...s}=e,a={};return t&&(a[\"@id\"]=t),a[\"@type\"]=M(e),\"unknown\"===a[\"@type\"]&&(r&&r.length&&(a[\"@context\"]=r),a[\"@type\"]=\"Service\"),n&&(a.profile=T(n)),U({...a,...s})}],layer:[function(e){return U({...E(e),...F(e),...N(e)})}]});function G(e){if((Array.isArray(e[\"@type\"])&&e[\"@type\"].includes(\"oa:SvgSelector\")||\"oa:SvgSelector\"==e[\"@type\"])&&(\"chars\"in e||\"value\"in e))return{type:\"SvgSelector\",value:\"chars\"in e?e.chars:e.value};if(\"oa:FragmentSelector\"===e[\"@type\"])return{type:\"FragmentSelector\",value:e.value};if(\"oa:Choice\"===e[\"@type\"])return[G(e.default),...(Array.isArray(e.item)?e.item:[e.item]).map(G)];if(\"iiif:ImageApiSelector\"==e[\"@type\"])return{type:\"ImageApiSelector\",region:\"region\"in e?e.region:void 0,rotation:\"rotation\"in e?e.rotation:void 0};throw new Error(`Unsupported selector type: ${e[\"@type\"]}`)}const J=function(e){return e&&e[\"@context\"]&&(\"http://iiif.io/api/presentation/2/context.json\"===e[\"@context\"]||-1!==e[\"@context\"].indexOf(\"http://iiif.io/api/presentation/2/context.json\")||\"http://www.shared-canvas.org/ns/context.json\"===e[\"@context\"])||\"http://iiif.io/api/image/2/context.json\"===e[\"@context\"]?z.traverseUnknown(e):e};e.upgrade=J,Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:\"Module\"}})}));\n//# sourceMappingURL=index.umd.js.map\n","import { Collection, Manifest } from '@iiif/presentation-3';\nimport { upgrade } from '@iiif/parser/upgrader';\n\nfunction fetchAndUpgrade(input: RequestInfo | URL, init?: RequestInit): Promise<Manifest | Collection> {\n  return fetch(input, init)\n    .then((resp) => resp.json())\n    .then(upgrade);\n}\n\nexport { fetchAndUpgrade as fetch };\n"],"names":["this","e","t","i","r","n","s","a","upgrade"],"mappings":"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"}