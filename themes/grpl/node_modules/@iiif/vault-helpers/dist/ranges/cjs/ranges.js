"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const o={},d={get(n){return n},setMetaValue([n,t,e],r){const s=d.getResourceMeta(n,t),c=s?s[e]:void 0,i=typeof r=="function"?r(c):r;o[n]={...o[n]||{},[t]:{...(o[n]||{})[t]||{},[e]:i}}},getResourceMeta:(n,t)=>{const e=o[n];if(!!e)return t?e[t]:e}};function l(n=d){return{findFirstCanvasFromRange:t=>u(n,t),findAllCanvasesInRange:t=>a(n,t),findManifestSelectedRange:(t,e)=>g(n,t,e),findSelectedRange:(t,e)=>f(n,t,e)}}function u(n,t){for(const e of t.items){if(e.type==="Canvas")return e;if(e.type==="Range"){const r=u(n,n.get(e));if(r)return r}}return null}function a(n,t){const e=[];for(const r of t.items)if(r.type==="Canvas"&&(r.id.indexOf("#")!==-1?e.push({id:r.id.split("#")[0],type:"Canvas"}):e.push(r)),r.type==="Range"&&e.push(...a(n,n.get(r))),r.type==="SpecificResource"){const s=typeof r.source=="string"?r.source:r.source.id;e.push({id:s,type:"Canvas"})}return e}function g(n,t,e){for(const r of t.structures){const s=f(n,n.get(r),e);if(s)return s}return null}function f(n,t,e){var r;for(const s of t.items){const c=(r=s.id)==null?void 0:r.split("#")[0];if(s.type==="SpecificResource"&&s.source===e||s.type==="Canvas"&&e===c)return t;if(s.type==="Range"){const i=f(n,n.get(s),e);if(i)return i}}return null}exports.createRangeHelper=l;exports.findAllCanvasesInRange=a;exports.findFirstCanvasFromRange=u;exports.findManifestSelectedRange=g;exports.findSelectedRange=f;
//# sourceMappingURL=ranges.js.map
