"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const a={},f={get(n){return n},setMetaValue([n,e,r],t){const o=f.getResourceMeta(n,e),s=o?o[r]:void 0,c=typeof t=="function"?t(s):t;a[n]={...a[n]||{},[e]:{...(a[n]||{})[e]||{},[r]:c}}},getResourceMeta:(n,e)=>{const r=a[n];if(!!r)return e?r[e]:r}};function M(n=f){return{addEventListener(e,r,t,o){if(!!e)return n.setMetaValue([e.id,"eventManager",r],s=>{const c=s||[];for(const u of c)if(u.callback===t)return c;return[...c,{callback:t,scope:o}]}),t},removeEventListener(e,r,t){!e||n.setMetaValue([e.id,"eventManager",r],o=>(o||[]).filter(s=>s.callback!==t))},getListenersAsProps(e,r){const t=typeof e=="string"?{id:e}:e;if(!t||!t.id)return{};const o=n.getResourceMeta(t.id,"eventManager"),s={};if(o&&t)for(const c of Object.keys(o))s[c]=u=>{const l=n.get(t);for(const{callback:g,scope:i}of o[c]||[])(!i||r&&i.indexOf(r)!==-1)&&g(u,l)};return s}}}exports.createEventsHelper=M;
//# sourceMappingURL=events.js.map
